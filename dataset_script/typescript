Script started on 2022-01-20 11:08:35+09:00 [TERM="xterm-256color" TTY="/dev/pts/2" COLUMNS="180" LINES="57"]
]0;kwanghokim@kwanghokim-750XDA: ~/workspace/backup_files/AOSP_battery_logging_221020/scripts[01;32mkwanghokim@kwanghokim-750XDA[00m:[01;34m~/workspace/backup_files/AOSP_battery_logging_221020/scripts[00m$ 
]0;kwanghokim@kwanghokim-750XDA: ~/workspace/backup_files/AOSP_battery_logging_221020/scripts[01;32mkwanghokim@kwanghokim-750XDA[00m:[01;34m~/workspace/backup_files/AOSP_battery_logging_221020/scripts[00m$ 
]0;kwanghokim@kwanghokim-750XDA: ~/workspace/backup_files/AOSP_battery_logging_221020/scripts[01;32mkwanghokim@kwanghokim-750XDA[00m:[01;34m~/workspace/backup_files/AOSP_battery_logging_221020/scripts[00m$ 
]0;kwanghokim@kwanghokim-750XDA: ~/workspace/backup_files/AOSP_battery_logging_221020/scripts[01;32mkwanghokim@kwanghokim-750XDA[00m:[01;34m~/workspace/backup_files/AOSP_battery_logging_221020/scripts[00m$ 
]0;kwanghokim@kwanghokim-750XDA: ~/workspace/backup_files/AOSP_battery_logging_221020/scripts[01;32mkwanghokim@kwanghokim-750XDA[00m:[01;34m~/workspace/backup_files/AOSP_battery_logging_221020/scripts[00m$ 
]0;kwanghokim@kwanghokim-750XDA: ~/workspace/backup_files/AOSP_battery_logging_221020/scripts[01;32mkwanghokim@kwanghokim-750XDA[00m:[01;34m~/workspace/backup_files/AOSP_battery_logging_221020/scripts[00m$ 
]0;kwanghokim@kwanghokim-750XDA: ~/workspace/backup_files/AOSP_battery_logging_221020/scripts[01;32mkwanghokim@kwanghokim-750XDA[00m:[01;34m~/workspace/backup_files/AOSP_battery_logging_221020/scripts[00m$ 
]0;kwanghokim@kwanghokim-750XDA: ~/workspace/backup_files/AOSP_battery_logging_221020/scripts[01;32mkwanghokim@kwanghokim-750XDA[00m:[01;34m~/workspace/backup_files/AOSP_battery_logging_221020/scripts[00m$ tmp2 script > tmp2.txt

ëª…ë ¹ì–´ 'tmp2' ì„(ë¥¼) ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ë‹¤ìŒ ëª…ë ¹ì–´ë¡œ ì‹œë„í•˜ì‹œê² ìŠµë‹ˆê¹Œ:

  deb tmpltmplì˜ ëª…ë ¹ì–´ ' (0.0~git20160209.0.8e77bc5-5)'

Try: sudo apt install <deb name>

]0;kwanghokim@kwanghokim-750XDA: ~/workspace/backup_files/AOSP_battery_logging_221020/scripts[01;32mkwanghokim@kwanghokim-750XDA[00m:[01;34m~/workspace/backup_files/AOSP_battery_logging_221020/scripts[00m$ perf script > perf.data.txt
failed to open perf.data: No such file or directory  (try 'perf record' first)
]0;kwanghokim@kwanghokim-750XDA: ~/workspace/backup_files/AOSP_battery_logging_221020/scripts[01;32mkwanghokim@kwanghokim-750XDA[00m:[01;34m~/workspace/backup_files/AOSP_battery_logging_221020/scripts[00m$ ls
[0m[01;34mbinary_cache[0m  [34;42mlogs[0m               measure_w_perf.py      parse_perf_output.py  [01;34msimpleperf[0m  [01;34mtmp[0m   tmp2.txt  tmp4
[01;34mkkk[0m           measure_script.py  parse_batterystats.py  perf.data.txt         testtest    tmp2  tmp3      typescript
]0;kwanghokim@kwanghokim-750XDA: ~/workspace/backup_files/AOSP_battery_logging_221020/scripts[01;32mkwanghokim@kwanghokim-750XDA[00m:[01;34m~/workspace/backup_files/AOSP_battery_logging_221020/scripts[00m$ vi measure_w_perf.py 
[?1049h[22;0;0t[>4;2m[?1h=[?2004h[1;57r[?12h[?12l[22;2t[22;1t[27m[23m[29m[m[H[2J[?25l[57;1H"measure_w_perf.py" 106L, 3188C[2;1Hâ–½[6n[2;1H  [1;1H[>c]10;?]11;?[1;1H[38;5;130m  1 [m[34m#!/home/seralee/.virtualenvs/myenv/bin/python[m
[38;5;130m  2 [m[35mimport[m os
[38;5;130m  3 [m[35mimport[m argparse
[38;5;130m  4 [m[35mimport[m time
[38;5;130m  5 [m[35mimport[m datetime
[38;5;130m  6 [m[35mfrom[m datetime [35mimport[m date
[38;5;130m  7 [m[35mfrom[m datetime [35mimport[m datetime
[38;5;130m  8 
  9 [m[35mimport[m sys
[38;5;130m 10 
 11 [m[35mfrom[m bs4 [35mimport[m BeautifulSoup
[38;5;130m 12 [m[35mimport[m heapq
[38;5;130m 13 
 14 [m[31m"""[m
[38;5;130m 15 [m[31mduration, start & end point[m
[38;5;130m 16 [m[31mtwo mode: measure number of instructions w/ perf and cpu consumpted power using batterystats[m
[38;5;130m 17 
 18 [m[31massume that: app already launched[m
[38;5;130m 19 [m[31m"""[m
[38;5;130m 20 
 21 def[m [36mexec_cmd[m(cmd):
[38;5;130m 22 [m  [36mprint[m(cmd)
[38;5;130m 23 [m  os.system(cmd)
[38;5;130m 24 
 25 def[m [36mmeasure_perf[m(package, duration, log_path):
[38;5;130m 26 [m  duration = duration
[38;5;130m 27 [m  log_perf_path = f[31m"{log_path}/perf.data"[m
[38;5;130m 28 [m  exec_cmd(f[31m"python simpleperf/app_profiler.py -p {package} -o {log_perf_path} -r '-e instructions -f 1000 --duration {duration} --call-graph fp'"[m)
[38;5;130m 29 [m  log_output_path = f[31m"{log_path}/perf_output"[m
[38;5;130m 30 [m  exec_cmd(f[31m"python simpleperf/report.py -i {log_path}/perf.data> {log_output_path}"[m)
[38;5;130m 31 
 32 def[m [36mexec_via_adb[m(cmd, target_device_id):
[38;5;130m 33 [m  os.system([31m"adb -s "[m + target_device_id + [31m" shell [m[35m\"[m[31m"[m + cmd + [31m"[m[35m\"[m[31m"[m)
[38;5;130m 34 
 35 def[m [36mpull_via_adb[m(target_device_id, from_file_path, to_file_path):
[38;5;130m 36 [m  os.system([31m"adb -s %s pull %s %s"[m % (target_device_id, [35m\[m
[38;5;130m 37 [m      from_file_path, to_file_path))
[38;5;130m 38 
 39 def[m [36mlog_batterystat[m(target_device_id, to_file_path):
[38;5;130m 40 [m  os.system([31m"adb -s %s root && adb -s %s shell 'chmod 777 /data/local/tmp' && adb -s %s shell 'setenforce 0' && adb -s %s shell dumpsys batterystats"[m % (target_device_id, targee[41;1H[38;5;130m    [mt_device_id, target_device_id, target_device_id))
[38;5;130m 41 
 42 [m  pull_via_adb(target_device_id, [31m"/data/local/tmp/log"[m, [35m\[m
[38;5;130m 43 [m      to_file_path)
[38;5;130m 44 def[m [36munplug[m(device_id):
[38;5;130m 45 [m  exec_via_adb([31m"dumpsys battery set ac 0; dumpsys battery set usb 0;"[m, device_id);
[38;5;130m 46 
 47 def[m [36mdisable_screen_off[m(target_device_id):
[38;5;130m 48 [m  exec_via_adb([31m"settings put system screen_off_timeout 100000000"[m, target_device_id)
[38;5;130m 49 def[m [36mplug[m(device_id):
[38;5;130m 50 [m  exec_via_adb([31m"dumpsys battery set ac 1; dumpsys battery set usb 1;"[m, device_id);
[38;5;130m 51 
 52 def[m [36mmeasure_batterystat[m(duration, log_path, target_device_id):
[38;5;130m 53 [m  exec_via_adb([31m"dumpsys batterystats --reset"[m, target_device_id)
[38;5;130m 54 [m  unplug(target_device_id)
[38;5;130m 55 [m  time.sleep(duration)[57;163H1,1[8Cê¼­ëŒ€ê¸°[1;5H[?25hP+q436f\P+q6b75\P+q6b64\P+q6b72\P+q6b6c\P+q2332\P+q2334\P+q2569\P+q2a37\P+q6b31\[27m[23m[29m[m[H[2J[?25l[1;1H[93m  1 [m[96m#!/home/seralee/.virtualenvs/myenv/bin/python[m
[93m  2 [m[38;5;81mimport[m os
[93m  3 [m[38;5;81mimport[m argparse
[93m  4 [m[38;5;81mimport[m time
[93m  5 [m[38;5;81mimport[m datetime
[93m  6 [m[38;5;81mfrom[m datetime [38;5;81mimport[m date
[93m  7 [m[38;5;81mfrom[m datetime [38;5;81mimport[m datetime
[93m  8 
  9 [m[38;5;81mimport[m sys
[93m 10 
 11 [m[38;5;81mfrom[m bs4 [38;5;81mimport[m BeautifulSoup
[93m 12 [m[38;5;81mimport[m heapq
[93m 13 
 14 [m[95m"""[m
[93m 15 [m[95mduration, start & end point[m
[93m 16 [m[95mtwo mode: measure number of instructions w/ perf and cpu consumpted power using batterystats[m
[93m 17 
 18 [m[95massume that: app already launched[m
[93m 19 [m[95m"""[m
[93m 20 
 21 [m[93mdef[m [1m[96mexec_cmd[m(cmd):
[93m 22 [m  [1m[96mprint[m(cmd)
[93m 23 [m  os.system(cmd)
[93m 24 
 25 [m[93mdef[m [1m[96mmeasure_perf[m(package, duration, log_path):
[93m 26 [m  duration = duration
[93m 27 [m  log_perf_path = f[95m"{log_path}/perf.data"[m
[93m 28 [m  exec_cmd(f[95m"python simpleperf/app_profiler.py -p {package} -o {log_perf_path} -r '-e instructions -f 1000 --duration {duration} --call-graph fp'"[m)
[93m 29 [m  log_output_path = f[95m"{log_path}/perf_output"[m
[93m 30 [m  exec_cmd(f[95m"python simpleperf/report.py -i {log_path}/perf.data> {log_output_path}"[m)
[93m 31 
 32 [m[93mdef[m [1m[96mexec_via_adb[m(cmd, target_device_id):
[93m 33 [m  os.system([95m"adb -s "[m + target_device_id + [95m" shell [m[38;5;224m\"[m[95m"[m + cmd + [95m"[m[38;5;224m\"[m[95m"[m)
[93m 34 
 35 [m[93mdef[m [1m[96mpull_via_adb[m(target_device_id, from_file_path, to_file_path):
[93m 36 [m  os.system([95m"adb -s %s pull %s %s"[m % (target_device_id, [38;5;224m\[m
[93m 37 [m      from_file_path, to_file_path))
[93m 38 
 39 [m[93mdef[m [1m[96mlog_batterystat[m(target_device_id, to_file_path):
[93m 40 [m  os.system([95m"adb -s %s root && adb -s %s shell 'chmod 777 /data/local/tmp' && adb -s %s shell 'setenforce 0' && adb -s %s shell dumpsys batterystats"[m % (target_device_id, targee[41;1H[93m    [mt_device_id, target_device_id, target_device_id))
[93m 41 
 42 [m  pull_via_adb(target_device_id, [95m"/data/local/tmp/log"[m, [38;5;224m\[m
[93m 43 [m      to_file_path)
[93m 44 [m[93mdef[m [1m[96munplug[m(device_id):
[93m 45 [m  exec_via_adb([95m"dumpsys battery set ac 0; dumpsys battery set usb 0;"[m, device_id);
[93m 46 
 47 [m[93mdef[m [1m[96mdisable_screen_off[m(target_device_id):
[93m 48 [m  exec_via_adb([95m"settings put system screen_off_timeout 100000000"[m, target_device_id)
[93m 49 [m[93mdef[m [1m[96mplug[m(device_id):
[93m 50 [m  exec_via_adb([95m"dumpsys battery set ac 1; dumpsys battery set usb 1;"[m, device_id);
[93m 51 
 52 [m[93mdef[m [1m[96mmeasure_batterystat[m(duration, log_path, target_device_id):
[93m 53 [m  exec_via_adb([95m"dumpsys batterystats --reset"[m, target_device_id)
[93m 54 [m  unplug(target_device_id)
[93m 55 [m  time.sleep(duration)[57;163H1,1[8Cê¼­ëŒ€ê¸°"measure_w_perf.py" 106L, 3188C[1;5H[?25h[?25l[57;163H55,3[56;7H[?25h[?25l[57;1H[K[57;1H:[?2004h[?25hQ[?25l[57;2H[K[57;2H[?25hq[?25l[?2004l[23;2t[23;1t[57;1H[K[57;1H[?2004l[?1l>[?25h[>4;m[?1049l[23;0;0t]0;kwanghokim@kwanghokim-750XDA: ~/workspace/backup_files/AOSP_battery_logging_221020/scripts[01;32mkwanghokim@kwanghokim-750XDA[00m:[01;34m~/workspace/backup_files/AOSP_battery_logging_221020/scripts[00m$ find 0[K0[K-name perf.data
./tmp/perf.data
./kkk/perf.data
./logs/perf_vari_apps/zepeto/Pixel_4a/logs_11041JEC218562/1/perf.data
./logs/perf_vari_apps/zepeto/Pixel_4a/logs_11041JEC218562/2/perf.data
./logs/perf_vari_apps/zepeto/Pixel_4a/logs_11041JEC218562/0/perf.data
./logs/perf_vari_apps/zepeto/Pixel_4XL/logs_9A301FFBA00A98/1/perf.data
./logs/perf_vari_apps/zepeto/Pixel_4XL/logs_9A301FFBA00A98/2/perf.data
./logs/perf_vari_apps/zepeto/Pixel_4XL/logs_9A301FFBA00A98/0/perf.data
./logs/perf_vari_apps/spotify/Pixel_4a/logs_11041JEC218562/1/perf.data
./logs/perf_vari_apps/spotify/Pixel_4a/logs_11041JEC218562/2/perf.data
./logs/perf_vari_apps/spotify/Pixel_4a/logs_11041JEC218562/0/perf.data
./logs/perf_vari_apps/spotify/Pixel_4XL/logs_9A301FFBA00A98/1/perf.data
./logs/perf_vari_apps/spotify/Pixel_4XL/logs_9A301FFBA00A98/2/perf.data
./logs/perf_vari_apps/spotify/Pixel_4XL/logs_9A301FFBA00A98/0/perf.data
./logs/perf_vari_apps/cake/1/Pixel_4a/logs_11041JEC218562/0/perf.data
./logs/perf_vari_apps/cake/1/Pixel_4XL/logs_9A301FFBA00A98/0/perf.data
./logs/perf_vari_apps/cake/2/Pixel_4a/logs_11041JEC218562/0/perf.data
./logs/perf_vari_apps/cake/2/Pixel_4XL/logs_9A301FFBA00A98/0/perf.data
./logs/perf_vari_apps/cake/0/Pixel_4a/logs_11041JEC218562/0/perf.data
./logs/perf_vari_apps/cake/0/Pixel_4XL/logs_9A301FFBA00A98/0/perf.data
./logs/perf_vari_apps/teamviewer/Pixel_4a/logs_11041JEC218562/1/perf.data
./logs/perf_vari_apps/teamviewer/Pixel_4a/logs_11041JEC218562/2/perf.data
./logs/perf_vari_apps/teamviewer/Pixel_4a/logs_11041JEC218562/0/perf.data
./logs/perf_vari_apps/teamviewer/Pixel_4XL/logs_9A301FFBA00A98/1/perf.data
./logs/perf_vari_apps/teamviewer/Pixel_4XL/logs_9A301FFBA00A98/2/perf.data
./logs/perf_vari_apps/teamviewer/Pixel_4XL/logs_9A301FFBA00A98/0/perf.data
./simpleperf/tmp/perf.data
]0;kwanghokim@kwanghokim-750XDA: ~/workspace/backup_files/AOSP_battery_logging_221020/scripts[01;32mkwanghokim@kwanghokim-750XDA[00m:[01;34m~/workspace/backup_files/AOSP_battery_logging_221020/scripts[00m$ 
]0;kwanghokim@kwanghokim-750XDA: ~/workspace/backup_files/AOSP_battery_logging_221020/scripts[01;32mkwanghokim@kwanghokim-750XDA[00m:[01;34m~/workspace/backup_files/AOSP_battery_logging_221020/scripts[00m$ s[Kls
[0m[01;34mbinary_cache[0m  [34;42mlogs[0m               measure_w_perf.py      parse_perf_output.py  [01;34msimpleperf[0m  [01;34mtmp[0m   tmp2.txt  tmp4
[01;34mkkk[0m           measure_script.py  parse_batterystats.py  perf.data.txt         testtest    tmp2  tmp3      typescript
]0;kwanghokim@kwanghokim-750XDA: ~/workspace/backup_files/AOSP_battery_logging_221020/scripts[01;32mkwanghokim@kwanghokim-750XDA[00m:[01;34m~/workspace/backup_files/AOSP_battery_logging_221020/scripts[00m$ ls[Klsfind -name perf.datavi measure_w_perf.py ls[Kperf script > perf.data.txt[5Ptmp2 script > tmp2.txt[2Pfastboot flashall -wadb reboot bootloadershell[Kfastboot flashall -wadb reboot bootloadersheel[Kls[Kdf -hadb shellgekkhellls[Kadb shellfastboot flashall -wadb reboot bootloadercd out[Kgrep -rn "play protect" ./vendor/opengapps[4Protect" ./vendor/opengapps/[3Pvi device/google/sunfish/device.mk m[Klunch aosp_sunfish-userdebug[2Psource ./build/envsetup.shcd ..[Kgit am -k 0001-add-patch.patch[1P[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cll[Kcd frameworks/base/ls[Kcd workspace/aosp_4a_lee/[Kls[Kdf -hrm -rf open_gapps/ls[Kdf -h^C
]0;kwanghokim@kwanghokim-750XDA: ~/workspace/backup_files/AOSP_battery_logging_221020/scripts[01;32mkwanghokim@kwanghokim-750XDA[00m:[01;34m~/workspace/backup_files/AOSP_battery_logging_221020/scripts[00m$ history
 1006  cd mini-emulator-x86
 1007  ls
 1008  cd ..
 1009  cd x86
 1010  ls
 1011  vi mini_x86.mk 
 1012  cd ..
 1013  cd x86_64/
 1014  ls
 1015  vi mini_x86_64.mk 
 1016  cd ..
 1017  grep -rn "aosp_x86_64"
 1018  vi generic/car/car_x86_64.mk
 1019  grep -rn "TARGET_PRODUCT"
 1020  vi generic/car/aosp_car_x86_64.mk
 1021  ls
 1022  cd generic/
 1023  ls
 1024  cd goldfish
 1025  ls
 1026  ls *.mk
 1027  vi x86_64-vendor.mk 
 1028  git add .
 1029  git commit 0s
 1030  git commit -s
 1031  git log
 1032  git show -1
 1033  ls
 1034  vi x86_64-vendor.mk
 1035  cd ../../../
 1036  ls
 1037  cd vendor/
 1038  ls
 1039  ll
 1040  cd opengapps/
 1041  ll
 1042  cd sources/
 1043  ls
 1044  ll
 1045  cd x86_64/
 1046  ls
 1047  ll
 1048  git lfs pull
 1049  git log
 1050  viH
 1051  vi HOWTO 
 1052  ls
 1053  cd app/
 1054  ls
 1055  cd ..
 1056  cd priv-app/
 1057  ls
 1058  cd ..
 1059  ls
 1060  vi HOWTO 
 1061  find -name add_*.sh
 1062  find -name *.sh
 1063  cd ..
 1064  ll
 1065  cd all
 1066  ls
 1067  ll
 1068  git lfs pull
 1069  git lfs
 1070  git lfs install
 1071  git lfs pull
 1072  cd ../../
 1073  ls
 1074  cd ..
 1075  ls
 1076  cd ..
 1077  ls
 1078  cd device/generic/goldfish
 1079  ls
 1080  vi vendor.mk 
 1081  df
 1082  cd ~/workspace/
 1083  ls
 1084  df
 1085  mkdir aosp
 1086  cd aosp
 1087  ls
 1088  ll
 1089  repo init -u https://android.googlesource.com/platform/manifest -b android-11.0.0_r43
 1090  ls
 1091  ll
 1092  cd .repo/
 1093  ls
 1094  cd manifests
 1095  cd ..
 1096  vi manifest.xml 
 1097  cd manifests
 1098  ls
 1099  vi GLOBAL-PREUPLOAD.cfg 
 1100  vi default.xml 
 1101  git diff
 1102  repo sync -j4
 1103  ll[A
 1104  vf ..
 1105  cd ..
 1106  ls
 1107  pwd
 1108  cd /home/kwanghokim/workspace/aosp
 1109  cd /home/kwanghokim/workspace/aosp/frameworks/base/core/java/com/android/internal/os
 1110  pwd
 1111  ls
 1112  git am -k 0001-add-patch-and-modify-for-batterystats.patch
 1113  cd ~/workspace/aosp
 1114  ls
 1115  cd device/
 1116  ls
 1117  cd generic/
 1118  l
 1119  ls
 1120  cd goldfish
 1121  ls
 1122  vi vendor.mk 
 1123  git diff
 1124  cd ../../../
 1125  ls
 1126  source ./build/envsetup.sh 
 1127  lunch
 1128  ls
 1129  cd vendor/opengapps/
 1130  ls
 1131  cd ..
 1132  repo sync -j4
 1133  source ./build/envsetup.sh
 1134  lunch
 1135  m
 1136  make
 1137  ls
 1138  make
 1139  ls
 1140  cd prebuilts/
 1141  ll
 1142  cd ..
 1143  df
 1144  vi .repo/manifests/default.xml 
 1145  repo sync
 1146  cd prebuilts/
 1147  ls
 1148  cd ..
 1149  ls
 1150  cd vendor/
 1151  ls
 1152  cd ..
 1153  vi .repo/manifests/default.xml 
 1154  git log
 1155  ll
 1156  cd .repo/
 1157  ls
 1158  ll
 1159  cd manifests
 1160  ll
 1161  git diff
 1162  git add .
 1163  git commit -s
 1164  git format-patch -k -1
 1165  git log
 1166  git reset --hard 04f6790a4be51fc6efc98dc6eeaa92308c283d8f
 1167  cd ../../
 1168  ls
 1169  repo sync
 1170  cd prebuilts/
 1171  ls
 1172  cd ..
 1173  cd .repo/manifests/
 1174  ls
 1175  git log
 1176  vi 0001-add-opengapps.patch 
 1177  git am -k 0001-add-opengapps.patch
 1178  cd ../../
 1179  ls
 1180  repo sync
 1181  ls
 1182  ls prebuilts/
 1183  vi device/generic/goldfish/vendor.mk 
 1184  cd frameworks/base/core/java/com/android/internal/os/
 1185  ls
 1186  git log
 1187  ls
 1188  ls -al
 1189  git am -k 0001-add-patch-and-modify-for-batterystats.patch
 1190  git show -1
 1191  cd ~/workspace/aosp
 1192  ls
 1193  source ./build/envsetup.sh
 1194  lunch
 1195  lunch aosp_x86_64-eng
 1196  m
 1197  git lfs install
 1198  repo forall -c git lfs pull
 1199  ls vendor/opengapps/sources/all/
 1200  m
 1201  lfs
 1202  git lfs
 1203  m
 1204  vi device/generic/goldfish/vendor.mk 
 1205  m
 1206  vi .repo/manifests/default.xml 
 1207  vi device/generic/goldfish/vendor.mk 
 1208  ls
 1209  cd vendor/
 1210  ls
 1211  cd opengapps/
 1212  cd ../../
 1213  sudo apt install git-lfs
 1214  repo forall -c git lfs pull
 1215  m
 1216  vi .repo/manifests/default.xml 
 1217  vi device/generic/goldfish/vendor.mk 
 1218  m
 1219  sudo docker -- run -p 5554:9999 gcr.io/android-battery-historian/stable:3.0 --port 9999
 1220  cd ..
 1221  rm -rf aosp
 1222  df
 1223  mkdir aosp_4a
 1224  cd aosp_4a/
 1225  repo init -u https://android.googlesource.com/platform/manifest -b android-10.0.0_r42
 1226  vi .repo/manifests/default.xml 
 1227  git diff
 1228  ls
 1229  cd .repo/manifests/
 1230  ls
 1231  git diff
 1232  git add .
 1233  git commit -s
 1234  git format-patch -k -1
 1235  cd ../../
 1236  s
 1237  ls
 1238  repo sync
 1239  repo sync -j --fail-fast
 1240  repo sync -j1 --fail-fast
 1241  ls
 1242  cd frameworks/base/core/java/com/android/internal/os/
 1243  ls
 1244  pwd
 1245  ls -al
 1246  pwd
 1247  cp -rf ~/workspace/backup_files/AOSP_battery_logging/os/* /home/kwanghokim/workspace/aosp_4a/frameworks/base/core/java/com/android/internal/os
 1248  ls -al
 1249  git add .
 1250  git commit -s
 1251  cd ../../../../../
 1252  cd ../../../
 1253  ls
 1254  source ./build/envsetup.sh
 1255  lunch
 1256  vi device/generic/goldfish/vendor.mk 
 1257  vi device/generic/goldfish/x86-vendor.mk 
 1258  cd device/generic/goldfish/
 1259  ls
 1260  ll
 1261  git add .
 1262  git commit -s
 1263  cd ../../../
 1264  ls
 1265  sudo apt install git-lfs
 1266  repo forall -c git lfs pull
 1267  git lfs install
 1268  repo forall -c git lfs pull
 1269  m
 1270  source ./build/envsetup.sh
 1271  lunch aosp_x86_64-eng
 1272  m
 1273  df
 1274  vi .repo/manifests/default.xml 
 1275  repo sync
 1276  source ./build/envsetup.sh
 1277  lunch aosp_x86_64-eng
 1278  m
 1279  cd device/generic/goldfish
 1280  ls
 1281  vi vendor.mk 
 1282  vi x86_64-vendor.mk 
 1283  git log
 1284  git diff
 1285  ls
 1286  git diff
 1287  repo status
 1288  cd ..
 1289  ls
 1290  ls -al frameworks/base/core/java/com/android/internal/os/
 1291  make
 1292  cd ..
 1293  mkdir aosp_4xl
 1294  cd aosp_4xl/
 1295  ls
 1296  repo init -u https://android.googlesource.com/platform/manifest -b android-10.0.0_r40
 1297  vi .repo/manifests/default.xml 
 1298  repo sync
 1299  repo sync -j1 --fail-fast
 1300  ã…£ã„´
 1301  ls
 1302  vi device/generic/goldfish/vendor.mk 
 1303  vi device/generic/goldfish/x86_64-vendor.mk 
 1304  git lfs install
 1305  repo forall -c git lfs pull
 1306  df
 1307  m
 1308  source ./build/envsetup.sh
 1309  lunch aosp_x86_64-eng
 1310  m
 1311  ls
 1312  cd vendor/
 1313  ls
 1314  cd opengapps/sources/
 1315  sudo apt install git-lfs
 1316  git-lfs install
 1317  m
 1318  cd ../
 1319  cd ..
 1320  vi device/generic/goldfish/x86_64-vendor.mk 
 1321  m
 1322  vi device/generic/goldfish/x86_64-vendor.mk 
 1323  m
 1324  df
 1325  repo status
 1326  cd device/generic/
 1327  ll
 1328  cd goldfish
 1329  ll
 1330  git status
 1331  cd ../../
 1332  cd ..
 1333  ls
 1334  df
 1335  vi device/generic/goldfish/vendor.mk 
 1336  df
 1337  make
 1338  lunch
 1339  make
 1340  ls
 1341  cd ..
 1342  ls
 1343  rm -rf aosp_4xl/
 1344  ls
 1345  df
 1346  ls
 1347  mkdir aosp_4xl
 1348  cd aosp_4
 1349  cd aosp_4xl/
 1350  repo init -u https://android.googlesource.com/platform/manifest -b android-10.0.0_r40
 1351  vi .repo/manifests/default.xml 
 1352  repo sync
 1353  repo -j1 --fail-fast
 1354  repo sync -j1 --fail-fast
 1355  source ./build/envsetup.sh
 1356  lunch aosp_x86_64-eng
 1357  m
 1358  sudo apt-get install m4 
 1359  m
 1360  git diff ./device/generic/goldfish
 1361  git diff ./device/generic/goldfish/
 1362  cd device/generic/goldfish
 1363  git diff
 1364  git log
 1365  cd ../../../
 1366  m
 1367  cd device/generic/goldfish
 1368  ls
 1369  git diff
 1370  vi x86_64-vendor.mk 
 1371  df
 1372  git status
 1373  git log
 1374  cd ../../../
 1375  m
 1376  vimdiff device/generic/goldfish ~/workspace/aosp_4a/device/generic/goldfish
 1377  m
 1378  vi device/generic/goldfish/tools/mk_combined_img.py
 1379  m
 1380  vi device/generic/goldfish/tools/mk_combined_img.py
 1381  m
 1382  vi device/generic/goldfish/tools/mk_combined_img.py
 1383  grep -rn excpet device/generic/goldfish/tools/
 1384  grep -rn "excpet" device/generic/goldfish/tools/
 1385  grep -rn "except" device/generic/goldfish/tools/
 1386  grep -rn "except" device/generic/goldfish/
 1387  grep -rn "except" device/generic/
 1388  grep -rn "except" device
 1389  vi device/generic/goldfish/tools/mk_combined_img.py
 1390  m
 1391  vi device/generic/goldfish/tools/mk_combined_img.py
 1392  m
 1393  cd device/generic/goldfish
 1394  git diff
 1395  cd tools/
 1396  git add .
 1397  git commit -s
 1398  git log
 1399  git reset --hard 7ebf0c30f1a630b98b6d366e8b9fde5249de0985
 1400  git diff
 1401  cd ../../../
 1402  cd ..
 1403  m
 1404  grep -rn "PARTITION_SIZE" ./device/generic/goldfish
 1405  grep -rn "BOARD_SUPER_PARTITION_SIZE" ./device/generic/
 1406  grep -rn "BOARD_SUPER_PARTITION_SIZE" ./device/
 1407  vi ./device/generic/goldfish/kernel-tests/goldfish_kernel_tests_x86_64.mk
 1408  m
 1409  vi ./device/generic/goldfish/kernel-tests/goldfish_kernel_tests_x86_64.mk
 1410  m
 1411  grep -rn "BOARD_SUPER_PARTITION_SIZE" ./device/
 1412  vi ./device/generic/goldfish/kernel-tests/goldfish_kernel_tests_x86_64.mk
 1413  m
 1414  lunch
 1415  m
 1416  cd ..
 1417  ls
 1418  cd workspace/aosp_4a/
 1419  cd ..
 1420  df -h
 1421  ls
 1422  cd workspace/aosp_4a/
 1423  ls
 1424  cd vendor/
 1425  ls
 1426  ll
 1427  cd opengapps/
 1428  ll
 1429  cd sources/
 1430  ll
 1431  cd a
 1432  cd all/
 1433  ll
 1434  cd ..
 1435  cd build/
 1436  ls
 1437  ll
 1438  cd modules/
 1439  ls
 1440  cd Chrome/
 1441  ls
 1442  ll
 1443  cd ..
 1444  ll
 1445  cd Videos
 1446  ls
 1447  ll
 1448  cd ..
 1449  la
 1450  cd ..
 1451  l
 1452  ls
 1453  cd ..
 1454  l
 1455  ls
 1456  cd sources/
 1457  ls
 1458  cd x86_64/
 1459  ls
 1460  ll
 1461  git lfs pull
 1462  ~/workspace/aosp_4a/
 1463  ls
 1464  cd ~/workspace/aosp_4a/
 1465  ls
 1466  vi device/generic/goldfish/vendor.mk 
 1467  vi device/generic/goldfish/x86_64-vendor.mk 
 1468  cd ..
 1469  df
 1470  ls
 1471  rm -rf aosp_4a/
 1472  ls
 1473  ll
 1474  df
 1475  mkdir aosp_4a
 1476  ls
 1477  cd aosp_4a/
 1478  repo init -u https://android.googlesource.com/platform/manifest -b android-10.0.0_r42
 1479  vi .repo/manifest.xml 
 1480  vi .repo/manifests/default.xml 
 1481  repo sync
 1482  repo sync -j1 --fail-fast
 1483  git lfs install
 1484  repo forall -c git lfs pull
 1485  vi device/generic/goldfish/x86_64-vendor.mk 
 1486  df
 1487  vi device/generic/goldfish/x86_64-vendor.mk 
 1488  source ./build/envsetup.sh
 1489  lunch aosp_x86_64-eng
 1490  lun
 1491  lunch
 1492  lunch aosp_x86_64-eng
 1493  m
 1494  vi device/generic/goldfish/
 1495  m
 1496  vi vendor/opengapps/build/config.mk
 1497  vi device/generic/goldfish/
 1498  m
 1499  vi device/generic/goldfish/x86_64-vendor.mk 
 1500  ls
 1501  cd vendor/n
 1502  cd vendor/
 1503  ls
 1504  cd ..
 1505  m
 1506  cd vendor/
 1507  ls
 1508  cd opengapps/
 1509  cd sources/
 1510  ls
 1511  cd ..
 1512  cd build/
 1513  ls
 1514  cd modules/
 1515  ls
 1516  ll
 1517  vi Android.mk
 1518  git diff
 1519  ll
 1520  ls
 1521  cd ../../../../
 1522  m
 1523  vi device/generic/goldfish/x86_64-vendor.mk 
 1524  m
 1525  history
 1526  source ./build/envsetup.sh
 1527  lunch
 1528  m
 1529  cd ..
 1530  ls
 1531  cd aosp_210105/
 1532  m
 1533  vi device/generic/goldfish/vendor.mk 
 1534  vi device/generic/goldfish/x86_64-vendor.mk 
 1535  m
 1536  cd vendor/opengapps/build/modules/
 1537  vi Android.mk
 1538  m
 1539  cd ../../../../
 1540  m
 1541  cd ..
 1542  ls
 1543  df -sh
 1544  df -h
 1545  du -sh
 1546  ã…£ã„´
 1547  ls
 1548  cd aosp_4a/
 1549  ls
 1550  m
 1551  cd vendor/opengapps/build/modules/
 1552  ls
 1553  vi Android
 1554  vi Android.mk 
 1555  cd ../../../../
 1556  m
 1557  vi device/generic/goldfish/x86_64-vendor.mk 
 1558  m
 1559  vi vendor/opengapps/build/modules/Android.mk 
 1560  m
 1561  cd .
 1562  cd ..
 1563  ls
 1564  rm -rf aosp_4a/ aosp_4xl/
 1565  sudo apt install ./slack-desktop-4.23.0-amd64.deb 
 1566  sudo dpkg --add-architecture i386
 1567  wget -nc https://dl.winehq.org/wine-builds/winehq.key
 1568  udo apt-key add winehq.key
 1569  sudo apt-key add winehq.key
 1570  sudo add-apt-repository 'deb https://dl.winehq.org/wine-builds/ubuntu/ hirsute main'
 1571  sudo apt update
 1572  sudo apt install --install-recommends winehq-stable
 1573  sudo apt-get install --install-recommends winehq-stable
 1574  WINEARCH=win32 winecfg
 1575  sudo apt install wine64 wine32
 1576  wine --version
 1577  wine cfg
 1578  WINEARCH=win32 winecfg
 1579  WINEARCH=win64 winecfg
 1580  LANG="ko_KR.UTF-8" wine ~/Downloads/KakaoTalk_Setup.exe
 1581  vi ~/Desktop/ì¹´ì¹´ì˜¤í†¡.desktop
 1582  vi ~/ë°”íƒ•í™”ë©´/ì¹´ì¹´ì˜¤í†¡.desktop 
 1583  vi ~/.local/share/applications/wine/Programs/ì¹´ì¹´ì˜¤í†¡/ì¹´ì¹´ì˜¤í†¡.desktop
 1584  vi ~/ë°”íƒ•í™”ë©´/ì¹´ì¹´ì˜¤í†¡.desktop 
 1585  df -h
 1586  ls
 1587  cd workspace/
 1588  ls
 1589  rm -rf aosp_210105
 1590  df -h
 1591  adb reboot
 1592  adb reboot bootloader
 1593  df
 1594  df
 1595  ls
 1596  cd workspace/
 1597  ls
 1598  rm -rf aosp_11_r43/
 1599  df
 1600  lsusb
 1601  lspci
 1602  adb
 1603  adb shell
 1604  ls
 1605  cd workspace/aosp_210105/
 1606  ls
 1607  cd device/generic/goldfish
 1608  ls
 1609  pwd
 1610  cd ~/workspace/
 1611  ls
 1612  mkdir aosp_4a
 1613  df -h
 1614  ls
 1615  cd aosp_4a/
 1616  repo init -u https://android.googlesource.com/platform/manifest -b android-10.0.0_r42
 1617  vi .repo/manifests/default.xml 
 1618  repo sync
 1619  repo sync -j1 --fail-fast
 1620  source ./build/envsetup.sh
 1621  lunch
 1622  lunch aosp_x86_64-eng
 1623  ls
 1624  m
 1625  lunch
 1626  m
 1627  vi device/generic/goldfish/tools/mk_combined_img.py
 1628  m
 1629  vi device/generic/goldfish/tools/mk_combined_img.py
 1630  m
 1631  vi device/generic/goldfish/tools/mk_combined_img.py4
 1632  vi device/generic/goldfish/tools/mk_combined_img.py
 1633  m
 1634  df -h
 1635  mkdir aosp_4a_sera
 1636  cd aosp_4a_sera/
 1637  repo init -u https://android.googlesource.com/platform/manifest -b android-10.0.0_r42 --partial-clone
 1638  cd ../../
 1639  ls
 1640  mkdir aosp_4a_sera
 1641  ls
 1642  cd aosp_4a_sera/
 1643  repo init -u https://android.googlesource.com/platform/manifest -b android-10.0.0_r42 --partial-clone
 1644  vi .repo/manifests/default.xml 
 1645  repo sync -j4 -c -q &&  repo forall -c git lfs pull
 1646  cd ..
 1647  rm -rf aosp_4a_sera/
 1648  mkdir aosp_4a_lee
 1649  cd aosp_4a_lee/
 1650  repo init -u https://android.googlesource.com/platform/manifest -b android-10.0.0_r42 --partial-clone
 1651  .repo/manifests/default.xml
 1652  vi .repo/manifests/default.xml
 1653  repo sync -j4 -c -q
 1654  repo sync -j1 --fail-fast
 1655  repo sync -l
 1656  repo forall -c git lfs pull
 1657  ls
 1658  wget https://dl.google.com/dl/android/aosp/google_devices-sunfish-qd4a.200317.024.a1-44c42f0b.tgz\?hl\=ko
 1659  ls
 1660  ls -al
 1661  wget https://dl.google.com/dl/android/aosp/qcom-sunfish-qd4a.200317.024.a1-c551c921.tgz\?hl\=ko
 1662  ls
 1663  file --help
 1664  file google_devices-sunfish-qd4a.200317.024.a1-44c42f0b.tgz\?hl=ko
 1665  ls
 1666  mv google_devices-sunfish-qd4a.200317.024.a1-44c42f0b.tgz\?hl=ko google.tzg
 1667  ls
 1668  tar -xvf google.tzg
 1669  ls
 1670  vi ext
 1671  vi extract-google_devices-sunfish.sh 
 1672  mv qcom-sunfish-qd4a.200317.024.a1-c551c921.tgz\?hl=ko qcom.tgz
 1673  ls
 1674  tar -xvf qcom.tgz
 1675  tail -n +315 extract-google_devices-sunfish.sh| tar -zxvf -
 1676  tail -n +315 extract-qcom-sunfish.sh| tar -zxvf -
 1677  vi device/google/sunfish/device.mk 
 1678  source ./build/envsetup.sh 
 1679  lunch
 1680  lunch aosp_sunfish-userdebug
 1681  m
 1682  adb reboot bootloader
 1683  cd workspace/aosp_4a_lee/
 1684  ls
 1685  cd out/
 1686  ls
 1687  cd workspace/aosp_4xl_lee/
 1688  env
 1689  env | grep "ANDROId_PRODUCT"
 1690  wget https://www.scootersoftware.com/bcompare-4.3.7.25118_amd64.deb
 1691  sudo apt-get update
 1692  sudo apt-get install gdebi-core
 1693  sudo gdebi bcompare-4.3.7.25118_amd64.deb
 1694  cd workspace/
 1695  ls
 1696  cd backup_files/
 1697  ls
 1698  cd AOSP_battery_logging/
 1699  ls
 1700  vi README.md 
 1701  refer script
 1702  ls
 1703  cd os/
 1704  ls
 1705  ll
 1706  pwd
 1707  cp ./* /home/kwanghokim/workspace/aosp_4a_lee/frameworks/base/core/java/com/android/internal/os
 1708  cd ~
 1709  ;s
 1710  ls
 1711  cd workspace/
 1712  ls
 1713  adb rppt
 1714  adb root
 1715  adb shell 'sqlite3 /data/data/com.google.android.gsf/databases/gservices.db "select * from main where name = \"android_id\";"'
 1716  adb shell su 0 /system/bin/phh-securize.sh
 1717  top
 1718  ls
 1719  cd backup_files/
 1720  ls
 1721  cd AOSP_battery_logging/
 1722  ls
 1723  cd os/
 1724  ls
 1725  vi BatteryStatsHelper.java 
 1726  ã…Šã…‡ ..
 1727  cd ..
 1728  ls
 1729  cd ..
 1730  ls
 1731  cd aosp_4a_lee/
 1732  ls
 1733  df
 1734  df -h
 1735  ls
 1736  cd workspace/
 1737  ls
 1738  cd aosp_4xl_lee/
 1739  ls
 1740  grep -rn "ANDROID_PRODUCT_OUT" ./
 1741  out
 1742  adb reboot bootloader
 1743  cd out/
 1744  ls
 1745  fastboot flashall -w
 1746  ã…£ã„´
 1747  ls
 1748  cd workspace/aosp_4a_lee/
 1749  l
 1750  ls
 1751  ls -al out/
 1752  vi device/google/sunfish/device.mk 
 1753  vi frameworks/base/core/java/com/android/internal/os/
 1754  cd frameworks/base/core/java/com/android/internal/os/
 1755  ls
 1756  git diff
 1757  cd ../../../
 1758  cd ..
 1759  cd out/
 1760  ls
 1761  ll
 1762  fastboot flashall -w
 1763  sudp apt install fastboot
 1764  sudo apt install fastboot
 1765  fastboot flashall -w
 1766  fastboot flashing unlock
 1767  fastboot flashall -w
 1768  vi ~/.bash.rc
 1769  vi ~/.bashrc
 1770  fastboot flashall
 1771  adb reboot bootloader
 1772  fastboot flashall -w
 1773  cd ..
 1774  grep -rn "ANDROID_PRODUCT_OUT" ./
 1775  adb devices
 1776  fastboot flashall -w
 1777  adb
 1778  adb devices
 1779  get oâ€ í•´ë‘ê³  í•˜ë©´ ëœë‹¤. -w ì˜µì…˜ì£¼ë©´ userdata ë“± íŒŒí‹°ì…˜ ë‚ ë¦¬ê³  ëª¨ë‘ flash
 1780  get ANDROID_PRODUCT_OUT
 1781  set ANDROID_PRODUCT_OUT
 1782  cd out/
 1783  pwd
 1784  set ANDROID_PRODUCT_OUT=/home/kwanghokim/workspace/aosp_4a_lee/out
 1785  adb reboot bootloader
 1786  fastboot flashall -w
 1787  env
 1788  env | grep vim
 1789  history
 1790  cd ..
 1791  m
 1792  ls
 1793  vi ./build/envsetup.sh 
 1794  source ./build/envsetup.sh
 1795  adb reboot bootloader
 1796  cd ot
 1797  cd out
 1798  fastboot flashall -w
 1799  lunch
 1800  fastboot flashall -w
 1801  cd ..
 1802  cd frameworks/base/core/java/com/android/internal/os
 1803  pwd
 1804  ll
 1805  pwd
 1806  ll
 1807  ls
 1808  cd ~/workspace/aosp_4a_lee/
 1809  ls
 1810  lunch
 1811  m
 1812  ~~
 1813  m
 1814  ls
 1815  cd frameworks/base/core/java/com/android/internal/os/
 1816  ls
 1817  git diff
 1818  ll
 1819  cd ..
 1820  ls
 1821  ll
 1822  cd ..
 1823  ls
 1824  ll
 1825  cd ..
 1826  ll
 1827  cd ..
 1828  ll
 1829  cd ..
 1830  ll
 1831  cd ..
 1832  ll
 1833  git diff
 1834  git status
 1835  git add .
 1836  git commit -s
 1837  cd ../..
 1838  cd frameworks/base/
 1839  git log
 1840  git format-patch -k -1
 1841  git reset --hard 53f2af9cebcb4fa47b8cd0ddc182e64e49dd81b2
 1842  git log
 1843  cd ../../
 1844  m
 1845  adb shell
 1846  cd workspace/aosp_4a_lee/
 1847  ls
 1848  source ./build/envsetup.sh
 1849  lunch aosp_sunfish-userdebug
 1850  m
 1851  cd out/
 1852  ls
 1853  adb reboot bootloader
 1854  fastboot flashall -w
 1855  adb root
 1856  adb shell 'sqlite3 /data/data/com.google.android.gsf/databases/gservices.db "select * from main where name = \"android_id\";"'
 1857  perf list
 1858  sudp perf list
 1859  sudo perf list
 1860  sudo perf top
 1861  sudo apt install simplescreenrecorder
 1862  adb shell
 1863  adb devices
 1864  adb shell
 1865  ls
 1866  cd workspace/
 1867  ls
 1868  cd aosp_4xl_lee/
 1869  ls
 1870  cd ..
 1871  ls
 1872  mkdir dump
 1873  ls
 1874  cd dump/
 1875  ls
 1876  mkdir 4xl
 1877  cd 4xl/
 1878  adb shell dumpsys batterystats > batterystats.txt
 1879  vi batterystats.txt 
 1880  adb shell dumpsys batterystats --checkin
 1881  adb shell dumpsys batterystats --reset
 1882  adb shell dumpsys batterystats | grep youtube
 1883  adb shell dumpsys batterystats
 1884  vi batterystats.txt
 1885  adb shell dumpsys batterystats
 1886  adb shell dumpsys batterystats --reset
 1887  adb shell dumpsys batterystats > batterystats2.txt
 1888  vi batterystats2.txt 
 1889  adb shell dumpsys batterystats > batterystats2.txt
 1890  vi batterystats2.txt 
 1891  adb shell dumpsys batterystats > batterystats3.txt
 1892  vi batterystats3.txt 
 1893  adb bugreport > bugreport3.zip
 1894  lsof -i:5554
 1895  sudo docker -- run -p 5554:9999 gcr.io/android-battery-historian/stable:3.0 --port 9999
 1896  perf
 1897  perf --version
 1898  adb shell
 1899  whereis perf
 1900  perf --version
 1901  sudo perf --version
 1902  sudp perf --help
 1903  sudo perf --help
 1904  adb shell
 1905  pwd
 1906  cd workspace/
 1907  sudo apt-get install flex bison libelf-dev libaudit-dev libdw-dev libunwind* python-dev binutils-dev libnuma-dev libgtk2.0-dev libbfd-dev libelf1 libperl-dev libnuma-dev libslang2 libslang2-dev libunwind8 libunwind8-dev binutils-multiarch-dev elfutils libiberty-dev
 1908  whereis perf
 1909  sudo perf --version
 1910  perf
 1911  sudo apt-get install linux-tools
 1912  sudo apt-get install linux-tools-5.11.0-46-generic
 1913  perf --version
 1914  sudo perf --version
 1915  sudo perf --help
 1916  sudo docker -- run -p 5554:9999 gcr.io/android-battery-historian/stable:3.0 --port 9999
 1917  udo apt install libdvdnav4 libdvdread4 gstreamer1.0-plugins-bad gstreamer1.0-plugins-ugly libdvd-pkg
 1918  ì¶œì²˜: https://testtube.tistory.com/entry/Ubuntu-MPEG-4-AAC-decoder-and-the-H264-decoder-Installation [BombBang's Factory]
 1919  ì¶œì²˜: https://testtube.tistory.com/entry/Ubuntu-MPEG-4-AAC-decoder-and-the-H264-decoder-Installation [BombBang's Factory]
 1920  sudo apt install libdvdnav4 libdvdread4 gstreamer1.0-plugins-bad gstreamer1.0-plugins-ugly libdvd-pkg
 1921  gkgkgk324
 1922  udo apt install libdvdnav4 libdvdread4 gstreamer1.0-plugins-bad gstreamer1.0-plugins-ugly libdvd-pkg
 1923  ì¶œì²˜: https://testtube.tistory.com/entry/Ubuntu-MPEG-4-AAC-decoder-and-the-H264-decoder-Installation [BombBang's Factory]
 1924  ì¶œì²˜: https://testtube.tistory.com/entry/Ubuntu-MPEG-4-AAC-decoder-and-the-H264-decoder-Installation [BombBang's Factory]
 1925  sudo apt install libdvdnav4 libdvdread4 gstreamer1.0-plugins-bad gstreamer1.0-plugins-ugly libdvd-pkg
 1926  sudo apt install ubuntu-restricted-extras
 1927  ddddddd
 1928  ffffff
 1929  aaaaaaaaaaa
 1930  bcccccccc
 1931  adb push * /data/temp_fixerror/
 1932  adb push * /data/local/tmp
 1933  adb install 1\ GPS\ By\ Ross.apk 
 1934  adb root
 1935  adb install 1\ GPS\ By\ Ross.apk 
 1936  adb remount
 1937  adb install 1\ GPS\ By\ Ross.apk 
 1938  df
 1939  adb root
 1940  adb remount
 1941  adb devices
 1942  adb push Fix\ GSM\ Play\ Protect\ Certified /data/media/download
 1943  adb push Fix\ GSM\ Play\ Protect\ Certified /data/local/tmp 
 1944  df -h
 1945  df
 1946  cd ..
 1947  cd workspace/
 1948  ls
 1949  du -sh aosp_4a_lee/
 1950  df
 1951  ls
 1952  du -sh open_gapps/
 1953  cd open_gapps/
 1954  ls
 1955  cd opengapps/
 1956  ls
 1957  cd ..
 1958  ls
 1959  cd ..
 1960  ls
 1961  df
 1962  df -sh
 1963  df -h
 1964  ls
 1965  rm -rf open_gapps/
 1966  df -h
 1967  df
 1968  ls
 1969  cd workspace/aosp_4
 1970  cd workspace/aosp_4a_lee/
 1971  ls
 1972  cd frameworks/base/
 1973  ll
 1974  git a -k 0001-add-patch.patch
 1975  git am -k 0001-add-patch.patch
 1976  cd ..
 1977  source ./build/envsetup.sh
 1978  lunch aosp_sunfish-userdebug
 1979  m
 1980  vi device/google/sunfish/device.mk 
 1981  grep -rn "protect" ./vendor/opengapps/
 1982  grep -rn "play protect" ./vendor/opengapps
 1983  cd out
 1984  adb reboot bootloader
 1985  fastboot flashall -w
 1986  adb shell
 1987  ls
 1988  adb shell
 1989  adb sgekk
 1990  adb shell
 1991  df -h
 1992  ls
 1993  adb sheel
 1994  adb reboot bootloader
 1995  fastboot flashall -w
 1996  adb shell
 1997  adb reboot bootloader
 1998  fastboot flashall -w
 1999  tmp2 script > tmp2.txt
 2000  perf script > perf.data.txt
 2001  ls
 2002  vi measure_w_perf.py 
 2003  find -name perf.data
 2004  ls
 2005  history
]0;kwanghokim@kwanghokim-750XDA: ~/workspace/backup_files/AOSP_battery_logging_221020/scripts[01;32mkwanghokim@kwanghokim-750XDA[00m:[01;34m~/workspace/backup_files/AOSP_battery_logging_221020/scripts[00m$ historyls[Kfind -name perf.datavi measure_w_perf.py ls[Kperf script > perf.data.txtls[Kvi measure_w_perf.py 
[?1049h[22;0;0t[>4;2m[?1h=[?2004h[1;57r[?12h[?12l[22;2t[22;1t[27m[23m[29m[m[H[2J[?25l[57;1H"measure_w_perf.py" 106L, 3188C[2;1Hâ–½[6n[2;1H  [1;1H[>c]10;?]11;?[1;1H[38;5;130m  1 [m[34m#!/home/seralee/.virtualenvs/myenv/bin/python[m
[38;5;130m  2 [m[35mimport[m os
[38;5;130m  3 [m[35mimport[m argparse
[38;5;130m  4 [m[35mimport[m time
[38;5;130m  5 [m[35mimport[m datetime
[38;5;130m  6 [m[35mfrom[m datetime [35mimport[m date
[38;5;130m  7 [m[35mfrom[m datetime [35mimport[m datetime
[38;5;130m  8 
  9 [m[35mimport[m sys
[38;5;130m 10 
 11 [m[35mfrom[m bs4 [35mimport[m BeautifulSoup
[38;5;130m 12 [m[35mimport[m heapq
[38;5;130m 13 
 14 [m[31m"""[m
[38;5;130m 15 [m[31mduration, start & end point[m
[38;5;130m 16 [m[31mtwo mode: measure number of instructions w/ perf and cpu consumpted power using batterystats[m
[38;5;130m 17 
 18 [m[31massume that: app already launched[m
[38;5;130m 19 [m[31m"""[m
[38;5;130m 20 
 21 def[m [36mexec_cmd[m(cmd):
[38;5;130m 22 [m  [36mprint[m(cmd)
[38;5;130m 23 [m  os.system(cmd)
[38;5;130m 24 
 25 def[m [36mmeasure_perf[m(package, duration, log_path):
[38;5;130m 26 [m  duration = duration
[38;5;130m 27 [m  log_perf_path = f[31m"{log_path}/perf.data"[m
[38;5;130m 28 [m  exec_cmd(f[31m"python simpleperf/app_profiler.py -p {package} -o {log_perf_path} -r '-e instructions -f 1000 --duration {duration} --call-graph fp'"[m)
[38;5;130m 29 [m  log_output_path = f[31m"{log_path}/perf_output"[m
[38;5;130m 30 [m  exec_cmd(f[31m"python simpleperf/report.py -i {log_path}/perf.data> {log_output_path}"[m)
[38;5;130m 31 
 32 def[m [36mexec_via_adb[m(cmd, target_device_id):
[38;5;130m 33 [m  os.system([31m"adb -s "[m + target_device_id + [31m" shell [m[35m\"[m[31m"[m + cmd + [31m"[m[35m\"[m[31m"[m)
[38;5;130m 34 
 35 def[m [36mpull_via_adb[m(target_device_id, from_file_path, to_file_path):
[38;5;130m 36 [m  os.system([31m"adb -s %s pull %s %s"[m % (target_device_id, [35m\[m
[38;5;130m 37 [m      from_file_path, to_file_path))
[38;5;130m 38 
 39 def[m [36mlog_batterystat[m(target_device_id, to_file_path):
[38;5;130m 40 [m  os.system([31m"adb -s %s root && adb -s %s shell 'chmod 777 /data/local/tmp' && adb -s %s shell 'setenforce 0' && adb -s %s shell dumpsys batterystats"[m % (target_device_id, targee[41;1H[38;5;130m    [mt_device_id, target_device_id, target_device_id))
[38;5;130m 41 
 42 [m  pull_via_adb(target_device_id, [31m"/data/local/tmp/log"[m, [35m\[m
[38;5;130m 43 [m      to_file_path)
[38;5;130m 44 def[m [36munplug[m(device_id):
[38;5;130m 45 [m  exec_via_adb([31m"dumpsys battery set ac 0; dumpsys battery set usb 0;"[m, device_id);
[38;5;130m 46 
 47 def[m [36mdisable_screen_off[m(target_device_id):
[38;5;130m 48 [m  exec_via_adb([31m"settings put system screen_off_timeout 100000000"[m, target_device_id)
[38;5;130m 49 def[m [36mplug[m(device_id):
[38;5;130m 50 [m  exec_via_adb([31m"dumpsys battery set ac 1; dumpsys battery set usb 1;"[m, device_id);
[38;5;130m 51 
 52 def[m [36mmeasure_batterystat[m(duration, log_path, target_device_id):
[38;5;130m 53 [m  exec_via_adb([31m"dumpsys batterystats --reset"[m, target_device_id)
[38;5;130m 54 [m  unplug(target_device_id)
[38;5;130m 55 [m  time.sleep(duration)[57;163H1,1[8Cê¼­ëŒ€ê¸°[1;5H[?25hP+q436f\P+q6b75\P+q6b64\P+q6b72\P+q6b6c\P+q2332\P+q2334\P+q2569\P+q2a37\P+q6b31\[27m[23m[29m[m[H[2J[?25l[1;1H[93m  1 [m[96m#!/home/seralee/.virtualenvs/myenv/bin/python[m
[93m  2 [m[38;5;81mimport[m os
[93m  3 [m[38;5;81mimport[m argparse
[93m  4 [m[38;5;81mimport[m time
[93m  5 [m[38;5;81mimport[m datetime
[93m  6 [m[38;5;81mfrom[m datetime [38;5;81mimport[m date
[93m  7 [m[38;5;81mfrom[m datetime [38;5;81mimport[m datetime
[93m  8 
  9 [m[38;5;81mimport[m sys
[93m 10 
 11 [m[38;5;81mfrom[m bs4 [38;5;81mimport[m BeautifulSoup
[93m 12 [m[38;5;81mimport[m heapq
[93m 13 
 14 [m[95m"""[m
[93m 15 [m[95mduration, start & end point[m
[93m 16 [m[95mtwo mode: measure number of instructions w/ perf and cpu consumpted power using batterystats[m
[93m 17 
 18 [m[95massume that: app already launched[m
[93m 19 [m[95m"""[m
[93m 20 
 21 [m[93mdef[m [1m[96mexec_cmd[m(cmd):
[93m 22 [m  [1m[96mprint[m(cmd)
[93m 23 [m  os.system(cmd)
[93m 24 
 25 [m[93mdef[m [1m[96mmeasure_perf[m(package, duration, log_path):
[93m 26 [m  duration = duration
[93m 27 [m  log_perf_path = f[95m"{log_path}/perf.data"[m
[93m 28 [m  exec_cmd(f[95m"python simpleperf/app_profiler.py -p {package} -o {log_perf_path} -r '-e instructions -f 1000 --duration {duration} --call-graph fp'"[m)
[93m 29 [m  log_output_path = f[95m"{log_path}/perf_output"[m
[93m 30 [m  exec_cmd(f[95m"python simpleperf/report.py -i {log_path}/perf.data> {log_output_path}"[m)
[93m 31 
 32 [m[93mdef[m [1m[96mexec_via_adb[m(cmd, target_device_id):
[93m 33 [m  os.system([95m"adb -s "[m + target_device_id + [95m" shell [m[38;5;224m\"[m[95m"[m + cmd + [95m"[m[38;5;224m\"[m[95m"[m)
[93m 34 
 35 [m[93mdef[m [1m[96mpull_via_adb[m(target_device_id, from_file_path, to_file_path):
[93m 36 [m  os.system([95m"adb -s %s pull %s %s"[m % (target_device_id, [38;5;224m\[m
[93m 37 [m      from_file_path, to_file_path))
[93m 38 
 39 [m[93mdef[m [1m[96mlog_batterystat[m(target_device_id, to_file_path):
[93m 40 [m  os.system([95m"adb -s %s root && adb -s %s shell 'chmod 777 /data/local/tmp' && adb -s %s shell 'setenforce 0' && adb -s %s shell dumpsys batterystats"[m % (target_device_id, targee[41;1H[93m    [mt_device_id, target_device_id, target_device_id))
[93m 41 
 42 [m  pull_via_adb(target_device_id, [95m"/data/local/tmp/log"[m, [38;5;224m\[m
[93m 43 [m      to_file_path)
[93m 44 [m[93mdef[m [1m[96munplug[m(device_id):
[93m 45 [m  exec_via_adb([95m"dumpsys battery set ac 0; dumpsys battery set usb 0;"[m, device_id);
[93m 46 
 47 [m[93mdef[m [1m[96mdisable_screen_off[m(target_device_id):
[93m 48 [m  exec_via_adb([95m"settings put system screen_off_timeout 100000000"[m, target_device_id)
[93m 49 [m[93mdef[m [1m[96mplug[m(device_id):
[93m 50 [m  exec_via_adb([95m"dumpsys battery set ac 1; dumpsys battery set usb 1;"[m, device_id);
[93m 51 
 52 [m[93mdef[m [1m[96mmeasure_batterystat[m(duration, log_path, target_device_id):
[93m 53 [m  exec_via_adb([95m"dumpsys batterystats --reset"[m, target_device_id)
[93m 54 [m  unplug(target_device_id)
[93m 55 [m  time.sleep(duration)[57;163H1,1[8Cê¼­ëŒ€ê¸°"measure_w_perf.py" 106L, 3188C[1;5H[?25h[?25l[57;163H2[2;5H[?25h[?25l[57;163H3[3;5H[?25h[?25l[57;163H4[4;5H[?25h[?25l[57;163H5[5;5H[?25h[?25l[57;163H6[6;5H[?25h[?25l[57;163H7[7;5H[?25h[?25l[57;163H8,0-1[8;5H[?25h[?25l[57;163H9,1  [9;5H[?25h[?25l[57;163H10,0-1[10;5H[?25h[?25l[57;164H1,1  [11;5H[?25h[?25l[57;164H2[12;5H[?25h[?25l[57;164H3,0-1[13;5H[?25h[?25l[57;164H4,1  [14;5H[?25h[?25l[57;164H5[15;5H[?25h[?25l[57;164H6[16;5H[?25h[?25l[57;164H7,0-1[17;5H[?25h[?25l[57;164H8,1  [18;5H[?25h[?25l[57;164H9[19;5H[?25h[?25l[57;163H20,0-1[20;5H[?25h[?25l[57;164H1,1  [21;5H[?25h[?25l[57;164H2[22;5H[?25h[?25l[57;164H3[23;5H[?25h[?25l[57;164H4,0-1[24;5H[?25h[?25l[57;164H5,1  [25;5H[?25h[?25l[57;164H6[26;5H[?25h[?25l[57;164H7[27;5H[?25h[?25l[57;164H8[28;5H[?25h[?25l[57;164H9[29;5H[?25h[?25l[57;163H30[30;5H[?25h[?25l[57;164H1,0-1[31;5H[?25h[?25l[57;164H2,1  [32;5H[?25h[?25l[57;164H3[33;5H[?25h[?25l[57;164H4,0-1[34;5H[?25h[?25l[57;164H5,1  [35;5H[?25h[?25l[57;164H6[36;5H[?25h[?25l[57;164H7[37;5H[?25h[?25l[57;164H8,0-1[38;5H[?25h[?25l[57;164H9,1  [39;5H[?25h[?25l[57;163H40[40;5H[?25h[?25l[57;164H1,0-1[42;5H[?25h[?25l[57;164H2,1  [43;5H[?25h[?25l[57;164H3[44;5H[?25h[?25l[57;164H4[45;5H[?25h[?25l[57;164H5[46;5H[?25h[?25l[57;164H6,0-1[47;5H[?25h[?25l[57;164H7,1  [48;5H[?25h[?25l[57;164H8[49;5H[?25h[?25l[57;164H9[50;5H[?25h[?25l[57;163H50[51;5H[?25h[?25l[57;164H1,0-1[52;5H[?25h[?25l[57;164H2,1  [53;5H[?25h[?25l[57;164H3[54;5H[?25h[?25l[57;164H4[55;5H[?25h[?25l[57;164H5[56;5H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 56 [m  plug(target_device_id)[57;1H[K[57;163H56,1[11C1%[56;5H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 57 [m  log_path = f[95m"{log_path}/batterystats"[m[57;163H[K[57;163H57,1[11C3%[56;5H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 58 [m  log_batterystat(target_device_id, log_path)[57;163H[K[57;163H58,1[11C5%[56;5H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 59 [m[57;163H[K[57;163H59,0-1[9C7%[56;5H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 60 [m[57;163H[K[57;163H60,0-1[9C9%[56;5H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 61 [m[57;163H[K[57;163H61,1[10C11%[56;5H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 62 [m[57;163H[K[57;163H62,0-1[8C13%[56;5H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 63 [m[93mif[m __name__ == [95m'__main__'[m:[57;163H[K[57;163H63,1[10C15%[56;5H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 64 [m[57;163H[K[57;163H64,0-1[8C17%[56;5H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 65 [m  parser = argparse.ArgumentParser(description=[95m'Execute the experiment'[m)[57;163H[K[57;163H65,1[10C19%[56;5H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 66 [m  parser.add_argument([95m'--desc'[m, [1m[96mtype[m=[1m[96mstr[m)[57;163H[K[57;163H66,1[10C21%[56;5H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 67 [m  parser.add_argument([95m'--device_id'[m, [1m[96mtype[m=[1m[96mstr[m, [1m[96mhelp[m=[95m"device_id"[m)[57;163H[K[57;163H67,1[10C23%[56;5H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 68 [m  parser.add_argument([95m'--device_model'[m, [1m[96mtype[m=[1m[96mstr[m, [1m[96mhelp[m=[95m"(Pixel_4a|Pixel_4XL)"[m)[57;163H[K[57;163H68,1[10C25%[56;5H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 69 [m  parser.add_argument([95m'--duration'[m, [1m[96mtype[m=[1m[96mint[m, [1m[96mhelp[m=[95m"duration (sec)"[m)[57;163H[K[57;163H69,1[10C27%[56;5H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 70 [m  parser.add_argument([95m'--repeat'[m, [1m[96mtype[m=[1m[96mint[m, [1m[96mhelp[m=[95m"repeatation"[m)[57;163H[K[57;163H70,1[10C29%[56;5H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 71 [m  parser.add_argument([95m'--package_name'[m, [1m[96mtype[m=[1m[96mstr[m, [1m[96mhelp[m=[95m"name of target pacakage"[m)[57;163H[K[57;163H71,1[10C31%[56;5H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 72 [m[57;163H[K[57;163H72,1[10C33%[56;5H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 73 [m[57;163H[K[57;163H73,0-1[8C35%[56;5H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 74 [m  args = parser.parse_args()[57;163H[K[57;163H74,1[10C37%[56;5H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 75 [m[57;163H[K[57;163H75,0-1[8C39%[56;5H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 76 [m  repeat = args.repeat[57;163H[K[57;163H76,1[10C41%[56;5H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 77 [m  desc = args.desc[57;163H[K[57;163H77,1[10C43%[56;5H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 78 [m  duration = args.duration[57;163H[K[57;163H78,1[10C45%[56;5H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 79 [m  device_id = args.device_id[57;163H[K[57;163H79,1[10C47%[56;5H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 80 [m  device_model = args.device_model[57;163H[K[57;163H80,1[10C49%[56;5H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 81 [m  target_package = args.package_name[57;163H[K[57;163H81,1[10C50%[56;5H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 82 [m[57;163H[K[57;163H82,0-1[8C52%[56;5H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 83 [m[57;163H[K[57;163H83,0-1[8C54%[56;5H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 84 [m  [93mfor[m repeat [93min[m [1m[96mrange[m(repeat):[57;163H[K[57;163H84,1[10C56%[56;5H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 85 [m    [96m#set log path[m[57;163H[K[57;163H85,1[10C58%[56;5H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 86 [m    log_path = f[95m"logs/{desc}/{device_model}/logs_{device_id}/{repeat}"[m[57;163H[K[57;163H86,1[10C60%[56;5H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 87 [m    exec_cmd(f[95m"mkdir -p {log_path}"[m)[57;163H[K[57;163H87,1[10C62%[56;5H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 88 [m    disable_screen_off(device_id)[57;163H[K[57;163H88,1[10C64%[56;5H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 89 [m[57;163H[K[57;163H89,0-1[8C66%[56;5H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 90 [m    [96m# measure perf [m[57;163H[K[57;163H90,1[10C68%[56;5H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 91 [m    measure_perf(target_package, duration, log_path)[57;163H[K[57;163H91,1[10C70%[56;5H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 92 [m[57;163H[K[57;163H92,0-1[8C72%[56;5H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 93 [m    time.sleep([95m2[m)[57;163H[K[57;163H93,1[10C74%[56;5H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 94 [m[57;163H[K[57;163H94,0-1[8C76%[56;5H[?25h[?25l[1;56r[1;1H[2M[1;57r[55;1H[93m 95 [m    [96m#measure batterystat[m
[93m 96 [m    [96m#measure_batterystat(duration, log_path, device_id)[m[57;163H[K[57;163H95,1[10C80%[55;5H[?25h[?25l[57;164H6[56;5H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 97 [m[57;163H[K[57;163H97,0-1[8C82%[56;5H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 98 [m    time.sleep([95m2[m)[57;163H[K[57;163H98,1[10C84%[56;5H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 99 [m[57;163H[K[57;163H99,0-1[8C86%[56;5H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m100 [m[57;163H[K[57;163H100,0-1[7C88%[56;5H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m101 [m[57;163H[K[57;163H101,0-1[7C90%[56;5H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m102 [m[57;163H[K[57;163H102,0-1[7C92%[56;5H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m103 [m[57;163H[K[57;163H103,0-1[7C94%[56;5H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m104 [m[57;163H[K[57;163H104,0-1[7C96%[56;5H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m105 [m[57;163H[K[57;163H105,0-1[7C98%[56;5H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m106 [m[57;163H[K[57;163H106,0-1      ë°”ë‹¥[56;5H[?25h[?25l[57;163H[K[57;1H:[?2004h[?25h...[?25l:![57;3H[K[57;3H[?25h[?25l:![?2004l[?1l>[?25h[>4;m[?1049l[23;0;0t

ê³„ì†í•˜ë ¤ë©´ ì—”í„° í˜¹ì€ ëª…ë ¹ì„ ì…ë ¥í•˜ì‹­ì‹œì˜¤[?1049h[22;0;0t[>4;2m[?1h=[?2004h[?25l[57;1H[K[57;1H:[?2004h[?25hQ[?25l[97m[41mE492: í¸ì§‘ê¸° ëª…ë ¹ì´ ì•„ë‹™ë‹ˆë‹¤: Q[?2004l[?2004h[27m[23m[29m[m[H[2J[1;1H[93m 51 
 52 [m[93mdef[m [1m[96mmeasure_batterystat[m(duration, log_path, target_device_id):
[93m 53 [m  exec_via_adb([95m"dumpsys batterystats --reset"[m, target_device_id)
[93m 54 [m  unplug(target_device_id)
[93m 55 [m  time.sleep(duration)
[93m 56 [m  plug(target_device_id)
[93m 57 [m  log_path = f[95m"{log_path}/batterystats"[m
[93m 58 [m  log_batterystat(target_device_id, log_path)
[93m 59 
 60 
 61 
 62 
 63 [m[93mif[m __name__ == [95m'__main__'[m:
[93m 64 
 65 [m  parser = argparse.ArgumentParser(description=[95m'Execute the experiment'[m)
[93m 66 [m  parser.add_argument([95m'--desc'[m, [1m[96mtype[m=[1m[96mstr[m)
[93m 67 [m  parser.add_argument([95m'--device_id'[m, [1m[96mtype[m=[1m[96mstr[m, [1m[96mhelp[m=[95m"device_id"[m)
[93m 68 [m  parser.add_argument([95m'--device_model'[m, [1m[96mtype[m=[1m[96mstr[m, [1m[96mhelp[m=[95m"(Pixel_4a|Pixel_4XL)"[m)
[93m 69 [m  parser.add_argument([95m'--duration'[m, [1m[96mtype[m=[1m[96mint[m, [1m[96mhelp[m=[95m"duration (sec)"[m)
[93m 70 [m  parser.add_argument([95m'--repeat'[m, [1m[96mtype[m=[1m[96mint[m, [1m[96mhelp[m=[95m"repeatation"[m)
[93m 71 [m  parser.add_argument([95m'--package_name'[m, [1m[96mtype[m=[1m[96mstr[m, [1m[96mhelp[m=[95m"name of target pacakage"[m)
[93m 72 
 73 
 74 [m  args = parser.parse_args()
[93m 75 
 76 [m  repeat = args.repeat
[93m 77 [m  desc = args.desc
[93m 78 [m  duration = args.duration
[93m 79 [m  device_id = args.device_id
[93m 80 [m  device_model = args.device_model
[93m 81 [m  target_package = args.package_name
[93m 82 
 83 
 84 [m  [93mfor[m repeat [93min[m [1m[96mrange[m(repeat):
[93m 85 [m    [96m#set log path[m
[93m 86 [m    log_path = f[95m"logs/{desc}/{device_model}/logs_{device_id}/{repeat}"[m
[93m 87 [m    exec_cmd(f[95m"mkdir -p {log_path}"[m)
[93m 88 [m    disable_screen_off(device_id)
[93m 89 
 90 [m    [96m# measure perf [m
[93m 91 [m    measure_perf(target_package, duration, log_path)
[93m 92 
 93 [m    time.sleep([95m2[m)
[93m 94 
 95 [m    [96m#measure batterystat[m
[93m 96 [m    [96m#measure_batterystat(duration, log_path, device_id)[m
[93m 97 
 98 [m    time.sleep([95m2[m)
[93m 99 
100 
101 
102 
103 
104 
105 
106 [m[57;163H106,0-1      ë°”ë‹¥[56;5H[?25h[?25l[57;163H[K[57;1H:[?2004hq[?25h[?25l[?2004l[23;2t[23;1t[?2004l[?1l>[?25h[>4;m[?1049l[23;0;0t
]0;kwanghokim@kwanghokim-750XDA: ~/workspace/backup_files/AOSP_battery_logging_221020/scripts[01;32mkwanghokim@kwanghokim-750XDA[00m:[01;34m~/workspace/backup_files/AOSP_battery_logging_221020/scripts[00m$ LS
LS: ëª…ë ¹ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤
]0;kwanghokim@kwanghokim-750XDA: ~/workspace/backup_files/AOSP_battery_logging_221020/scripts[01;32mkwanghokim@kwanghokim-750XDA[00m:[01;34m~/workspace/backup_files/AOSP_battery_logging_221020/scripts[00m$ ls
[0m[01;34mbinary_cache[0m  [34;42mlogs[0m               measure_w_perf.py      parse_perf_output.py  [01;34msimpleperf[0m  [01;34mtmp[0m   tmp2.txt  tmp4
[01;34mkkk[0m           measure_script.py  parse_batterystats.py  perf.data.txt         testtest    tmp2  tmp3      typescript
]0;kwanghokim@kwanghokim-750XDA: ~/workspace/backup_files/AOSP_battery_logging_221020/scripts[01;32mkwanghokim@kwanghokim-750XDA[00m:[01;34m~/workspace/backup_files/AOSP_battery_logging_221020/scripts[00m$ vi measure_script.py 
[?1049h[22;0;0t[>4;2m[?1h=[?2004h[1;57r[?12h[?12l[22;2t[22;1t[27m[23m[29m[m[H[2J[?25l[57;1H"measure_script.py" 85L, 2294C[2;1Hâ–½[6n[2;1H  [1;1H[>c]10;?]11;?[1;1H[38;5;130m  1 [m[34m#!/home/seralee/.virtualenvs/myenv/bin/python[m
[38;5;130m  2 [m[35mimport[m os
[38;5;130m  3 [m[35mimport[m argparse
[38;5;130m  4 [m[35mimport[m time
[38;5;130m  5 [m[35mimport[m datetime
[38;5;130m  6 [m[35mfrom[m datetime [35mimport[m date
[38;5;130m  7 [m[35mfrom[m datetime [35mimport[m datetime
[38;5;130m  8 
  9 [m[35mimport[m sys
[38;5;130m 10 
 11 [m[35mfrom[m bs4 [35mimport[m BeautifulSoup
[38;5;130m 12 [m[35mimport[m heapq
[38;5;130m 13 
 14 
 15 def[m [36mexec_cmd[m(cmd):
[38;5;130m 16 [m  [36mprint[m(cmd)
[38;5;130m 17 [m  os.system(cmd)
[38;5;130m 18 
 19 
 20 def[m [36mexec_via_adb[m(cmd, target_device_id):
[38;5;130m 21 [m  os.system([31m"adb -s "[m + target_device_id + [31m" shell [m[35m\"[m[31m"[m + cmd + [31m"[m[35m\"[m[31m"[m)
[38;5;130m 22 
 23 def[m [36mpull_via_adb[m(target_device_id, from_file_path, to_file_path):
[38;5;130m 24 [m  os.system([31m"adb -s %s pull %s %s"[m % (target_device_id, [35m\[m
[38;5;130m 25 [m      from_file_path, to_file_path))
[38;5;130m 26 
 27 def[m [36mlog_batterystat[m(target_device_id, to_file_path):
[38;5;130m 28 [m  os.system([31m"adb -s %s root && adb -s %s shell 'chmod 777 /data/local/tmp' && adb -s %s shell 'setenforce 0' && adb -s %s shell dumpsys batterystats"[m % (target_device_id, targee[29;1H[38;5;130m    [mt_device_id, target_device_id, target_device_id))
[38;5;130m 29 
 30 [m  pull_via_adb(target_device_id, [31m"/data/local/tmp/log"[m, [35m\[m
[38;5;130m 31 [m      to_file_path)
[38;5;130m 32 def[m [36munplug[m(device_id):
[38;5;130m 33 [m  exec_via_adb([31m"dumpsys battery set ac 0; dumpsys battery set usb 0;"[m, device_id);
[38;5;130m 34 
 35 def[m [36mplug[m(device_id):
[38;5;130m 36 [m  exec_via_adb([31m"dumpsys battery set ac 1; dumpsys battery set usb 1;"[m, device_id);
[38;5;130m 37 
 38 def[m [36mmeasure_batterystat[m(duration, log_path, target_device_id):
[38;5;130m 39 [m  exec_via_adb([31m"dumpsys batterystats --reset"[m, target_device_id)
[38;5;130m 40 [m  unplug(target_device_id)
[38;5;130m 41 [m  [34m#put what you measure through batterystats[m
[38;5;130m 42 [m  time.sleep(duration)
[38;5;130m 43 [m  plug(target_device_id)
[38;5;130m 44 [m  log_path = f[31m"{log_path}/batterystats"[m
[38;5;130m 45 [m  log_batterystat(target_device_id, log_path)
[38;5;130m 46 
 47 
 48 
 49 
 50 if[m __name__ == [31m'__main__'[m:
[38;5;130m 51 
 52 [m  parser = argparse.ArgumentParser(description=[31m'Execute the experiment'[m)
[38;5;130m 53 [m  parser.add_argument([31m'--desc'[m, [36mtype[m=[36mstr[m)
[38;5;130m 54 [m  parser.add_argument([31m'--device_id'[m, [36mtype[m=[36mstr[m, [36mhelp[m=[31m"device_id"[m)
[38;5;130m 55 [m  parser.add_argument([31m'--duration'[m, [36mtype[m=[36mint[m, [36mhelp[m=[31m"duration (sec)"[m)[57;163H1,1[8Cê¼­ëŒ€ê¸°[1;5H[?25hP+q436f\P+q6b75\P+q6b64\P+q6b72\P+q6b6c\P+q2332\P+q2334\P+q2569\P+q2a37\P+q6b31\[27m[23m[29m[m[H[2J[?25l[1;1H[93m  1 [m[96m#!/home/seralee/.virtualenvs/myenv/bin/python[m
[93m  2 [m[38;5;81mimport[m os
[93m  3 [m[38;5;81mimport[m argparse
[93m  4 [m[38;5;81mimport[m time
[93m  5 [m[38;5;81mimport[m datetime
[93m  6 [m[38;5;81mfrom[m datetime [38;5;81mimport[m date
[93m  7 [m[38;5;81mfrom[m datetime [38;5;81mimport[m datetime
[93m  8 
  9 [m[38;5;81mimport[m sys
[93m 10 
 11 [m[38;5;81mfrom[m bs4 [38;5;81mimport[m BeautifulSoup
[93m 12 [m[38;5;81mimport[m heapq
[93m 13 
 14 
 15 [m[93mdef[m [1m[96mexec_cmd[m(cmd):
[93m 16 [m  [1m[96mprint[m(cmd)
[93m 17 [m  os.system(cmd)
[93m 18 
 19 
 20 [m[93mdef[m [1m[96mexec_via_adb[m(cmd, target_device_id):
[93m 21 [m  os.system([95m"adb -s "[m + target_device_id + [95m" shell [m[38;5;224m\"[m[95m"[m + cmd + [95m"[m[38;5;224m\"[m[95m"[m)
[93m 22 
 23 [m[93mdef[m [1m[96mpull_via_adb[m(target_device_id, from_file_path, to_file_path):
[93m 24 [m  os.system([95m"adb -s %s pull %s %s"[m % (target_device_id, [38;5;224m\[m
[93m 25 [m      from_file_path, to_file_path))
[93m 26 
 27 [m[93mdef[m [1m[96mlog_batterystat[m(target_device_id, to_file_path):
[93m 28 [m  os.system([95m"adb -s %s root && adb -s %s shell 'chmod 777 /data/local/tmp' && adb -s %s shell 'setenforce 0' && adb -s %s shell dumpsys batterystats"[m % (target_device_id, targee[29;1H[93m    [mt_device_id, target_device_id, target_device_id))
[93m 29 
 30 [m  pull_via_adb(target_device_id, [95m"/data/local/tmp/log"[m, [38;5;224m\[m
[93m 31 [m      to_file_path)
[93m 32 [m[93mdef[m [1m[96munplug[m(device_id):
[93m 33 [m  exec_via_adb([95m"dumpsys battery set ac 0; dumpsys battery set usb 0;"[m, device_id);
[93m 34 
 35 [m[93mdef[m [1m[96mplug[m(device_id):
[93m 36 [m  exec_via_adb([95m"dumpsys battery set ac 1; dumpsys battery set usb 1;"[m, device_id);
[93m 37 
 38 [m[93mdef[m [1m[96mmeasure_batterystat[m(duration, log_path, target_device_id):
[93m 39 [m  exec_via_adb([95m"dumpsys batterystats --reset"[m, target_device_id)
[93m 40 [m  unplug(target_device_id)
[93m 41 [m  [96m#put what you measure through batterystats[m
[93m 42 [m  time.sleep(duration)
[93m 43 [m  plug(target_device_id)
[93m 44 [m  log_path = f[95m"{log_path}/batterystats"[m
[93m 45 [m  log_batterystat(target_device_id, log_path)
[93m 46 
 47 
 48 
 49 
 50 [m[93mif[m __name__ == [95m'__main__'[m:
[93m 51 
 52 [m  parser = argparse.ArgumentParser(description=[95m'Execute the experiment'[m)
[93m 53 [m  parser.add_argument([95m'--desc'[m, [1m[96mtype[m=[1m[96mstr[m)
[93m 54 [m  parser.add_argument([95m'--device_id'[m, [1m[96mtype[m=[1m[96mstr[m, [1m[96mhelp[m=[95m"device_id"[m)
[93m 55 [m  parser.add_argument([95m'--duration'[m, [1m[96mtype[m=[1m[96mint[m, [1m[96mhelp[m=[95m"duration (sec)"[m)[57;163H1,1[8Cê¼­ëŒ€ê¸°"measure_script.py" 85L, 2294C[1;5H[?25h[?25l[57;163H2[2;5H[?25h[?25l[57;163H3[3;5H[?25h[?25l[57;163H4[4;5H[?25h[?25l[57;163H5[5;5H[?25h[?25l[57;163H6[6;5H[?25h[?25l[57;163H7[7;5H[?25h[?25l[57;163H8,0-1[8;5H[?25h[?25l[57;163H9,1  [9;5H[?25h[?25l[57;163H10,0-1[10;5H[?25h[?25l[57;164H1,1  [11;5H[?25h[?25l[57;164H2[12;5H[?25h[?25l[57;164H3,0-1[13;5H[?25h[?25l[57;164H4[14;5H[?25h[?25l[57;164H5,1  [15;5H[?25h[?25l[57;164H6[16;5H[?25h[?25l[57;164H7[17;5H[?25h[?25l[57;164H8,0-1[18;5H[?25h[?25l[57;164H9[19;5H[?25h[?25l[57;163H20,1  [20;5H[?25h[?25l[57;164H1[21;5H[?25h[?25l[57;164H2,0-1[22;5H[?25h[?25l[57;164H3,1  [23;5H[?25h[?25l[57;164H4[24;5H[?25h[?25l[57;164H5[25;5H[?25h[?25l[57;164H6,0-1[26;5H[?25h[?25l[57;164H7,1  [27;5H[?25h[?25l[57;164H8[28;5H[?25h[?25l[57;164H9,0-1[30;5H[?25h[?25l[57;163H30,1  [31;5H[?25h[?25l[57;164H1[32;5H[?25h[?25l[57;164H2[33;5H[?25h[?25l[57;164H3[34;5H[?25h[?25l[57;164H4,0-1[35;5H[?25h[?25l[57;164H5,1  [36;5H[?25h[?25l[57;164H6[37;5H[?25h[?25l[57;164H7,0-1[38;5H[?25h[?25l[57;164H8,1  [39;5H[?25h[?25l[57;164H9[40;5H[?25h[?25l[57;163H40[41;5H[?25h[?25l[57;164H1[42;5H[?25h[?25l[57;164H2[43;5H[?25h[?25l[57;164H3[44;5H[?25h[?25l[57;164H4[45;5H[?25h[?25l[57;164H5[46;5H[?25h[?25l[57;164H6,0-1[47;5H[?25h[?25l[57;164H7[48;5H[?25h[?25l[57;164H8,1  [49;5H[?25h[?25l[57;164H9,0-1[50;5H[?25h[?25l[57;163H50,1  [51;5H[?25h[?25l[57;164H1,0-1[52;5H[?25h[?25l[57;164H2,1  [53;5H[?25h[?25l[57;164H3[54;5H[?25h[?25l[57;164H4[55;5H[?25h[?25l[57;164H5[56;5H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 56 [m  parser.add_argument([95m'--repeat'[m, [1m[96mtype[m=[1m[96mint[m, [1m[96mhelp[m=[95m"repeatation"[m)[57;1H[K[57;163H56,1[11C3%[56;5H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 57 [m  parser.add_argument([95m'--package_name'[m, [1m[96mtype[m=[1m[96mstr[m, [1m[96mhelp[m=[95m"name of target pacakage"[m)[57;163H[K[57;163H57,1[11C6%[56;5H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 58 [m[57;163H[K[57;163H58,1[10C10%[56;5H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 59 [m[57;163H[K[57;163H59,0-1[8C13%[56;5H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 60 [m  args = parser.parse_args()[57;163H[K[57;163H60,1[10C16%[56;5H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 61 [m[57;163H[K[57;163H61,0-1[8C20%[56;5H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 62 [m  repeat = args.repeat[57;163H[K[57;163H62,1[10C23%[56;5H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 63 [m  desc = args.desc[57;163H[K[57;163H63,1[10C26%[56;5H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 64 [m  duration = args.duration[57;163H[K[57;163H64,1[10C30%[56;5H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 65 [m  device_id = args.device_id[57;163H[K[57;163H65,1[10C33%[56;5H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 66 [m  target_package = args.package_name[57;163H[K[57;163H66,1[10C36%[56;5H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 67 [m[57;163H[K[57;163H67,0-1[8C40%[56;5H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 68 [m[57;163H[K[57;163H68,0-1[8C43%[56;5H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 69 [m  [93mfor[m repeat [93min[m [1m[96mrange[m(repeat):[57;163H[K[57;163H69,1[10C46%[56;5H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 70 [m    [96m#set log path[m[57;163H[K[57;163H70,1[10C50%[56;5H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 71 [m    log_path = f[95m"logs/{desc}/logs_{device_id}/{repeat}"[m[57;163H[K[57;163H71,1[10C53%[56;5H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 72 [m    exec_cmd(f[95m"mkdir -p {log_path}"[m)[57;163H[K[57;163H72,1[10C56%[56;5H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 73 [m[57;163H[K[57;163H73,0-1[8C60%[56;5H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 74 [m    [96m#measure batterystat[m[57;163H[K[57;163H74,1[10C63%[56;5H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 75 [m    measure_batterystat(duration, log_path, device_id)[57;163H[K[57;163H75,1[10C66%[56;5H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 76 [m[57;163H[K[57;163H76,0-1[8C70%[56;5H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 77 [m    time.sleep([95m2[m)[57;163H[K[57;163H77,1[10C73%[56;5H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 78 [m[57;163H[K[57;163H78,0-1[8C76%[56;5H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 79 [m[57;163H[K[57;163H79,0-1[8C80%[56;5H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 80 [m[57;163H[K[57;163H80,0-1[8C83%[56;5H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 81 [m[57;163H[K[57;163H81,0-1[8C86%[56;5H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 82 [m[57;163H[K[57;163H82,0-1[8C90%[56;5H[?25h[?25l[1;56r[1;1H[2M[1;57r[55;1H[93m 83 
 84 [m[57;163H[K[57;163H83,0-1[8C96%[55;5H[?25h[?25l[57;164H4[56;5H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 85 [m[57;163H[K[57;163H85,0-1[7Cë°”ë‹¥[56;5H[?25h[?25l[57;164H4[55;5H[?25h[?25l[57;164H3[54;5H[?25h[?25l[57;164H2[53;5H[?25h[?25l[57;164H1[52;5H[?25h[?25l[57;164H0[51;5H[?25h[?25l[57;163H79[50;5H[?25h[?25l[57;164H8[49;5H[?25h[?25l[57;164H7,1  [48;5H[?25h[?25l[57;164H6,0-1[47;5H[?25h[?25l[57;164H5,1  [46;5H[?25h[?25l[57;164H4[45;5H[?25h[?25l[57;164H3,0-1[44;5H[?25h[?25l[57;164H2,1  [43;5H[?25h[?25l[57;164H1[42;5H[?25h[?25l[57;164H0[41;5H[?25h[?25l[57;163H69[40;5H[?25h[?25l[57;164H8,0-1[39;5H[?25h[?25l[57;164H7[38;5H[?25h[?25l[57;164H6,1  [37;5H[?25h[?25l[57;164H5[36;5H[?25h[?25l[57;164H4[35;5H[?25h[?25l[57;164H3[34;5H[?25h[?25l[57;164H2[33;5H[?25h[?25l[57;164H1,0-1[32;5H[?25h[?25l[57;164H0,1  [31;5H[?25h[?25l[57;163H59,0-1[30;5H[?25h[?25l[57;164H8,1  [29;5H[?25h[?25l[57;164H7[28;5H[?25h[?25l[57;164H6[27;5H[?25h[?25l[57;164H5[26;5H[?25h[?25l[57;164H4[25;5H[?25h[?25l[57;164H3[24;5H[?25h[?25l[57;164H2[23;5H[?25h[?25l[57;164H1,0-1[22;5H[?25h[?25l[57;164H0,1  [21;5H[?25h[?25l[57;163H49,0-1[20;5H[?25h[?25l[57;164H8,1  [19;5H[?25h[?25l[57;164H7,0-1[18;5H[?25h[?25l[57;164H6[17;5H[?25h[?25l[57;164H5,1  [16;5H[?25h[?25l[57;164H4[15;5H[?25h[?25l[57;164H3[14;5H[?25h[?25l[57;164H2[13;5H[?25h[?25l[57;164H1[12;5H[?25h[?25l[57;164H0[11;5H[?25h[?25l[57;163H39[10;5H[?25h[?25l[57;164H8[9;5H[?25h[?25l[57;164H7,0-1[8;5H[?25h[?25l[57;164H6,1  [7;5H[?25h[?25l[57;164H5[6;5H[?25h[?25l[57;164H4,0-1[5;5H[?25h[?25l[57;164H3,1  [4;5H[?25h[?25l[57;164H2[3;5H[?25h[?25l[57;164H1[2;5H[?25h[?25l[57;164H0[1;5H[?25h[?25l[1;56r[1;1H[L[1;57r[1;1H[93m 29 [m[57;163H[K[57;163H29,0-1[8C96%[1;5H[?25h[?25l[1;56r[1;1H[2L[1;57r[1;1H[93m 28 [m  os.system([95m"adb -s %s root && adb -s %s shell 'chmod 777 /data/local/tmp' && adb -s %s shell 'setenforce 0' && adb -s %s shell dumpsys batterystats"[m % (target_device_id, targee[2;1H[93m    [mt_device_id, target_device_id, target_device_id))[57;163H[K[57;163H28,1[10C90%[1;5H[?25h[?25l[1;56r[1;1H[L[1;57r[1;1H[93m 27 [m[93mdef[m [1m[96mlog_batterystat[m(target_device_id, to_file_path):[57;163H[K[57;163H27,1[10C86%[1;5H[?25h[?25l[1;56r[1;1H[L[1;57r[1;1H[93m 26 [m[57;163H[K[57;163H26,0-1[8C83%[1;5H[?25h[?25l[1;56r[1;1H[L[1;57r[1;1H[93m 25 [m      from_file_path, to_file_path))[57;163H[K[57;163H25,1[10C80%[1;5H[?25h[?25l[1;56r[1;1H[L[1;57r[1;1H[93m 24 [m  os.system([95m"adb -s %s pull %s %s"[m % (target_device_id, [38;5;224m\[m[57;163H[K[57;163H24,1[10C76%[1;5H[?25h[?25l[1;56r[1;1H[L[1;57r[1;1H[93m 23 [m[93mdef[m [1m[96mpull_via_adb[m(target_device_id, from_file_path, to_file_path):[57;163H[K[57;163H23,1[10C73%[1;5H[?25h[?25l[1;56r[1;1H[L[1;57r[1;1H[93m 22 [m[57;163H[K[57;163H22,0-1[8C70%[1;5H[?25h[?25l[1;56r[1;1H[L[1;57r[1;1H[93m 21 [m  os.system([95m"adb -s "[m + target_device_id + [95m" shell [m[38;5;224m\"[m[95m"[m + cmd + [95m"[m[38;5;224m\"[m[95m"[m)[57;163H[K[57;163H21,1[10C66%[1;5H[?25h[?25l[1;56r[1;1H[L[1;57r[1;1H[93m 20 [m[93mdef[m [1m[96mexec_via_adb[m(cmd, target_device_id):[57;163H[K[57;163H20,1[10C63%[1;5H[?25h[?25l[1;56r[1;1H[L[1;57r[1;1H[93m 19 [m[57;163H[K[57;163H19,0-1[8C60%[1;5H[?25h[?25l[1;56r[1;1H[L[1;57r[1;1H[93m 18 [m[57;163H[K[57;163H18,0-1[8C56%[1;5H[?25h[?25l[1;56r[1;1H[L[1;57r[1;1H[93m 17 [m  os.system(cmd)[57;163H[K[57;163H17,1[10C53%[1;5H[?25h[?25l[1;56r[1;1H[L[1;57r[1;1H[93m 16 [m  [1m[96mprint[m(cmd)[57;163H[K[57;163H16,1[10C50%[1;5H[?25h[?25l[1;56r[1;1H[L[1;57r[1;1H[93m 15 [m[93mdef[m [1m[96mexec_cmd[m(cmd):[57;163H[K[57;163H15,1[10C46%[1;5H[?25h[?25l[1;56r[1;1H[L[1;57r[1;1H[93m 14 [m[57;163H[K[57;163H14,0-1[8C43%[1;5H[?25h[?25l[1;56r[1;1H[L[1;57r[1;1H[93m 13 [m[57;163H[K[57;163H13,0-1[8C40%[1;5H[?25h[?25l[1;56r[1;1H[L[1;57r[1;1H[93m 12 [m[38;5;81mimport[m heapq[57;163H[K[57;163H12,1[10C36%[1;5H[?25h[?25l[1;56r[1;1H[L[1;57r[1;1H[93m 11 [m[38;5;81mfrom[m bs4 [38;5;81mimport[m BeautifulSoup[57;163H[K[57;163H11,1[10C33%[1;5H[?25h[?25l[1;56r[1;1H[L[1;57r[1;1H[93m 10 [m[57;163H[K[57;163H10,0-1[8C30%[1;5H[?25h[?25l[1;56r[1;1H[L[1;57r[1;1H[93m  9 [m[38;5;81mimport[m sys[57;163H[K[57;163H9,1[11C26%[1;5H[?25h[?25l[1;56r[1;1H[L[1;57r[1;1H[93m  8 [m[57;163H[K[57;163H8,0-1[9C23%[1;5H[?25h[?25l[1;56r[1;1H[L[1;57r[1;1H[93m  7 [m[38;5;81mfrom[m datetime [38;5;81mimport[m datetime[57;163H[K[57;163H7,1[11C20%[1;5H[?25h[?25l[1;56r[1;1H[L[1;57r[1;1H[93m  6 [m[38;5;81mfrom[m datetime [38;5;81mimport[m date[57;163H[K[57;163H6,1[11C16%[1;5H[?25h[?25l[1;56r[1;1H[L[1;57r[1;1H[93m  5 [m[38;5;81mimport[m datetime[57;163H[K[57;163H5,1[11C13%[1;5H[?25h[?25l[1;56r[1;1H[L[1;57r[1;1H[93m  4 [m[38;5;81mimport[m time[57;163H[K[57;163H4,1[11C10%[1;5H[?25h[?25l[57;163H5[2;5H[?25h[?25l[57;163H6[3;5H[?25h[?25l[57;163H7[4;5H[?25h[?25l[57;163H8,0-1[5;5H[?25h[?25l[57;163H9,1  [6;5H[?25h[?25l[57;163H10,0-1[7;5H[?25h[?25l[57;164H1,1  [8;5H[?25h[?25l[57;164H2[9;5H[?25h[?25l[57;164H3,0-1[10;5H[?25h[?25l[57;164H4[11;5H[?25h[?25l[57;164H5,1  [12;5H[?25h[?25l[57;164H6[13;5H[?25h[?25l[57;164H7[14;5H[?25h[?25l[57;164H8,0-1[15;5H[?25h[?25l[57;164H9[16;5H[?25h[?25l[57;163H20,1  [17;5H[?25h[?25l[57;164H1[18;5H[?25h[?25l[57;164H2,0-1[19;5H[?25h[?25l[57;164H3,1  [20;5H[?25h[?25l[57;164H4[21;5H[?25h[?25l[57;164H5[22;5H[?25h[?25l[57;164H6,0-1[23;5H[?25h[?25l[57;164H7,1  [24;5H[?25h[?25l[57;164H8[25;5H[?25h[?25l[57;164H9,0-1[27;5H[?25h[?25l[57;163H30,1  [28;5H[?25h[?25l[57;164H1[29;5H[?25h[?25l[57;164H2[30;5H[?25h[?25l[57;164H3[31;5H[?25h[?25l[57;164H4,0-1[32;5H[?25h[?25l[57;164H5,1  [33;5H[?25h[?25l[57;164H6[34;5H[?25h[?25l[57;164H7,0-1[35;5H[?25h[?25l[57;164H8,1  [36;5H[?25h[?25l[57;164H9[37;5H[?25h[?25l[57;163H40[38;5H[?25h[?25l[57;164H1[39;5H[?25h[?25l[57;164H2[40;5H[?25h[?25l[57;164H3[41;5H[?25h[?25l[57;164H4[42;5H[?25h[?25l[57;164H5[43;5H[?25h[?25l[57;164H6,0-1[44;5H[?25h[?25l[57;164H7[45;5H[?25h[?25l[57;164H8,1  [46;5H[?25h[?25l[57;164H9,0-1[47;5H[?25h[?25l[57;163H50,1  [48;5H[?25h[?25l[57;164H1,0-1[49;5H[?25h[?25l[57;164H2,1  [50;5H[?25h[?25l[57;164H3[51;5H[?25h[?25l[57;164H4[52;5H[?25h[?25l[57;164H5[53;5H[?25h[?25l[57;164H6[54;5H[?25h[?25l[57;164H7[55;5H[?25h[?25l[57;164H8[56;5H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 59 [m[57;163H[K[57;163H59,0-1[8C13%[56;5H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 60 [m  args = parser.parse_args()[57;163H[K[57;163H60,1[10C16%[56;5H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 61 [m[57;163H[K[57;163H61,0-1[8C20%[56;5H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 62 [m  repeat = args.repeat[57;163H[K[57;163H62,1[10C23%[56;5H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 63 [m  desc = args.desc[57;163H[K[57;163H63,1[10C26%[56;5H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 64 [m  duration = args.duration[57;163H[K[57;163H64,1[10C30%[56;5H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 65 [m  device_id = args.device_id[57;163H[K[57;163H65,1[10C33%[56;5H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 66 [m  target_package = args.package_name[57;163H[K[57;163H66,1[10C36%[56;5H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 67 [m[57;163H[K[57;163H67,0-1[8C40%[56;5H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 68 [m[57;163H[K[57;163H68,0-1[8C43%[56;5H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 69 [m  [93mfor[m repeat [93min[m [1m[96mrange[m(repeat):[57;163H[K[57;163H69,1[10C46%[56;5H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 70 [m    [96m#set log path[m[57;163H[K[57;163H70,1[10C50%[56;5H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 71 [m    log_path = f[95m"logs/{desc}/logs_{device_id}/{repeat}"[m[57;163H[K[57;163H71,1[10C53%[56;5H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 72 [m    exec_cmd(f[95m"mkdir -p {log_path}"[m)[57;163H[K[57;163H72,1[10C56%[56;5H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 73 [m[57;163H[K[57;163H73,0-1[8C60%[56;5H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 74 [m    [96m#measure batterystat[m[57;163H[K[57;163H74,1[10C63%[56;5H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 75 [m    measure_batterystat(duration, log_path, device_id)[57;163H[K[57;163H75,1[10C66%[56;5H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 76 [m[57;163H[K[57;163H76,0-1[8C70%[56;5H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 77 [m    time.sleep([95m2[m)[57;163H[K[57;163H77,1[10C73%[56;5H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 78 [m[57;163H[K[57;163H78,0-1[8C76%[56;5H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 79 [m[57;163H[K[57;163H79,0-1[8C80%[56;5H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 80 [m[57;163H[K[57;163H80,0-1[8C83%[56;5H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 81 [m[57;163H[K[57;163H81,0-1[8C86%[56;5H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 82 [m[57;163H[K[57;163H82,0-1[8C90%[56;5H[?25h[?25l[57;163H[K[57;1H/[?2004h[?25hexec_via_adb[?25l[38;5;224mëê¹Œì§€ ì°¾ì•˜ìŒ, ì²˜ìŒë¶€í„° ê³„ì†[1;56r[m[1;1H[8L[1;57r[1;1H[93m 20 [m[93mdef[m [1m[96mexec_via_adb[m(cmd, target_device_id):
[93m 21 [m  os.system([95m"adb -s "[m + target_device_id + [95m" shell [m[38;5;224m\"[m[95m"[m + cmd + [95m"[m[38;5;224m\"[m[95m"[m)
[93m 22 
 23 [m[93mdef[m [1m[96mpull_via_adb[m(target_device_id, from_file_path, to_file_path):
[93m 24 [m  os.system([95m"adb -s %s pull %s %s"[m % (target_device_id, [38;5;224m\[m
[93m 25 [m      from_file_path, to_file_path))
[93m 26 
 27 [m[93mdef[m [1m[96mlog_batterystat[m(target_device_id, to_file_path):[57;1H[K[57;163H20,5[10C63%[38;5;224mëê¹Œì§€ ì°¾ì•˜ìŒ, ì²˜ìŒë¶€í„° ê³„ì†[m[57;163H[K[57;163H20,5[10C63%[1;9H[?25h[?25l[57;1H[K[57;1H/[?2004h[?25hexec_cm[?25l[57;8H[K[57;8H[?25h[?25l[57;7H[K[57;7H[?25hcmd[?25l[162C72,5[10C63%[54;9H[?25h[?25l[57;163H[K[57;1H[38;5;224mëê¹Œì§€ ì°¾ì•˜ìŒ, ì²˜ìŒë¶€í„° ê³„ì†[1;56r[m[1;1H[5L[1;57r[1;1H[93m 15 [m[93mdef[m [1m[96mexec_cmd[m(cmd):
[93m 16 [m  [1m[96mprint[m(cmd)
[93m 17 [m  os.system(cmd)
[93m 18 
 19 [m[57;1H[K[57;163H15,5[10C46%[38;5;224mëê¹Œì§€ ì°¾ì•˜ìŒ, ì²˜ìŒë¶€í„° ê³„ì†[m[57;163H[K[57;163H15,5[10C46%[1;9H[?25h[?25l[1;56r[1;1H[L[1;57r[1;1H[93m 14 [m[57;1H[K[57;163H14,0-1[8C43%[1;5H[?25h[?25l[1;56r[1;1H[L[1;57r[1;1H[93m 13 [m[57;163H[K[57;163H13,0-1[8C40%[1;5H[?25h[?25l[1;56r[1;1H[L[1;57r[1;1H[93m 12 [m[38;5;81mimport[m heapq[57;163H[K[57;163H12,5[10C36%[1;9H[?25h[?25l[1;56r[1;1H[L[1;57r[1;1H[93m 11 [m[38;5;81mfrom[m bs4 [38;5;81mimport[m BeautifulSoup[57;163H[K[57;163H11,5[10C33%[1;9H[?25h[?25l[57;1H/exec_cmd[57;163H[K[57;1H[162C15,5[10C33%[5;9H[?25h[?25l[57;164H6[6;9H[?25h[?25l[57;164H7[7;9H[?25h[?25l[57;164H8,0-1[8;5H[?25h[?25l[57;164H9[9;5H[?25h[?25l[57;163H20,5  [10;9H[?25h[?25l[57;164H1[11;9H[?25h[?25l[57;164H2,0-1[12;5H[?25h[?25l[57;164H3,5  [13;9H[?25h[?25l[57;164H4[14;9H[?25h[?25l[57;164H5[15;9H[?25h[?25l[57;164H6,0-1[16;5H[?25h[?25l[57;164H7,5  [17;9H[?25h[?25l[57;164H8[18;9H[?25h[?25l[57;164H9,0-1[20;5H[?25h[?25l[57;163H30,5  [21;9H[?25h[?25l[57;164H1[22;9H[?25h[?25l[57;164H2[23;9H[?25h[?25l[57;164H3[24;9H[?25h[?25l[57;164H4,0-1[25;5H[?25h[?25l[57;164H5,5  [26;9H[?25h[?25l[57;164H6[27;9H[?25h[?25l[57;164H7,0-1[28;5H[?25h[?25l[57;164H8,5  [29;9H[?25h[?25l[57;164H9[30;9H[?25h[?25l[57;163H40[31;9H[?25h[?25l[57;164H1[32;9H[?25h[?25l[57;164H2[33;9H[?25h[?25l[57;164H3[34;9H[?25h[?25l[57;164H4[35;9H[?25h[?25l[57;164H5[36;9H[?25h[?25l[57;164H6,0-1[37;5H[?25h[?25l[57;164H7[38;5H[?25h[?25l[57;164H8,2  [39;6H[?25h[?25l[57;164H9,0-1[40;5H[?25h[?25l[57;163H50,5  [41;9H[?25h[?25l[57;164H1,0-1[42;5H[?25h[?25l[57;164H2,5  [43;9H[?25h[?25l[57;164H3[44;9H[?25h[?25l[57;164H4[45;9H[?25h[?25l[57;164H5[46;9H[?25h[?25l[57;164H6[47;9H[?25h[?25l[57;164H7[48;9H[?25h[?25l[57;164H8,2[49;6H[?25h[?25l[57;164H9,0-1[50;5H[?25h[?25l[57;163H60,5  [51;9H[?25h[?25l[57;164H1,0-1[52;5H[?25h[?25l[57;164H2,5  [53;9H[?25h[?25l[57;164H3[54;9H[?25h[?25l[57;164H4[55;9H[?25h[?25l[57;164H5[56;9H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 66 [m  target_package = args.package_name[57;1H[K[57;163H66,5[10C36%[56;9H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 67 [m[57;163H[K[57;163H67,0-1[8C40%[56;5H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 68 [m[57;163H[K[57;163H68,0-1[8C43%[56;5H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 69 [m  [93mfor[m repeat [93min[m [1m[96mrange[m(repeat):[57;163H[K[57;163H69,5[10C46%[56;9H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 70 [m    [96m#set log path[m[57;163H[K[57;163H70,5[10C50%[56;9H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 71 [m    log_path = f[95m"logs/{desc}/logs_{device_id}/{repeat}"[m[57;163H[K[57;163H71,5[10C53%[56;9H[?25h[?25l[57;164H0[55;9H[?25h[?25l[57;163H69[54;9H[?25h[?25l[57;164H8,0-1[53;5H[?25h[?25l[57;164H7[52;5H[?25h[?25l[57;164H6,5  [51;9H[?25h[?25l[57;164H5[50;9H[?25h[?25l[57;164H4[49;9H[?25h[?25l[57;164H3[48;9H[?25h[?25l[57;164H2[47;9H[?25h[?25l[57;164H1,0-1[46;5H[?25h[?25l[57;164H0,5  [45;9H[?25h[?25l[57;163H59,0-1[44;5H[?25h[?25l[57;164H8,2  [43;6H[?25h[?25l[57;164H7,5[42;9H[?25h[?25l[57;164H6[41;9H[?25h[?25l[57;164H5[40;9H[?25h[?25l[57;164H4[39;9H[?25h[?25l[57;164H3[38;9H[?25h[?25l[57;164H2[37;9H[?25h[?25l[57;164H1,0-1[36;5H[?25h[?25l[57;164H0,5  [35;9H[?25h[?25l[57;163H49,0-1[34;5H[?25h[?25l[57;164H8,2  [33;6H[?25h[?25l[57;164H7,0-1[32;5H[?25h[?25l[57;164H6[31;5H[?25h[?25l[57;164H5,5  [30;9H[?25h[?25l[57;164H4[29;9H[?25h[?25l[57;164H3[28;9H[?25h[?25l[57;164H2[27;9H[?25h[?25l[57;164H1[26;9H[?25h[?25l[57;164H0[25;9H[?25h[?25l[57;163H39[24;9H[?25h[?25l[57;164H8[23;9H[?25h[?25l[57;164H7,0-1[22;5H[?25h[?25l[57;164H6,5  [21;9H[?25h[?25l[57;164H5[20;9H[?25h[?25l[57;164H4,0-1[19;5H[?25h[?25l[57;164H3,5  [18;9H[?25h[?25l[57;164H2[17;9H[?25h[?25l[57;164H1[16;9H[?25h[?25l[57;164H0[15;9H[?25h[?25l[57;163H29,0-1[14;5H[?25h[?25l[57;164H8,5  [12;9H[?25h[?25l[57;164H7[11;9H[?25h[?25l[57;164H6,0-1[10;5H[?25h[?25l[57;164H5,5  [9;9H[?25h[?25l[57;164H4[8;9H[?25h[?25l[57;164H3[7;9H[?25h[?25l[57;164H2,0-1[6;5H[?25h[?25l[57;164H1,5  [5;9H[?25h[?25l[57;164H0[4;9H[?25h[?25l[57;163H19,0-1[3;5H[?25h[?25l[57;164H8[2;5H[?25h[?25l[57;164H7,5  [1;9H[?25h[?25l[1;56r[1;1H[L[1;57r[1;1H[93m 16 [m  [1m[96mprint[m(cmd)[57;163H[K[57;163H16,5[10C50%[1;9H[?25h[?25l[1;56r[1;1H[L[1;57r[1;1H[93m 15 [m[93mdef[m [1m[96mexec_cmd[m(cmd):[57;163H[K[57;163H15,5[10C46%[1;9H[?25h[?25l[1;56r[1;1H[L[1;57r[1;1H[93m 14 [m[57;163H[K[57;163H14,0-1[8C43%[1;5H[?25h[?25l[1;56r[1;1H[L[1;57r[1;1H[93m 13 [m[57;163H[K[57;163H13,0-1[8C40%[1;5H[?25h[?25l[1;56r[1;1H[L[1;57r[1;1H[93m 12 [m[38;5;81mimport[m heapq[57;163H[K[57;163H12,5[10C36%[1;9H[?25h[?25l[1;56r[1;1H[L[1;57r[1;1H[93m 11 [m[38;5;81mfrom[m bs4 [38;5;81mimport[m BeautifulSoup[57;163H[K[57;163H11,5[10C33%[1;9H[?25h[?25l[1;56r[1;1H[L[1;57r[1;1H[93m 10 [m[57;163H[K[57;163H10,0-1[8C30%[1;5H[?25h[?25l[1;56r[1;1H[L[1;57r[1;1H[93m  9 [m[38;5;81mimport[m sys[57;163H[K[57;163H9,5[11C26%[1;9H[?25h[?25l[1;56r[1;1H[L[1;57r[1;1H[93m  8 [m[57;163H[K[57;163H8,0-1[9C23%[1;5H[?25h[?25l[1;56r[1;1H[L[1;57r[1;1H[93m  7 [m[38;5;81mfrom[m datetime [38;5;81mimport[m datetime[57;163H[K[57;163H7,5[11C20%[1;9H[?25h[?25l[1;56r[1;1H[L[1;57r[1;1H[93m  6 [m[38;5;81mfrom[m datetime [38;5;81mimport[m date[57;163H[K[57;163H6,5[11C16%[1;9H[?25h[?25l[1;56r[1;1H[L[1;57r[1;1H[93m  5 [m[38;5;81mimport[m datetime[57;163H[K[57;163H5,5[11C13%[1;9H[?25h[?25l[1;56r[1;1H[L[1;57r[1;1H[93m  4 [m[38;5;81mimport[m time[57;163H[K[57;163H4,5[11C10%[1;9H[?25h[?25l[57;163H[K[57;1H:[?2004h[?25h[?25l[57;1H[K[57;163H4,5[11C10%[1;9H[?25h[?25l[57;163H5[2;9H[?25h[?25l[57;163H6[3;9H[?25h[?25l[57;163H7[4;9H[?25h[?25l[57;163H8,0-1[5;5H[?25h[?25l[57;163H9,5  [6;9H[?25h[?25l[57;163H10,0-1[7;5H[?25h[?25l[57;164H1,5  [8;9H[?25h[?25l[57;164H2[9;9H[?25h[?25l[57;164H3,0-1[10;5H[?25h[?25l[57;164H4[11;5H[?25h[?25l[57;164H5,5  [12;9H[?25h[?25l[57;164H6[13;9H[?25h[?25l[57;164H7[14;9H[?25h[?25l[57;164H8,0-1[15;5H[?25h[?25l[57;164H9[16;5H[?25h[?25l[57;163H20,5  [17;9H[?25h[?25l[57;164H1[18;9H[?25h[?25l[57;164H2,0-1[19;5H[?25h[?25l[57;164H3,5  [20;9H[?25h[?25l[57;164H4[21;9H[?25h[?25l[57;164H5[22;9H[?25h[?25l[57;164H6,0-1[23;5H[?25h[?25l[57;164H7,5  [24;9H[?25h[?25l[57;164H8[25;9H[?25h[?25l[57;164H9,0-1[27;5H[?25h[?25l[57;163H30,5  [28;9H[?25h[?25l[57;164H1[29;9H[?25h[?25l[57;164H2[30;9H[?25h[?25l[57;164H3[31;9H[?25h[?25l[57;164H4,0-1[32;5H[?25h[?25l[57;164H5,5  [33;9H[?25h[?25l[57;164H6[34;9H[?25h[?25l[57;164H7,0-1[35;5H[?25h[?25l[57;164H8,5  [36;9H[?25h[?25l[57;164H9[37;9H[?25h[?25l[57;163H40[38;9H[?25h[?25l[57;164H1[39;9H[?25h[?25l[57;164H2[40;9H[?25h[?25l[57;164H3[41;9H[?25h[?25l[57;164H4[42;9H[?25h[?25l[57;164H5[43;9H[?25h[?25l[57;164H6,0-1[44;5H[?25h[?25l[57;164H7[45;5H[?25h[?25l[57;164H8,2  [46;6H[?25h[?25l[57;164H9,0-1[47;5H[?25h[?25l[57;163H50,5  [48;9H[?25h[?25l[57;164H1,0-1[49;5H[?25h[?25l[57;164H2,5  [50;9H[?25h[?25l[57;164H3[51;9H[?25h[?25l[57;164H4[52;9H[?25h[?25l[57;164H5[53;9H[?25h[?25l[57;164H6[54;9H[?25h[?25l[57;164H7[55;9H[?25h[?25l[57;164H8,2[56;6H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 59 [m[57;163H[K[57;163H59,0-1[8C13%[56;5H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 60 [m  args = parser.parse_args()[57;163H[K[57;163H60,5[10C16%[56;9H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 61 [m[57;163H[K[57;163H61,0-1[8C20%[56;5H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 62 [m  repeat = args.repeat[57;163H[K[57;163H62,5[10C23%[56;9H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 63 [m  desc = args.desc[57;163H[K[57;163H63,5[10C26%[56;9H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 64 [m  duration = args.duration[57;163H[K[57;163H64,5[10C30%[56;9H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 65 [m  device_id = args.device_id[57;163H[K[57;163H65,5[10C33%[56;9H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 66 [m  target_package = args.package_name[57;163H[K[57;163H66,5[10C36%[56;9H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 67 [m[57;163H[K[57;163H67,0-1[8C40%[56;5H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 68 [m[57;163H[K[57;163H68,0-1[8C43%[56;5H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 69 [m  [93mfor[m repeat [93min[m [1m[96mrange[m(repeat):[57;163H[K[57;163H69,5[10C46%[56;9H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 70 [m    [96m#set log path[m[57;163H[K[57;163H70,5[10C50%[56;9H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 71 [m    log_path = f[95m"logs/{desc}/logs_{device_id}/{repeat}"[m[57;163H[K[57;163H71,5[10C53%[56;9H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 72 [m    exec_cmd(f[95m"mkdir -p {log_path}"[m)[57;163H[K[57;163H72,5[10C56%[56;9H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 73 [m[57;163H[K[57;163H73,0-1[8C60%[56;5H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 74 [m    [96m#measure batterystat[m[57;163H[K[57;163H74,5[10C63%[56;9H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 75 [m    measure_batterystat(duration, log_path, device_id)[57;163H[K[57;163H75,5[10C66%[56;9H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 76 [m[57;163H[K[57;163H76,0-1[8C70%[56;5H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 77 [m    time.sleep([95m2[m)[57;163H[K[57;163H77,5[10C73%[56;9H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 78 [m[57;163H[K[57;163H78,0-1[8C76%[56;5H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 79 [m[57;163H[K[57;163H79,0-1[8C80%[56;5H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 80 [m[57;163H[K[57;163H80,0-1[8C83%[56;5H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 81 [m[57;163H[K[57;163H81,0-1[8C86%[56;5H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 82 [m[57;163H[K[57;163H82,0-1[8C90%[56;5H[?25h[?25l[1;56r[1;1H[2M[1;57r[55;1H[93m 83 
 84 [m[57;163H[K[57;163H83,0-1[8C96%[55;5H[?25h[?25l[57;164H4[56;5H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 85 [m[57;163H[K[57;163H85,0-1[7Cë°”ë‹¥[56;5H[?25h[?25l[57;164H4[55;5H[?25h[?25l[57;164H3[54;5H[?25h[?25l[57;164H2[53;5H[?25h[?25l[57;164H1[52;5H[?25h[?25l[57;164H0[51;5H[?25h[?25l[57;163H79[50;5H[?25h[?25l[57;164H8[49;5H[?25h[?25l[57;164H7,5  [48;9H[?25h[?25l[57;164H6,0-1[47;5H[?25h[?25l[57;164H5,5  [46;9H[?25h[?25l[57;164H4[45;9H[?25h[?25l[57;164H3,0-1[44;5H[?25h[?25l[57;164H2,5  [43;9H[?25h[?25l[57;164H1[42;9H[?25h[?25l[57;164H0[41;9H[?25h[?25l[57;163H69[40;9H[?25h[?25l[57;164H8,0-1[39;5H[?25h[?25l[57;164H7[38;5H[?25h[?25l[57;164H8[39;5H[?25h[?25l[57;164H9,5  [40;9H[?25h[?25l[57;163H70[41;9H[?25h[?25l[57;164H1[42;9H[?25h[?25l[57;164H2[43;9H[?25h[?25l[57;164H3,0-1[44;5H[?25h[?25l[57;164H4,5  [45;9H[?25h[?25l[57;164H5[46;9H[?25h[?25l[57;164H6,0-1[47;5H[?25h[?25l[57;164H7,5  [48;9H[?25h[?25l[57;164H8,0-1[49;5H[?25h[?25l[57;164H9[50;5H[?25h[?25l[57;163H80[51;5H[?25h[?25l[57;164H1[52;5H[?25h[?25l[57;164H2[53;5H[?25h[?25l[57;164H3[54;5H[?25h[?25l[57;164H4[55;5H[?25h[?25l[57;164H5[56;5H[?25h[?25l[57;163H[K[57;1H:[?2004h[?25hq[?25l[?2004l[23;2t[23;1t[57;1H[K[57;1H[?2004l[?1l>[?25h[>4;m[?1049l[23;0;0t]0;kwanghokim@kwanghokim-750XDA: ~/workspace/backup_files/AOSP_battery_logging_221020/scripts[01;32mkwanghokim@kwanghokim-750XDA[00m:[01;34m~/workspace/backup_files/AOSP_battery_logging_221020/scripts[00m$ ls
[0m[01;34mbinary_cache[0m  [34;42mlogs[0m                 measure_script.py  parse_batterystats.py  perf.data.txt  test.py   [01;34mtmp[0m         [01;34m{log_path}[0m
[01;34mkkk[0m           measure_perf_kkh.py  measure_w_perf.py  parse_perf_output.py   [01;34msimpleperf[0m     testtest  typescript
]0;kwanghokim@kwanghokim-750XDA: ~/workspace/backup_files/AOSP_battery_logging_221020/scripts[01;32mkwanghokim@kwanghokim-750XDA[00m:[01;34m~/workspace/backup_files/AOSP_battery_logging_221020/scripts[00m$ cd logs/
]0;kwanghokim@kwanghokim-750XDA: ~/workspace/backup_files/AOSP_battery_logging_220120/scripts/logs[01;32mkwanghokim@kwanghokim-750XDA[00m:[01;34m~/workspace/backup_files/AOSP_battery_logging_220120/scripts/logs[00m$ ls
[0m[01;34mperf_vari_apps[0m  [01;34mtest[0m
]0;kwanghokim@kwanghokim-750XDA: ~/workspace/backup_files/AOSP_battery_logging_220120/scripts/logs[01;32mkwanghokim@kwanghokim-750XDA[00m:[01;34m~/workspace/backup_files/AOSP_battery_logging_220120/scripts/logs[00m$ cd test/
]0;kwanghokim@kwanghokim-750XDA: ~/workspace/backup_files/AOSP_battery_logging_220120/scripts/logs/test[01;32mkwanghokim@kwanghokim-750XDA[00m:[01;34m~/workspace/backup_files/AOSP_battery_logging_220120/scripts/logs/test[00m$ ls
[0m[01;34mzepeto[0m
]0;kwanghokim@kwanghokim-750XDA: ~/workspace/backup_files/AOSP_battery_logging_220120/scripts/logs/test[01;32mkwanghokim@kwanghokim-750XDA[00m:[01;34m~/workspace/backup_files/AOSP_battery_logging_220120/scripts/logs/test[00m$ cd[K[Kcd ..
]0;kwanghokim@kwanghokim-750XDA: ~/workspace/backup_files/AOSP_battery_logging_220120/scripts/logs[01;32mkwanghokim@kwanghokim-750XDA[00m:[01;34m~/workspace/backup_files/AOSP_battery_logging_220120/scripts/logs[00m$ l
[0m[01;34mperf_vari_apps[0m/  [01;34mtest[0m/
]0;kwanghokim@kwanghokim-750XDA: ~/workspace/backup_files/AOSP_battery_logging_220120/scripts/logs[01;32mkwanghokim@kwanghokim-750XDA[00m:[01;34m~/workspace/backup_files/AOSP_battery_logging_220120/scripts/logs[00m$ ls
[0m[01;34mperf_vari_apps[0m  [01;34mtest[0m
]0;kwanghokim@kwanghokim-750XDA: ~/workspace/backup_files/AOSP_battery_logging_220120/scripts/logs[01;32mkwanghokim@kwanghokim-750XDA[00m:[01;34m~/workspace/backup_files/AOSP_battery_logging_220120/scripts/logs[00m$ cd ..
]0;kwanghokim@kwanghokim-750XDA: ~/workspace/backup_files/AOSP_battery_logging_220120/scripts[01;32mkwanghokim@kwanghokim-750XDA[00m:[01;34m~/workspace/backup_files/AOSP_battery_logging_220120/scripts[00m$ ls
[0m[01;34mbinary_cache[0m  [34;42mlogs[0m                 measure_script.py  parse_batterystats.py  perf.data.txt  test.py   [01;34mtmp[0m         [01;34m{log_path}[0m
[01;34mkkk[0m           measure_perf_kkh.py  measure_w_perf.py  parse_perf_output.py   [01;34msimpleperf[0m     testtest  typescript
]0;kwanghokim@kwanghokim-750XDA: ~/workspace/backup_files/AOSP_battery_logging_220120/scripts[01;32mkwanghokim@kwanghokim-750XDA[00m:[01;34m~/workspace/backup_files/AOSP_battery_logging_220120/scripts[00m$ ls -al
í•©ê³„ 2028
drwxrwxr-x 8 kwanghokim kwanghokim    4096  1ì›” 20 12:20 [0m[01;34m.[0m
drwxrwxr-x 6 kwanghokim kwanghokim    4096  1ì›” 20 00:42 [01;34m..[0m
-rw-r--r-- 1 kwanghokim kwanghokim   12288  1ì›” 20 11:15 .measure_script.py.swp
drwxrwxr-x 7 kwanghokim kwanghokim    4096  1ì›” 20 11:45 [01;34mbinary_cache[0m
drwxrwxr-x 2 kwanghokim kwanghokim    4096  1ì›” 20 02:43 [01;34mkkk[0m
drwxrwxrwx 4 kwanghokim kwanghokim    4096  1ì›” 20 11:44 [34;42mlogs[0m
-rw-rw-r-- 1 kwanghokim kwanghokim    2539  1ì›” 20 12:20 measure_perf_kkh.py
-rw-rw-r-- 1 kwanghokim kwanghokim    2294  1ì›” 20 00:27 measure_script.py
-rw-rw-r-- 1 kwanghokim kwanghokim    3187  1ì›” 20 12:16 measure_w_perf.py
-rw-rw-r-- 1 kwanghokim kwanghokim    2696  1ì›” 20 00:27 parse_batterystats.py
-rw-rw-r-- 1 kwanghokim kwanghokim    7157  1ì›” 20 00:27 parse_perf_output.py
-rw-rw-r-- 1 kwanghokim kwanghokim       0  1ì›” 20 11:09 perf.data.txt
drwxrwxr-x 8 kwanghokim kwanghokim    4096  1ì›” 20 12:05 [01;34msimpleperf[0m
-rw-rw-r-- 1 kwanghokim kwanghokim     981  1ì›” 20 12:14 test.py
-rw-r--r-- 1 kwanghokim kwanghokim 1903343  1ì›” 20 02:43 testtest
drwxrwxr-x 2 kwanghokim kwanghokim    4096  1ì›” 20 03:15 [01;34mtmp[0m
-rw-rw-r-- 1 kwanghokim kwanghokim   94208  1ì›” 20 12:27 typescript
drwxrwxr-x 2 kwanghokim kwanghokim    4096  1ì›” 20 12:20 [01;34m{log_path}[0m
]0;kwanghokim@kwanghokim-750XDA: ~/workspace/backup_files/AOSP_battery_logging_220120/scripts[01;32mkwanghokim@kwanghokim-750XDA[00m:[01;34m~/workspace/backup_files/AOSP_battery_logging_220120/scripts[00m$ vi {\{log_path\}/
[?1049h[22;0;0t[>4;2m[?1h=[?2004h[1;57r[?12h[?12l[22;2t[22;1t[27m[23m[29m[m[H[2J[?25l[57;1H"{log_path}/" ì˜ëª»ëœ íŒŒì¼ ì´ë¦„[2;1Hâ–½[6n[2;1H  [1;1H[>c]10;?]11;?[1;1H[34m" ============================================================================
" Netrw Directory Listing                                        [m[36m(netrw v165)[m
[34m"   /home/kwanghokim/workspace/backup_files/AOSP_battery_logging_220120/scripts/{log_path}
"   Sorted by[m[38;5;130m      name[m
[34m"   Sort sequence:[m[38;5;130m [\/]$[m[34m,[m[38;5;130m\<core\%(\.\d\+\)\=\>[m[34m,[m[38;5;130m\.h$[m[34m,[m[38;5;130m\.c$[m[34m,[m[38;5;130m\.cpp$[m[34m,[m[38;5;130m\~\=\*$[m[34m,[m[38;5;130m*[m[34m,[m[38;5;130m\.o$[m[34m,[m[38;5;130m\.obj$[m[34m,[m[38;5;130m\.info$[m[34m,[m[38;5;130m\.swp$[m[34m,[m[38;5;130m\.bak$[m[34m,[m[38;5;130m\~$[m
[34m"   Quick Help: [m[36m<F1>[m[35m:[mhelp  [36m-[m[35m:[mgo up dir  [36mD[m[35m:[mdelete  [36mR[m[35m:[mrename  [36ms[m[35m:[msort-by  [36mx[m[35m:[mspecial
[34m" ==============================================================================[m
[4m[34m..[m[4m[36m/[m[4m                                                                                                                                                                                 [m[9;1H[34m.[m[36m/[m
[94m~                                                                                                                                                                                   [11;1H~                                                                                                                                                                                   [12;1H~                                                                                                                                                                                   [13;1H~                                                                                                                                                                                   [14;1H~                                                                                                                                                                                   [15;1H~                                                                                                                                                                                   [16;1H~                                                                                                                                                                                   [17;1H~                                                                                                                                                                                   [18;1H~                                                                                                                                                                                   [19;1H~                                                                                                                                                                                   [20;1H~                                                                                                                                                                                   [21;1H~                                                                                                                                                                                   [22;1H~                                                                                                                                                                                   [23;1H~                                                                                                                                                                                   [24;1H~                                                                                                                                                                                   [25;1H~                                                                                                                                                                                   [26;1H~                                                                                                                                                                                   [27;1H~                                                                                                                                                                                   [28;1H~                                                                                                                                                                                   [29;1H~                                                                                                                                                                                   [30;1H~                                                                                                                                                                                   [31;1H~                                                                                                                                                                                   [32;1H~                                                                                                                                                                                   [33;1H~                                                                                                                                                                                   [34;1H~                                                                                                                                                                                   [35;1H~                                                                                                                                                                                   [36;1H~                                                                                                                                                                                   [37;1H~                                                                                                                                                                                   [38;1H~                                                                                                                                                                                   [39;1H~                                                                                                                                                                                   [40;1H~                                                                                                                                                                                   [41;1H~                                                                                                                                                                                   [42;1H~                                                                                                                                                                                   [43;1H~                                                                                                                                                                                   [44;1H~                                                                                                                                                                                   [45;1H~                                                                                                                                                                                   [46;1H~                                                                                                                                                                                   [47;1H~                                                                                                                                                                                   [48;1H~                                                                                                                                                                                   [49;1H~                                                                                                                                                                                   [50;1H~                                                                                                                                                                                   [51;1H~                                                                                                                                                                                   [52;1H~                                                                                                                                                                                   [53;1H~                                                                                                                                                                                   [54;1H~                                                                                                                                                                                   [55;1H~                                                                                                                                                                                   [56;1H~                                                                                                                                                                                   [m[57;163H8,1[10Cëª¨ë‘[8;1H[?25hP+q436f\P+q6b75\P+q6b64\P+q6b72\P+q6b6c\P+q2332\P+q2334\P+q2569\P+q2a37\P+q6b31\[27m[23m[29m[m[H[2J[?25l[1;1H[96m" ============================================================================
" Netrw Directory Listing                                        [m[1m[96m(netrw v165)[m
[96m"   /home/kwanghokim/workspace/backup_files/AOSP_battery_logging_220120/scripts/{log_path}
"   Sorted by[m[93m      name[m
[96m"   Sort sequence:[m[93m [\/]$[m[96m,[m[93m\<core\%(\.\d\+\)\=\>[m[96m,[m[93m\.h$[m[96m,[m[93m\.c$[m[96m,[m[93m\.cpp$[m[96m,[m[93m\~\=\*$[m[96m,[m[93m*[m[96m,[m[93m\.o$[m[96m,[m[93m\.obj$[m[96m,[m[93m\.info$[m[96m,[m[93m\.swp$[m[96m,[m[93m\.bak$[m[96m,[m[93m\~$[m
[96m"   Quick Help: [m[1m[96m<F1>[m[38;5;224m:[mhelp  [1m[96m-[m[38;5;224m:[mgo up dir  [1m[96mD[m[38;5;224m:[mdelete  [1m[96mR[m[38;5;224m:[mrename  [1m[96ms[m[38;5;224m:[msort-by  [1m[96mx[m[38;5;224m:[mspecial
[96m" ==============================================================================[m
[4m[38;5;159m..[m[1m[4m[96m/[m[4m                                                                                                                                                                                 [m[9;1H[38;5;159m.[m[1m[96m/[m
[94m~                                                                                                                                                                                   [11;1H~                                                                                                                                                                                   [12;1H~                                                                                                                                                                                   [13;1H~                                                                                                                                                                                   [14;1H~                                                                                                                                                                                   [15;1H~                                                                                                                                                                                   [16;1H~                                                                                                                                                                                   [17;1H~                                                                                                                                                                                   [18;1H~                                                                                                                                                                                   [19;1H~                                                                                                                                                                                   [20;1H~                                                                                                                                                                                   [21;1H~                                                                                                                                                                                   [22;1H~                                                                                                                                                                                   [23;1H~                                                                                                                                                                                   [24;1H~                                                                                                                                                                                   [25;1H~                                                                                                                                                                                   [26;1H~                                                                                                                                                                                   [27;1H~                                                                                                                                                                                   [28;1H~                                                                                                                                                                                   [29;1H~                                                                                                                                                                                   [30;1H~                                                                                                                                                                                   [31;1H~                                                                                                                                                                                   [32;1H~                                                                                                                                                                                   [33;1H~                                                                                                                                                                                   [34;1H~                                                                                                                                                                                   [35;1H~                                                                                                                                                                                   [36;1H~                                                                                                                                                                                   [37;1H~                                                                                                                                                                                   [38;1H~                                                                                                                                                                                   [39;1H~                                                                                                                                                                                   [40;1H~                                                                                                                                                                                   [41;1H~                                                                                                                                                                                   [42;1H~                                                                                                                                                                                   [43;1H~                                                                                                                                                                                   [44;1H~                                                                                                                                                                                   [45;1H~                                                                                                                                                                                   [46;1H~                                                                                                                                                                                   [47;1H~                                                                                                                                                                                   [48;1H~                                                                                                                                                                                   [49;1H~                                                                                                                                                                                   [50;1H~                                                                                                                                                                                   [51;1H~                                                                                                                                                                                   [52;1H~                                                                                                                                                                                   [53;1H~                                                                                                                                                                                   [54;1H~                                                                                                                                                                                   [55;1H~                                                                                                                                                                                   [56;1H~                                                                                                                                                                                   [m[57;163H8,1[10Cëª¨ë‘"{log_path}/" ì˜ëª»ëœ íŒŒì¼ ì´ë¦„[8;1H[?25h[?25l[57;1H[K[57;1H:[?2004h[?25hq[?25l[?2004l[?2004h[?2004l[23;2t[23;1t[57;1H[K[57;1H[?2004l[?1l>[?25h[>4;m[?1049l[23;0;0t]0;kwanghokim@kwanghokim-750XDA: ~/workspace/backup_files/AOSP_battery_logging_220120/scripts[01;32mkwanghokim@kwanghokim-750XDA[00m:[01;34m~/workspace/backup_files/AOSP_battery_logging_220120/scripts[00m$ cd {\{log_path\}/
]0;kwanghokim@kwanghokim-750XDA: ~/workspace/backup_files/AOSP_battery_logging_220120/scripts/{log_path}[01;32mkwanghokim@kwanghokim-750XDA[00m:[01;34m~/workspace/backup_files/AOSP_battery_logging_220120/scripts/{log_path}[00m$ ls
]0;kwanghokim@kwanghokim-750XDA: ~/workspace/backup_files/AOSP_battery_logging_220120/scripts/{log_path}[01;32mkwanghokim@kwanghokim-750XDA[00m:[01;34m~/workspace/backup_files/AOSP_battery_logging_220120/scripts/{log_path}[00m$ ll
í•©ê³„ 8
drwxrwxr-x 2 kwanghokim kwanghokim 4096  1ì›” 20 12:27 [0m[01;34m.[0m/
drwxrwxr-x 8 kwanghokim kwanghokim 4096  1ì›” 20 12:20 [01;34m..[0m/
]0;kwanghokim@kwanghokim-750XDA: ~/workspace/backup_files/AOSP_battery_logging_220120/scripts/{log_path}[01;32mkwanghokim@kwanghokim-750XDA[00m:[01;34m~/workspace/backup_files/AOSP_battery_logging_220120/scripts/{log_path}[00m$ cd ..
]0;kwanghokim@kwanghokim-750XDA: ~/workspace/backup_files/AOSP_battery_logging_220120/scripts[01;32mkwanghokim@kwanghokim-750XDA[00m:[01;34m~/workspace/backup_files/AOSP_battery_logging_220120/scripts[00m$ ls
[0m[01;34mbinary_cache[0m  [34;42mlogs[0m                 measure_script.py  parse_batterystats.py  perf.data.txt  test.py   [01;34mtmp[0m         [01;34m{log_path}[0m
[01;34mkkk[0m           measure_perf_kkh.py  measure_w_perf.py  parse_perf_output.py   [01;34msimpleperf[0m     testtest  typescript
]0;kwanghokim@kwanghokim-750XDA: ~/workspace/backup_files/AOSP_battery_logging_220120/scripts[01;32mkwanghokim@kwanghokim-750XDA[00m:[01;34m~/workspace/backup_files/AOSP_battery_logging_220120/scripts[00m$ c[Kvi t[Klogs/
[?1049h[22;0;0t[>4;2m[?1h=[?2004h[1;57r[?12h[?12l[22;2t[22;1t[27m[23m[29m[m[H[2J[?25l[57;1H"logs/" ì˜ëª»ëœ íŒŒì¼ ì´ë¦„[2;1Hâ–½[6n[2;1H  [1;1H[>c]10;?]11;?[1;1H[34m" ============================================================================
" Netrw Directory Listing                                        [m[36m(netrw v165)[m
[34m"   /home/kwanghokim/workspace/backup_files/AOSP_battery_logging_220120/scripts/logs
"   Sorted by[m[38;5;130m      name[m
[34m"   Sort sequence:[m[38;5;130m [\/]$[m[34m,[m[38;5;130m\<core\%(\.\d\+\)\=\>[m[34m,[m[38;5;130m\.h$[m[34m,[m[38;5;130m\.c$[m[34m,[m[38;5;130m\.cpp$[m[34m,[m[38;5;130m\~\=\*$[m[34m,[m[38;5;130m*[m[34m,[m[38;5;130m\.o$[m[34m,[m[38;5;130m\.obj$[m[34m,[m[38;5;130m\.info$[m[34m,[m[38;5;130m\.swp$[m[34m,[m[38;5;130m\.bak$[m[34m,[m[38;5;130m\~$[m
[34m"   Quick Help: [m[36m<F1>[m[35m:[mhelp  [36m-[m[35m:[mgo up dir  [36mD[m[35m:[mdelete  [36mR[m[35m:[mrename  [36ms[m[35m:[msort-by  [36mx[m[35m:[mspecial
[34m" ==============================================================================[m
[4m[34m..[m[4m[36m/[m[4m                                                                                                                                                                                 [m[9;1H[34m.[m[36m/[m
[34mperf_vari_apps[m[36m/[m
[34mtest[m[36m/[m
[94m~                                                                                                                                                                                   [13;1H~                                                                                                                                                                                   [14;1H~                                                                                                                                                                                   [15;1H~                                                                                                                                                                                   [16;1H~                                                                                                                                                                                   [17;1H~                                                                                                                                                                                   [18;1H~                                                                                                                                                                                   [19;1H~                                                                                                                                                                                   [20;1H~                                                                                                                                                                                   [21;1H~                                                                                                                                                                                   [22;1H~                                                                                                                                                                                   [23;1H~                                                                                                                                                                                   [24;1H~                                                                                                                                                                                   [25;1H~                                                                                                                                                                                   [26;1H~                                                                                                                                                                                   [27;1H~                                                                                                                                                                                   [28;1H~                                                                                                                                                                                   [29;1H~                                                                                                                                                                                   [30;1H~                                                                                                                                                                                   [31;1H~                                                                                                                                                                                   [32;1H~                                                                                                                                                                                   [33;1H~                                                                                                                                                                                   [34;1H~                                                                                                                                                                                   [35;1H~                                                                                                                                                                                   [36;1H~                                                                                                                                                                                   [37;1H~                                                                                                                                                                                   [38;1H~                                                                                                                                                                                   [39;1H~                                                                                                                                                                                   [40;1H~                                                                                                                                                                                   [41;1H~                                                                                                                                                                                   [42;1H~                                                                                                                                                                                   [43;1H~                                                                                                                                                                                   [44;1H~                                                                                                                                                                                   [45;1H~                                                                                                                                                                                   [46;1H~                                                                                                                                                                                   [47;1H~                                                                                                                                                                                   [48;1H~                                                                                                                                                                                   [49;1H~                                                                                                                                                                                   [50;1H~                                                                                                                                                                                   [51;1H~                                                                                                                                                                                   [52;1H~                                                                                                                                                                                   [53;1H~                                                                                                                                                                                   [54;1H~                                                                                                                                                                                   [55;1H~                                                                                                                                                                                   [56;1H~                                                                                                                                                                                   [m[57;163H8,1[10Cëª¨ë‘[8;1H[?25hP+q436f\P+q6b75\P+q6b64\P+q6b72\P+q6b6c\P+q2332\P+q2334\P+q2569\P+q2a37\P+q6b31\[27m[23m[29m[m[H[2J[?25l[1;1H[96m" ============================================================================
" Netrw Directory Listing                                        [m[1m[96m(netrw v165)[m
[96m"   /home/kwanghokim/workspace/backup_files/AOSP_battery_logging_220120/scripts/logs
"   Sorted by[m[93m      name[m
[96m"   Sort sequence:[m[93m [\/]$[m[96m,[m[93m\<core\%(\.\d\+\)\=\>[m[96m,[m[93m\.h$[m[96m,[m[93m\.c$[m[96m,[m[93m\.cpp$[m[96m,[m[93m\~\=\*$[m[96m,[m[93m*[m[96m,[m[93m\.o$[m[96m,[m[93m\.obj$[m[96m,[m[93m\.info$[m[96m,[m[93m\.swp$[m[96m,[m[93m\.bak$[m[96m,[m[93m\~$[m
[96m"   Quick Help: [m[1m[96m<F1>[m[38;5;224m:[mhelp  [1m[96m-[m[38;5;224m:[mgo up dir  [1m[96mD[m[38;5;224m:[mdelete  [1m[96mR[m[38;5;224m:[mrename  [1m[96ms[m[38;5;224m:[msort-by  [1m[96mx[m[38;5;224m:[mspecial
[96m" ==============================================================================[m
[4m[38;5;159m..[m[1m[4m[96m/[m[4m                                                                                                                                                                                 [m[9;1H[38;5;159m.[m[1m[96m/[m
[38;5;159mperf_vari_apps[m[1m[96m/[m
[38;5;159mtest[m[1m[96m/[m
[94m~                                                                                                                                                                                   [13;1H~                                                                                                                                                                                   [14;1H~                                                                                                                                                                                   [15;1H~                                                                                                                                                                                   [16;1H~                                                                                                                                                                                   [17;1H~                                                                                                                                                                                   [18;1H~                                                                                                                                                                                   [19;1H~                                                                                                                                                                                   [20;1H~                                                                                                                                                                                   [21;1H~                                                                                                                                                                                   [22;1H~                                                                                                                                                                                   [23;1H~                                                                                                                                                                                   [24;1H~                                                                                                                                                                                   [25;1H~                                                                                                                                                                                   [26;1H~                                                                                                                                                                                   [27;1H~                                                                                                                                                                                   [28;1H~                                                                                                                                                                                   [29;1H~                                                                                                                                                                                   [30;1H~                                                                                                                                                                                   [31;1H~                                                                                                                                                                                   [32;1H~                                                                                                                                                                                   [33;1H~                                                                                                                                                                                   [34;1H~                                                                                                                                                                                   [35;1H~                                                                                                                                                                                   [36;1H~                                                                                                                                                                                   [37;1H~                                                                                                                                                                                   [38;1H~                                                                                                                                                                                   [39;1H~                                                                                                                                                                                   [40;1H~                                                                                                                                                                                   [41;1H~                                                                                                                                                                                   [42;1H~                                                                                                                                                                                   [43;1H~                                                                                                                                                                                   [44;1H~                                                                                                                                                                                   [45;1H~                                                                                                                                                                                   [46;1H~                                                                                                                                                                                   [47;1H~                                                                                                                                                                                   [48;1H~                                                                                                                                                                                   [49;1H~                                                                                                                                                                                   [50;1H~                                                                                                                                                                                   [51;1H~                                                                                                                                                                                   [52;1H~                                                                                                                                                                                   [53;1H~                                                                                                                                                                                   [54;1H~                                                                                                                                                                                   [55;1H~                                                                                                                                                                                   [56;1H~                                                                                                                                                                                   [m[57;163H8,1[10Cëª¨ë‘"logs/" ì˜ëª»ëœ íŒŒì¼ ì´ë¦„[8;1H[?25h[?25l[57;165H2[8;2H[?25h[?2004h[?25l[4;15H[93mtime[m[4;19H[K[5;5H[96mQuick Help: [m[1m[96m<F1>[m[38;5;224m:[mhelp  [1m[96m-[m[38;5;224m:[mgo up dir  [1m[96mD[m[38;5;224m:[mdelete  [1m[96mR[m[38;5;224m:[mrename  [1m[96ms[m[38;5;224m:[msort-by  [1m[96mx[m[38;5;224m:[mspecial[5;81H[K[6;3H[96m==============================================================================[m
[38;5;159mperf_vari_apps[m[1m[96m/[m[7;16H[K[8;1H[4m[38;5;159mtest[m[1m[4m[96m/[m[9;2H[38;5;159m.[m[1m[96m/[m
[38;5;159m.[m[1m[96m/[m[10;3H[K[11;1H[94m~                                                                                                                                                                                   [8;2H[?25h[?25l[m[57;1H[K[57;1H:[?2004h[?25hq[?25l[?2004l[?2004h[?2004l[23;2t[23;1t[57;1H[K[57;1H[?2004l[?1l>[?25h[>4;m[?1049l[23;0;0t]0;kwanghokim@kwanghokim-750XDA: ~/workspace/backup_files/AOSP_battery_logging_220120/scripts[01;32mkwanghokim@kwanghokim-750XDA[00m:[01;34m~/workspace/backup_files/AOSP_battery_logging_220120/scripts[00m$ cd logs/test/
]0;kwanghokim@kwanghokim-750XDA: ~/workspace/backup_files/AOSP_battery_logging_220120/scripts/logs/test[01;32mkwanghokim@kwanghokim-750XDA[00m:[01;34m~/workspace/backup_files/AOSP_battery_logging_220120/scripts/logs/test[00m$ ls
[0m[01;34mzepeto[0m
]0;kwanghokim@kwanghokim-750XDA: ~/workspace/backup_files/AOSP_battery_logging_220120/scripts/logs/test[01;32mkwanghokim@kwanghokim-750XDA[00m:[01;34m~/workspace/backup_files/AOSP_battery_logging_220120/scripts/logs/test[00m$ cd zepeto/
]0;kwanghokim@kwanghokim-750XDA: ~/workspace/backup_files/AOSP_battery_logging_220120/scripts/logs/test/zepeto[01;32mkwanghokim@kwanghokim-750XDA[00m:[01;34m~/workspace/backup_files/AOSP_battery_logging_220120/scripts/logs/test/zepeto[00m$ ls
[0m[01;34mPixel_4a[0m
]0;kwanghokim@kwanghokim-750XDA: ~/workspace/backup_files/AOSP_battery_logging_220120/scripts/logs/test/zepeto[01;32mkwanghokim@kwanghokim-750XDA[00m:[01;34m~/workspace/backup_files/AOSP_battery_logging_220120/scripts/logs/test/zepeto[00m$ cd ../[K[K[KPixel_4a/0B131JEC200794/
]0;kwanghokim@kwanghokim-750XDA: ~/workspace/backup_files/AOSP_battery_logging_220120/scripts/logs/test/zepeto/Pixel_4a/0B131JEC200794[01;32mkwanghokim@kwanghokim-750XDA[00m:[01;34m~/workspace/backup_files/AOSP_battery_logging_220120/scripts/logs/test/zepeto/Pixel_4a/0B131JEC200794[00m$ ls
perf.data  perf_output
]0;kwanghokim@kwanghokim-750XDA: ~/workspace/backup_files/AOSP_battery_logging_220120/scripts/logs/test/zepeto/Pixel_4a/0B131JEC200794[01;32mkwanghokim@kwanghokim-750XDA[00m:[01;34m~/workspace/backup_files/AOSP_battery_logging_220120/scripts/logs/test/zepeto/Pixel_4a/0B131JEC200794[00m$ cd ../../../
]0;kwanghokim@kwanghokim-750XDA: ~/workspace/backup_files/AOSP_battery_logging_220120/scripts/logs/test[01;32mkwanghokim@kwanghokim-750XDA[00m:[01;34m~/workspace/backup_files/AOSP_battery_logging_220120/scripts/logs/test[00m$ s[Kcd[K[Kls
[0m[01;34mzepeto[0m
]0;kwanghokim@kwanghokim-750XDA: ~/workspace/backup_files/AOSP_battery_logging_220120/scripts/logs/test[01;32mkwanghokim@kwanghokim-750XDA[00m:[01;34m~/workspace/backup_files/AOSP_battery_logging_220120/scripts/logs/test[00m$ cd zepeto/Pixel_4a/0B131JEC200794/
]0;kwanghokim@kwanghokim-750XDA: ~/workspace/backup_files/AOSP_battery_logging_220120/scripts/logs/test/zepeto/Pixel_4a/0B131JEC200794[01;32mkwanghokim@kwanghokim-750XDA[00m:[01;34m~/workspace/backup_files/AOSP_battery_logging_220120/scripts/logs/test/zepeto/Pixel_4a/0B131JEC200794[00m$ ls
perf.data  perf_output
]0;kwanghokim@kwanghokim-750XDA: ~/workspace/backup_files/AOSP_battery_logging_220120/scripts/logs/test/zepeto/Pixel_4a/0B131JEC200794[01;32mkwanghokim@kwanghokim-750XDA[00m:[01;34m~/workspace/backup_files/AOSP_battery_logging_220120/scripts/logs/test/zepeto/Pixel_4a/0B131JEC200794[00m$ ll
í•©ê³„ 480
drwxrwxr-x 2 kwanghokim kwanghokim   4096  1ì›” 20 11:54 [0m[01;34m.[0m/
drwxrwxr-x 3 kwanghokim kwanghokim   4096  1ì›” 20 11:44 [01;34m..[0m/
-rw-r--r-- 1 kwanghokim kwanghokim 464117  1ì›” 20 11:45 perf.data
-rw-rw-r-- 1 kwanghokim kwanghokim  14666  1ì›” 20 11:54 perf_output
]0;kwanghokim@kwanghokim-750XDA: ~/workspace/backup_files/AOSP_battery_logging_220120/scripts/logs/test/zepeto/Pixel_4a/0B131JEC200794[01;32mkwanghokim@kwanghokim-750XDA[00m:[01;34m~/workspace/backup_files/AOSP_battery_logging_220120/scripts/logs/test/zepeto/Pixel_4a/0B131JEC200794[00m$ cd ../../../
]0;kwanghokim@kwanghokim-750XDA: ~/workspace/backup_files/AOSP_battery_logging_220120/scripts/logs/test[01;32mkwanghokim@kwanghokim-750XDA[00m:[01;34m~/workspace/backup_files/AOSP_battery_logging_220120/scripts/logs/test[00m$ ls
[0m[01;34mzepeto[0m
]0;kwanghokim@kwanghokim-750XDA: ~/workspace/backup_files/AOSP_battery_logging_220120/scripts/logs/test[01;32mkwanghokim@kwanghokim-750XDA[00m:[01;34m~/workspace/backup_files/AOSP_battery_logging_220120/scripts/logs/test[00m$ cd ..
]0;kwanghokim@kwanghokim-750XDA: ~/workspace/backup_files/AOSP_battery_logging_220120/scripts/logs[01;32mkwanghokim@kwanghokim-750XDA[00m:[01;34m~/workspace/backup_files/AOSP_battery_logging_220120/scripts/logs[00m$ cd ..
]0;kwanghokim@kwanghokim-750XDA: ~/workspace/backup_files/AOSP_battery_logging_220120/scripts[01;32mkwanghokim@kwanghokim-750XDA[00m:[01;34m~/workspace/backup_files/AOSP_battery_logging_220120/scripts[00m$ ls
[0m[01;34mbinary_cache[0m  [34;42mlogs[0m                 measure_script.py  parse_batterystats.py  perf.data.txt  test.py   [01;34mtmp[0m         [01;34m{log_path}[0m
[01;34mkkk[0m           measure_perf_kkh.py  measure_w_perf.py  parse_perf_output.py   [01;34msimpleperf[0m     testtest  typescript
]0;kwanghokim@kwanghokim-750XDA: ~/workspace/backup_files/AOSP_battery_logging_220120/scripts[01;32mkwanghokim@kwanghokim-750XDA[00m:[01;34m~/workspace/backup_files/AOSP_battery_logging_220120/scripts[00m$ cd ..^C
]0;kwanghokim@kwanghokim-750XDA: ~/workspace/backup_files/AOSP_battery_logging_220120/scripts[01;32mkwanghokim@kwanghokim-750XDA[00m:[01;34m~/workspace/backup_files/AOSP_battery_logging_220120/scripts[00m$ ^C
]0;kwanghokim@kwanghokim-750XDA: ~/workspace/backup_files/AOSP_battery_logging_220120/scripts[01;32mkwanghokim@kwanghokim-750XDA[00m:[01;34m~/workspace/backup_files/AOSP_battery_logging_220120/scripts[00m$ ls
[0m[01;34mbinary_cache[0m  [34;42mlogs[0m                 measure_script.py  parse_batterystats.py  perf.data.txt  test.py   [01;34mtmp[0m         [01;34m{log_path}[0m
[01;34mkkk[0m           measure_perf_kkh.py  measure_w_perf.py  parse_perf_output.py   [01;34msimpleperf[0m     testtest  typescript
]0;kwanghokim@kwanghokim-750XDA: ~/workspace/backup_files/AOSP_battery_logging_220120/scripts[01;32mkwanghokim@kwanghokim-750XDA[00m:[01;34m~/workspace/backup_files/AOSP_battery_logging_220120/scripts[00m$ ls -al
í•©ê³„ 2080
drwxrwxr-x 8 kwanghokim kwanghokim    4096  1ì›” 20 12:20 [0m[01;34m.[0m
drwxrwxr-x 6 kwanghokim kwanghokim    4096  1ì›” 20 00:42 [01;34m..[0m
-rw-r--r-- 1 kwanghokim kwanghokim   12288  1ì›” 20 11:15 .measure_script.py.swp
drwxrwxr-x 7 kwanghokim kwanghokim    4096  1ì›” 20 11:45 [01;34mbinary_cache[0m
drwxrwxr-x 2 kwanghokim kwanghokim    4096  1ì›” 20 02:43 [01;34mkkk[0m
drwxrwxrwx 4 kwanghokim kwanghokim    4096  1ì›” 20 12:28 [34;42mlogs[0m
-rw-rw-r-- 1 kwanghokim kwanghokim    2539  1ì›” 20 12:20 measure_perf_kkh.py
-rw-rw-r-- 1 kwanghokim kwanghokim    2294  1ì›” 20 00:27 measure_script.py
-rw-rw-r-- 1 kwanghokim kwanghokim    3187  1ì›” 20 12:16 measure_w_perf.py
-rw-rw-r-- 1 kwanghokim kwanghokim    2696  1ì›” 20 00:27 parse_batterystats.py
-rw-rw-r-- 1 kwanghokim kwanghokim    7157  1ì›” 20 00:27 parse_perf_output.py
-rw-rw-r-- 1 kwanghokim kwanghokim       0  1ì›” 20 11:09 perf.data.txt
drwxrwxr-x 8 kwanghokim kwanghokim    4096  1ì›” 20 12:05 [01;34msimpleperf[0m
-rw-rw-r-- 1 kwanghokim kwanghokim     981  1ì›” 20 12:14 test.py
-rw-r--r-- 1 kwanghokim kwanghokim 1903343  1ì›” 20 02:43 testtest
drwxrwxr-x 2 kwanghokim kwanghokim    4096  1ì›” 20 03:15 [01;34mtmp[0m
-rw-rw-r-- 1 kwanghokim kwanghokim  147456  1ì›” 20 12:28 typescript
drwxrwxr-x 2 kwanghokim kwanghokim    4096  1ì›” 20 12:27 [01;34m{log_path}[0m
]0;kwanghokim@kwanghokim-750XDA: ~/workspace/backup_files/AOSP_battery_logging_220120/scripts[01;32mkwanghokim@kwanghokim-750XDA[00m:[01;34m~/workspace/backup_files/AOSP_battery_logging_220120/scripts[00m$ cd logs/
]0;kwanghokim@kwanghokim-750XDA: ~/workspace/backup_files/AOSP_battery_logging_220120/scripts/logs[01;32mkwanghokim@kwanghokim-750XDA[00m:[01;34m~/workspace/backup_files/AOSP_battery_logging_220120/scripts/logs[00m$ ls
[0m[01;34mperf_vari_apps[0m  [01;34mtest[0m
]0;kwanghokim@kwanghokim-750XDA: ~/workspace/backup_files/AOSP_battery_logging_220120/scripts/logs[01;32mkwanghokim@kwanghokim-750XDA[00m:[01;34m~/workspace/backup_files/AOSP_battery_logging_220120/scripts/logs[00m$ cd test/^C
]0;kwanghokim@kwanghokim-750XDA: ~/workspace/backup_files/AOSP_battery_logging_220120/scripts/logs[01;32mkwanghokim@kwanghokim-750XDA[00m:[01;34m~/workspace/backup_files/AOSP_battery_logging_220120/scripts/logs[00m$ [K]0;kwanghokim@kwanghokim-750XDA: ~/workspace/backup_files/AOSP_battery_logging_220120/scripts/logs[01;32mkwanghokim@kwanghokim-750XDA[00m:[01;34m~/workspace/backup_files/AOSP_battery_logging_220120/scripts/logs[00m$ [K]0;kwanghokim@kwanghokim-750XDA: ~/workspace/backup_files/AOSP_battery_logging_220120/scripts/logs[01;32mkwanghokim@kwanghokim-750XDA[00m:[01;34m~/workspace/backup_files/AOSP_battery_logging_220120/scripts/logs[00m$ [K]0;kwanghokim@kwanghokim-750XDA: ~/workspace/backup_files/AOSP_battery_logging_220120/scripts/logs[01;32mkwanghokim@kwanghokim-750XDA[00m:[01;34m~/workspace/backup_files/AOSP_battery_logging_220120/scripts/logs[00m$ [K]0;kwanghokim@kwanghokim-750XDA: ~/workspace/backup_files/AOSP_battery_logging_220120/scripts/logs[01;32mkwanghokim@kwanghokim-750XDA[00m:[01;34m~/workspace/backup_files/AOSP_battery_logging_220120/scripts/logs[00m$ ã…£ã„´
ã…£ã„´: ëª…ë ¹ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤
]0;kwanghokim@kwanghokim-750XDA: ~/workspace/backup_files/AOSP_battery_logging_220120/scripts/logs[01;32mkwanghokim@kwanghokim-750XDA[00m:[01;34m~/workspace/backup_files/AOSP_battery_logging_220120/scripts/logs[00m$ ls
[0m[01;34mperf_apps_kkh[0m  [01;34mperf_vari_apps[0m
]0;kwanghokim@kwanghokim-750XDA: ~/workspace/backup_files/AOSP_battery_logging_220120/scripts/logs[01;32mkwanghokim@kwanghokim-750XDA[00m:[01;34m~/workspace/backup_files/AOSP_battery_logging_220120/scripts/logs[00m$ cd perf_apps_kkh/
]0;kwanghokim@kwanghokim-750XDA: ~/workspace/backup_files/AOSP_battery_logging_220120/scripts/logs/perf_apps_kkh[01;32mkwanghokim@kwanghokim-750XDA[00m:[01;34m~/workspace/backup_files/AOSP_battery_logging_220120/scripts/logs/perf_apps_kkh[00m$ ls
[0m[01;34mspotify[0m
]0;kwanghokim@kwanghokim-750XDA: ~/workspace/backup_files/AOSP_battery_logging_220120/scripts/logs/perf_apps_kkh[01;32mkwanghokim@kwanghokim-750XDA[00m:[01;34m~/workspace/backup_files/AOSP_battery_logging_220120/scripts/logs/perf_apps_kkh[00m$ cd spotify/Pixel_4a/logs_11041JEC218562/0/
]0;kwanghokim@kwanghokim-750XDA: ~/workspace/backup_files/AOSP_battery_logging_220120/scripts/logs/perf_apps_kkh/spotify/Pixel_4a/logs_11041JEC218562/0[01;32mkwanghokim@kwanghokim-750XDA[00m:[01;34m~/workspace/backup_files/AOSP_battery_logging_220120/scripts/logs/perf_apps_kkh/spotify/Pixel_4a/logs_11041JEC218562/0[00m$ ls
]0;kwanghokim@kwanghokim-750XDA: ~/workspace/backup_files/AOSP_battery_logging_220120/scripts/logs/perf_apps_kkh/spotify/Pixel_4a/logs_11041JEC218562/0[01;32mkwanghokim@kwanghokim-750XDA[00m:[01;34m~/workspace/backup_files/AOSP_battery_logging_220120/scripts/logs/perf_apps_kkh/spotify/Pixel_4a/logs_11041JEC218562/0[00m$ ^C
]0;kwanghokim@kwanghokim-750XDA: ~/workspace/backup_files/AOSP_battery_logging_220120/scripts/logs/perf_apps_kkh/spotify/Pixel_4a/logs_11041JEC218562/0[01;32mkwanghokim@kwanghokim-750XDA[00m:[01;34m~/workspace/backup_files/AOSP_battery_logging_220120/scripts/logs/perf_apps_kkh/spotify/Pixel_4a/logs_11041JEC218562/0[00m$ ^C
]0;kwanghokim@kwanghokim-750XDA: ~/workspace/backup_files/AOSP_battery_logging_220120/scripts/logs/perf_apps_kkh/spotify/Pixel_4a/logs_11041JEC218562/0[01;32mkwanghokim@kwanghokim-750XDA[00m:[01;34m~/workspace/backup_files/AOSP_battery_logging_220120/scripts/logs/perf_apps_kkh/spotify/Pixel_4a/logs_11041JEC218562/0[00m$ cd ../../..
]0;kwanghokim@kwanghokim-750XDA: ~/workspace/backup_files/AOSP_battery_logging_220120/scripts/logs/perf_apps_kkh/spotify[01;32mkwanghokim@kwanghokim-750XDA[00m:[01;34m~/workspace/backup_files/AOSP_battery_logging_220120/scripts/logs/perf_apps_kkh/spotify[00m$ cd ..
]0;kwanghokim@kwanghokim-750XDA: ~/workspace/backup_files/AOSP_battery_logging_220120/scripts/logs/perf_apps_kkh[01;32mkwanghokim@kwanghokim-750XDA[00m:[01;34m~/workspace/backup_files/AOSP_battery_logging_220120/scripts/logs/perf_apps_kkh[00m$ cd ../../
]0;kwanghokim@kwanghokim-750XDA: ~/workspace/backup_files/AOSP_battery_logging_220120/scripts[01;32mkwanghokim@kwanghokim-750XDA[00m:[01;34m~/workspace/backup_files/AOSP_battery_logging_220120/scripts[00m$ ls
[0m[01;34mbinary_cache[0m  [34;42mlogs[0m  measure_perf_kkh.py  measure_script.py  measure_w_perf.py  parse_batterystats.py  parse_perf_output.py  perf.data.txt  [01;34msimpleperf[0m  test.py  typescript
]0;kwanghokim@kwanghokim-750XDA: ~/workspace/backup_files/AOSP_battery_logging_220120/scripts[01;32mkwanghokim@kwanghokim-750XDA[00m:[01;34m~/workspace/backup_files/AOSP_battery_logging_220120/scripts[00m$ adb devices
List of devices attached
adb server version (41) doesn't match this client (39); killing...
* daemon started successfully
0B131JEC200794	device

]0;kwanghokim@kwanghokim-750XDA: ~/workspace/backup_files/AOSP_battery_logging_220120/scripts[01;32mkwanghokim@kwanghokim-750XDA[00m:[01;34m~/workspace/backup_files/AOSP_battery_logging_220120/scripts[00m$ [K]0;kwanghokim@kwanghokim-750XDA: ~/workspace/backup_files/AOSP_battery_logging_220120/scripts[01;32mkwanghokim@kwanghokim-750XDA[00m:[01;34m~/workspace/backup_files/AOSP_battery_logging_220120/scripts[00m$ [K]0;kwanghokim@kwanghokim-750XDA: ~/workspace/backup_files/AOSP_battery_logging_220120/scripts[01;32mkwanghokim@kwanghokim-750XDA[00m:[01;34m~/workspace/backup_files/AOSP_battery_logging_220120/scripts[00m$ [K]0;kwanghokim@kwanghokim-750XDA: ~/workspace/backup_files/AOSP_battery_logging_220120/scripts[01;32mkwanghokim@kwanghokim-750XDA[00m:[01;34m~/workspace/backup_files/AOSP_battery_logging_220120/scripts[00m$ [K]0;kwanghokim@kwanghokim-750XDA: ~/workspace/backup_files/AOSP_battery_logging_220120/scripts[01;32mkwanghokim@kwanghokim-750XDA[00m:[01;34m~/workspace/backup_files/AOSP_battery_logging_220120/scripts[00m$ jls[K[K[Kls
[0m[01;34mbinary_cache[0m  [34;42mlogs[0m  measure_perf_kkh.py  measure_script.py  measure_w_perf.py  parse_batterystats.py  parse_perf_output.py  perf.data.txt  [01;34msimpleperf[0m  test.py  typescript
]0;kwanghokim@kwanghokim-750XDA: ~/workspace/backup_files/AOSP_battery_logging_220120/scripts[01;32mkwanghokim@kwanghokim-750XDA[00m:[01;34m~/workspace/backup_files/AOSP_battery_logging_220120/scripts[00m$ cd logs/
]0;kwanghokim@kwanghokim-750XDA: ~/workspace/backup_files/AOSP_battery_logging_220120/scripts/logs[01;32mkwanghokim@kwanghokim-750XDA[00m:[01;34m~/workspace/backup_files/AOSP_battery_logging_220120/scripts/logs[00m$ ls
[0m[01;34mperf_apps_kkh[0m  [01;34mperf_vari_apps[0m
]0;kwanghokim@kwanghokim-750XDA: ~/workspace/backup_files/AOSP_battery_logging_220120/scripts/logs[01;32mkwanghokim@kwanghokim-750XDA[00m:[01;34m~/workspace/backup_files/AOSP_battery_logging_220120/scripts/logs[00m$ cd perf_
bash: cd: perf_: ê·¸ëŸ° íŒŒì¼ì´ë‚˜ ë””ë ‰í„°ë¦¬ê°€ ì—†ìŠµë‹ˆë‹¤
]0;kwanghokim@kwanghokim-750XDA: ~/workspace/backup_files/AOSP_battery_logging_220120/scripts/logs[01;32mkwanghokim@kwanghokim-750XDA[00m:[01;34m~/workspace/backup_files/AOSP_battery_logging_220120/scripts/logs[00m$ ls
[0m[01;34mperf_apps_kkh[0m  [01;34mperf_vari_apps[0m
]0;kwanghokim@kwanghokim-750XDA: ~/workspace/backup_files/AOSP_battery_logging_220120/scripts/logs[01;32mkwanghokim@kwanghokim-750XDA[00m:[01;34m~/workspace/backup_files/AOSP_battery_logging_220120/scripts/logs[00m$ cd perf_apps_kkh/
]0;kwanghokim@kwanghokim-750XDA: ~/workspace/backup_files/AOSP_battery_logging_220120/scripts/logs/perf_apps_kkh[01;32mkwanghokim@kwanghokim-750XDA[00m:[01;34m~/workspace/backup_files/AOSP_battery_logging_220120/scripts/logs/perf_apps_kkh[00m$ ls
[0m[01;34mspotify[0m
]0;kwanghokim@kwanghokim-750XDA: ~/workspace/backup_files/AOSP_battery_logging_220120/scripts/logs/perf_apps_kkh[01;32mkwanghokim@kwanghokim-750XDA[00m:[01;34m~/workspace/backup_files/AOSP_battery_logging_220120/scripts/logs/perf_apps_kkh[00m$ cd spotify/Pixel_4xl/logs_9B061FFBA000ST/0/^C
]0;kwanghokim@kwanghokim-750XDA: ~/workspace/backup_files/AOSP_battery_logging_220120/scripts/logs/perf_apps_kkh[01;32mkwanghokim@kwanghokim-750XDA[00m:[01;34m~/workspace/backup_files/AOSP_battery_logging_220120/scripts/logs/perf_apps_kkh[00m$ ^C
]0;kwanghokim@kwanghokim-750XDA: ~/workspace/backup_files/AOSP_battery_logging_220120/scripts/logs/perf_apps_kkh[01;32mkwanghokim@kwanghokim-750XDA[00m:[01;34m~/workspace/backup_files/AOSP_battery_logging_220120/scripts/logs/perf_apps_kkh[00m$ ^C
]0;kwanghokim@kwanghokim-750XDA: ~/workspace/backup_files/AOSP_battery_logging_220120/scripts/logs/perf_apps_kkh[01;32mkwanghokim@kwanghokim-750XDA[00m:[01;34m~/workspace/backup_files/AOSP_battery_logging_220120/scripts/logs/perf_apps_kkh[00m$ ls
[0m[01;34mspotify[0m
]0;kwanghokim@kwanghokim-750XDA: ~/workspace/backup_files/AOSP_battery_logging_220120/scripts/logs/perf_apps_kkh[01;32mkwanghokim@kwanghokim-750XDA[00m:[01;34m~/workspace/backup_files/AOSP_battery_logging_220120/scripts/logs/perf_apps_kkh[00m$ cd spotify/Pixel_4xl/logs_9B061FFBA000ST/
0/ 1/ 
]0;kwanghokim@kwanghokim-750XDA: ~/workspace/backup_files/AOSP_battery_logging_220120/scripts/logs/perf_apps_kkh[01;32mkwanghokim@kwanghokim-750XDA[00m:[01;34m~/workspace/backup_files/AOSP_battery_logging_220120/scripts/logs/perf_apps_kkh[00m$ cd spotify/Pixel_4xl/logs_9B061FFBA000ST/
0/ 1/ 
]0;kwanghokim@kwanghokim-750XDA: ~/workspace/backup_files/AOSP_battery_logging_220120/scripts/logs/perf_apps_kkh[01;32mkwanghokim@kwanghokim-750XDA[00m:[01;34m~/workspace/backup_files/AOSP_battery_logging_220120/scripts/logs/perf_apps_kkh[00m$ cd spotify/Pixel_4xl/logs_9B061FFBA000ST/^C
]0;kwanghokim@kwanghokim-750XDA: ~/workspace/backup_files/AOSP_battery_logging_220120/scripts/logs/perf_apps_kkh[01;32mkwanghokim@kwanghokim-750XDA[00m:[01;34m~/workspace/backup_files/AOSP_battery_logging_220120/scripts/logs/perf_apps_kkh[00m$ cd ../../..^C
]0;kwanghokim@kwanghokim-750XDA: ~/workspace/backup_files/AOSP_battery_logging_220120/scripts/logs/perf_apps_kkh[01;32mkwanghokim@kwanghokim-750XDA[00m:[01;34m~/workspace/backup_files/AOSP_battery_logging_220120/scripts/logs/perf_apps_kkh[00m$ cd ../../../
]0;kwanghokim@kwanghokim-750XDA: ~/workspace/backup_files/AOSP_battery_logging_220120[01;32mkwanghokim@kwanghokim-750XDA[00m:[01;34m~/workspace/backup_files/AOSP_battery_logging_220120[00m$ ls[K[Kcd scripts/logs/
]0;kwanghokim@kwanghokim-750XDA: ~/workspace/backup_files/AOSP_battery_logging_220120/scripts/logs[01;32mkwanghokim@kwanghokim-750XDA[00m:[01;34m~/workspace/backup_files/AOSP_battery_logging_220120/scripts/logs[00m$ ls
[0m[01;34mperf_apps_kkh[0m  [01;34mperf_vari_apps[0m
]0;kwanghokim@kwanghokim-750XDA: ~/workspace/backup_files/AOSP_battery_logging_220120/scripts/logs[01;32mkwanghokim@kwanghokim-750XDA[00m:[01;34m~/workspace/backup_files/AOSP_battery_logging_220120/scripts/logs[00m$ rm -rf perf_apps_kkh/k[K
]0;kwanghokim@kwanghokim-750XDA: ~/workspace/backup_files/AOSP_battery_logging_220120/scripts/logs[01;32mkwanghokim@kwanghokim-750XDA[00m:[01;34m~/workspace/backup_files/AOSP_battery_logging_220120/scripts/logs[00m$ cd ..
]0;kwanghokim@kwanghokim-750XDA: ~/workspace/backup_files/AOSP_battery_logging_220120/scripts[01;32mkwanghokim@kwanghokim-750XDA[00m:[01;34m~/workspace/backup_files/AOSP_battery_logging_220120/scripts[00m$ cd logs/
]0;kwanghokim@kwanghokim-750XDA: ~/workspace/backup_files/AOSP_battery_logging_220120/scripts/logs[01;32mkwanghokim@kwanghokim-750XDA[00m:[01;34m~/workspace/backup_files/AOSP_battery_logging_220120/scripts/logs[00m$ ls
[0m[01;34mperf_apps_kkh[0m  [01;34mperf_vari_apps[0m
]0;kwanghokim@kwanghokim-750XDA: ~/workspace/backup_files/AOSP_battery_logging_220120/scripts/logs[01;32mkwanghokim@kwanghokim-750XDA[00m:[01;34m~/workspace/backup_files/AOSP_battery_logging_220120/scripts/logs[00m$ rm -rf perf_apps_kkh/
]0;kwanghokim@kwanghokim-750XDA: ~/workspace/backup_files/AOSP_battery_logging_220120/scripts/logs[01;32mkwanghokim@kwanghokim-750XDA[00m:[01;34m~/workspace/backup_files/AOSP_battery_logging_220120/scripts/logs[00m$ cd ..
]0;kwanghokim@kwanghokim-750XDA: ~/workspace/backup_files/AOSP_battery_logging_220120/scripts[01;32mkwanghokim@kwanghokim-750XDA[00m:[01;34m~/workspace/backup_files/AOSP_battery_logging_220120/scripts[00m$ [K]0;kwanghokim@kwanghokim-750XDA: ~/workspace/backup_files/AOSP_battery_logging_220120/scripts[01;32mkwanghokim@kwanghokim-750XDA[00m:[01;34m~/workspace/backup_files/AOSP_battery_logging_220120/scripts[00m$ [K]0;kwanghokim@kwanghokim-750XDA: ~/workspace/backup_files/AOSP_battery_logging_220120/scripts[01;32mkwanghokim@kwanghokim-750XDA[00m:[01;34m~/workspace/backup_files/AOSP_battery_logging_220120/scripts[00m$ cd 
binary_cache/ logs/         simpleperf/   
]0;kwanghokim@kwanghokim-750XDA: ~/workspace/backup_files/AOSP_battery_logging_220120/scripts[01;32mkwanghokim@kwanghokim-750XDA[00m:[01;34m~/workspace/backup_files/AOSP_battery_logging_220120/scripts[00m$ cd logs/o[Kperf_
perf_apps_kkh/  perf_vari_apps/ 
]0;kwanghokim@kwanghokim-750XDA: ~/workspace/backup_files/AOSP_battery_logging_220120/scripts[01;32mkwanghokim@kwanghokim-750XDA[00m:[01;34m~/workspace/backup_files/AOSP_battery_logging_220120/scripts[00m$ cd logs/perf_
perf_apps_kkh/  perf_vari_apps/ 
]0;kwanghokim@kwanghokim-750XDA: ~/workspace/backup_files/AOSP_battery_logging_220120/scripts[01;32mkwanghokim@kwanghokim-750XDA[00m:[01;34m~/workspace/backup_files/AOSP_battery_logging_220120/scripts[00m$ cd logs/perf_
perf_apps_kkh/  perf_vari_apps/ 
]0;kwanghokim@kwanghokim-750XDA: ~/workspace/backup_files/AOSP_battery_logging_220120/scripts[01;32mkwanghokim@kwanghokim-750XDA[00m:[01;34m~/workspace/backup_files/AOSP_battery_logging_220120/scripts[00m$ cd logs/perf_
perf_apps_kkh/  perf_vari_apps/ 
]0;kwanghokim@kwanghokim-750XDA: ~/workspace/backup_files/AOSP_battery_logging_220120/scripts[01;32mkwanghokim@kwanghokim-750XDA[00m:[01;34m~/workspace/backup_files/AOSP_battery_logging_220120/scripts[00m$ cd logs/perf_
perf_apps_kkh/  perf_vari_apps/ 
]0;kwanghokim@kwanghokim-750XDA: ~/workspace/backup_files/AOSP_battery_logging_220120/scripts[01;32mkwanghokim@kwanghokim-750XDA[00m:[01;34m~/workspace/backup_files/AOSP_battery_logging_220120/scripts[00m$ cd logs/perf_apps_kkh/spotify/Pixel_4xl/logs_9B061FFBA000ST/
0/ 1/ 2/ 
]0;kwanghokim@kwanghokim-750XDA: ~/workspace/backup_files/AOSP_battery_logging_220120/scripts[01;32mkwanghokim@kwanghokim-750XDA[00m:[01;34m~/workspace/backup_files/AOSP_battery_logging_220120/scripts[00m$ cd logs/perf_apps_kkh/spotify/Pixel_4xl/logs_9B061FFBA000ST/
0/ 1/ 2/ 
]0;kwanghokim@kwanghokim-750XDA: ~/workspace/backup_files/AOSP_battery_logging_220120/scripts[01;32mkwanghokim@kwanghokim-750XDA[00m:[01;34m~/workspace/backup_files/AOSP_battery_logging_220120/scripts[00m$ cd logs/perf_apps_kkh/spotify/Pixel_4xl/logs_9B061FFBA000ST/
0/ 1/ 2/ 
]0;kwanghokim@kwanghokim-750XDA: ~/workspace/backup_files/AOSP_battery_logging_220120/scripts[01;32mkwanghokim@kwanghokim-750XDA[00m:[01;34m~/workspace/backup_files/AOSP_battery_logging_220120/scripts[00m$ cd logs/perf_apps_kkh/spotify/Pixel_4xl/logs_9B061FFBA000ST/
0/ 1/ 2/ 
]0;kwanghokim@kwanghokim-750XDA: ~/workspace/backup_files/AOSP_battery_logging_220120/scripts[01;32mkwanghokim@kwanghokim-750XDA[00m:[01;34m~/workspace/backup_files/AOSP_battery_logging_220120/scripts[00m$ cd logs/perf_apps_kkh/spotify/Pixel_4xl/logs_9B061FFBA000ST/^C
]0;kwanghokim@kwanghokim-750XDA: ~/workspace/backup_files/AOSP_battery_logging_220120/scripts[01;32mkwanghokim@kwanghokim-750XDA[00m:[01;34m~/workspace/backup_files/AOSP_battery_logging_220120/scripts[00m$ ^C
]0;kwanghokim@kwanghokim-750XDA: ~/workspace/backup_files/AOSP_battery_logging_220120/scripts[01;32mkwanghokim@kwanghokim-750XDA[00m:[01;34m~/workspace/backup_files/AOSP_battery_logging_220120/scripts[00m$ [K]0;kwanghokim@kwanghokim-750XDA: ~/workspace/backup_files/AOSP_battery_logging_220120/scripts[01;32mkwanghokim@kwanghokim-750XDA[00m:[01;34m~/workspace/backup_files/AOSP_battery_logging_220120/scripts[00m$ [K]0;kwanghokim@kwanghokim-750XDA: ~/workspace/backup_files/AOSP_battery_logging_220120/scripts[01;32mkwanghokim@kwanghokim-750XDA[00m:[01;34m~/workspace/backup_files/AOSP_battery_logging_220120/scripts[00m$ [K]0;kwanghokim@kwanghokim-750XDA: ~/workspace/backup_files/AOSP_battery_logging_220120/scripts[01;32mkwanghokim@kwanghokim-750XDA[00m:[01;34m~/workspace/backup_files/AOSP_battery_logging_220120/scripts[00m$ [K]0;kwanghokim@kwanghokim-750XDA: ~/workspace/backup_files/AOSP_battery_logging_220120/scripts[01;32mkwanghokim@kwanghokim-750XDA[00m:[01;34m~/workspace/backup_files/AOSP_battery_logging_220120/scripts[00m$ ls
[0m[01;34mbinary_cache[0m  [34;42mlogs[0m  measure_perf_kkh.py  measure_script.py  measure_w_perf.py  parse_batterystats.py  parse_perf_output.py  perf.data.txt  [01;34msimpleperf[0m  test.py  typescript
]0;kwanghokim@kwanghokim-750XDA: ~/workspace/backup_files/AOSP_battery_logging_220120/scripts[01;32mkwanghokim@kwanghokim-750XDA[00m:[01;34m~/workspace/backup_files/AOSP_battery_logging_220120/scripts[00m$ vi measure_w_perf.py 
[?1049h[22;0;0t[>4;2m[?1h=[?2004h[1;57r[?12h[?12l[22;2t[22;1t[27m[23m[29m[m[H[2J[?25l[57;1H"measure_w_perf.py" 105L, 3190C[2;1Hâ–½[6n[2;1H  [1;1H[>c]10;?]11;?[1;1H[38;5;130m  1 [m[34m#!/home/seralee/.virtualenvs/myenv/bin/python[m
[38;5;130m  2 [m[35mimport[m os
[38;5;130m  3 [m[35mimport[m argparse
[38;5;130m  4 [m[35mimport[m time
[38;5;130m  5 [m[35mimport[m datetime
[38;5;130m  6 [m[35mfrom[m datetime [35mimport[m date
[38;5;130m  7 [m[35mfrom[m datetime [35mimport[m datetime
[38;5;130m  8 
  9 [m[35mimport[m sys
[38;5;130m 10 
 11 [m[34m#@@from bs4 import BeautifulSoup[m
[38;5;130m 12 [m[35mimport[m heapq
[38;5;130m 13 
 14 [m[31m"""[m
[38;5;130m 15 [m[31mduration, start & end point[m
[38;5;130m 16 [m[31mtwo mode: measure number of instructions w/ perf and cpu consumpted power using batterystats[m
[38;5;130m 17 
 18 [m[31massume that: app already launched[m
[38;5;130m 19 [m[31m"""[m
[38;5;130m 20 
 21 def[m [36mexec_cmd[m(cmd):
[38;5;130m 22 [m  [36mprint[m(cmd)
[38;5;130m 23 [m  os.system(cmd)
[38;5;130m 24 
 25 def[m [36mmeasure_perf[m(package, duration, log_path):
[38;5;130m 26 [m  duration = duration
[38;5;130m 27 [m  log_perf_path = f[31m"{log_path}/perf.data"[m
[38;5;130m 28 [m  exec_cmd(f[31m"python simpleperf/app_profiler.py -p {package} -o {log_perf_path} -r '-e instructions -f 1000 --duration {duration} --call-graph fp'"[m)
[38;5;130m 29 [m  log_output_path = f[31m"{log_path}/perf_output"[m
[38;5;130m 30 [m  exec_cmd(f[31m"python simpleperf/report.py -i {log_path}/perf.data> {log_output_path}"[m)
[38;5;130m 31 
 32 def[m [36mexec_via_adb[m(cmd, target_device_id):
[38;5;130m 33 [m  os.system([31m"adb -s "[m + target_device_id + [31m" shell [m[35m\"[m[31m"[m + cmd + [31m"[m[35m\"[m[31m"[m)
[38;5;130m 34 
 35 def[m [36mpull_via_adb[m(target_device_id, from_file_path, to_file_path):
[38;5;130m 36 [m  os.system([31m"adb -s %s pull %s %s"[m % (target_device_id, [35m\[m
[38;5;130m 37 [m      from_file_path, to_file_path))
[38;5;130m 38 
 39 def[m [36mlog_batterystat[m(target_device_id, to_file_path):
[38;5;130m 40 [m  os.system([31m"adb -s %s root && adb -s %s shell 'chmod 777 /data/local/tmp' && adb -s %s shell 'setenforce 0' && adb -s %s shell dumpsys batterystats"[m % (target_device_id, targee[41;1H[38;5;130m    [mt_device_id, target_device_id, target_device_id))
[38;5;130m 41 
 42 [m  pull_via_adb(target_device_id, [31m"/data/local/tmp/log"[m, [35m\[m
[38;5;130m 43 [m      to_file_path)
[38;5;130m 44 def[m [36munplug[m(device_id):
[38;5;130m 45 [m  exec_via_adb([31m"dumpsys battery set ac 0; dumpsys battery set usb 0;"[m, device_id);
[38;5;130m 46 
 47 def[m [36mdisable_screen_off[m(target_device_id):
[38;5;130m 48 [m  exec_via_adb([31m"settings put system screen_off_timeout 100000000"[m, target_device_id)
[38;5;130m 49 def[m [36mplug[m(device_id):
[38;5;130m 50 [m  exec_via_adb([31m"dumpsys battery set ac 1; dumpsys battery set usb 1;"[m, device_id);
[38;5;130m 51 
 52 def[m [36mmeasure_batterystat[m(duration, log_path, target_device_id):
[38;5;130m 53 [m  exec_via_adb([31m"dumpsys batterystats --reset"[m, target_device_id)
[38;5;130m 54 [m  unplug(target_device_id)
[38;5;130m 55 [m  time.sleep(duration)[57;163H1,1[8Cê¼­ëŒ€ê¸°[1;5H[?25hP+q436f\P+q6b75\P+q6b64\P+q6b72\P+q6b6c\P+q2332\P+q2334\P+q2569\P+q2a37\P+q6b31\[27m[23m[29m[m[H[2J[?25l[1;1H[93m  1 [m[96m#!/home/seralee/.virtualenvs/myenv/bin/python[m
[93m  2 [m[38;5;81mimport[m os
[93m  3 [m[38;5;81mimport[m argparse
[93m  4 [m[38;5;81mimport[m time
[93m  5 [m[38;5;81mimport[m datetime
[93m  6 [m[38;5;81mfrom[m datetime [38;5;81mimport[m date
[93m  7 [m[38;5;81mfrom[m datetime [38;5;81mimport[m datetime
[93m  8 
  9 [m[38;5;81mimport[m sys
[93m 10 
 11 [m[96m#@@from bs4 import BeautifulSoup[m
[93m 12 [m[38;5;81mimport[m heapq
[93m 13 
 14 [m[95m"""[m
[93m 15 [m[95mduration, start & end point[m
[93m 16 [m[95mtwo mode: measure number of instructions w/ perf and cpu consumpted power using batterystats[m
[93m 17 
 18 [m[95massume that: app already launched[m
[93m 19 [m[95m"""[m
[93m 20 
 21 [m[93mdef[m [1m[96mexec_cmd[m(cmd):
[93m 22 [m  [1m[96mprint[m(cmd)
[93m 23 [m  os.system(cmd)
[93m 24 
 25 [m[93mdef[m [1m[96mmeasure_perf[m(package, duration, log_path):
[93m 26 [m  duration = duration
[93m 27 [m  log_perf_path = f[95m"{log_path}/perf.data"[m
[93m 28 [m  exec_cmd(f[95m"python simpleperf/app_profiler.py -p {package} -o {log_perf_path} -r '-e instructions -f 1000 --duration {duration} --call-graph fp'"[m)
[93m 29 [m  log_output_path = f[95m"{log_path}/perf_output"[m
[93m 30 [m  exec_cmd(f[95m"python simpleperf/report.py -i {log_path}/perf.data> {log_output_path}"[m)
[93m 31 
 32 [m[93mdef[m [1m[96mexec_via_adb[m(cmd, target_device_id):
[93m 33 [m  os.system([95m"adb -s "[m + target_device_id + [95m" shell [m[38;5;224m\"[m[95m"[m + cmd + [95m"[m[38;5;224m\"[m[95m"[m)
[93m 34 
 35 [m[93mdef[m [1m[96mpull_via_adb[m(target_device_id, from_file_path, to_file_path):
[93m 36 [m  os.system([95m"adb -s %s pull %s %s"[m % (target_device_id, [38;5;224m\[m
[93m 37 [m      from_file_path, to_file_path))
[93m 38 
 39 [m[93mdef[m [1m[96mlog_batterystat[m(target_device_id, to_file_path):
[93m 40 [m  os.system([95m"adb -s %s root && adb -s %s shell 'chmod 777 /data/local/tmp' && adb -s %s shell 'setenforce 0' && adb -s %s shell dumpsys batterystats"[m % (target_device_id, targee[41;1H[93m    [mt_device_id, target_device_id, target_device_id))
[93m 41 
 42 [m  pull_via_adb(target_device_id, [95m"/data/local/tmp/log"[m, [38;5;224m\[m
[93m 43 [m      to_file_path)
[93m 44 [m[93mdef[m [1m[96munplug[m(device_id):
[93m 45 [m  exec_via_adb([95m"dumpsys battery set ac 0; dumpsys battery set usb 0;"[m, device_id);
[93m 46 
 47 [m[93mdef[m [1m[96mdisable_screen_off[m(target_device_id):
[93m 48 [m  exec_via_adb([95m"settings put system screen_off_timeout 100000000"[m, target_device_id)
[93m 49 [m[93mdef[m [1m[96mplug[m(device_id):
[93m 50 [m  exec_via_adb([95m"dumpsys battery set ac 1; dumpsys battery set usb 1;"[m, device_id);
[93m 51 
 52 [m[93mdef[m [1m[96mmeasure_batterystat[m(duration, log_path, target_device_id):
[93m 53 [m  exec_via_adb([95m"dumpsys batterystats --reset"[m, target_device_id)
[93m 54 [m  unplug(target_device_id)
[93m 55 [m  time.sleep(duration)[57;163H1,1[8Cê¼­ëŒ€ê¸°"measure_w_perf.py" 105L, 3190C[1;5H[?25h[?25l[57;1H[K[57;1H:[?2004h[?25hq[38;5;81m^X[m:q[?25l[97m[41mE488: ëì— ë¬¸ìê°€ ë” ìˆìŠµë‹ˆë‹¤[m[133C1,1[8Cê¼­ëŒ€ê¸°[1;5H[?25h[?25l[57;1H[K[57;1H:[?2004h[?25hq![?25l[?2004l[23;2t[23;1t[57;1H[K[57;1H[?2004l[?1l>[?25h[>4;m[?1049l[23;0;0t]0;kwanghokim@kwanghokim-750XDA: ~/workspace/backup_files/AOSP_battery_logging_220120/scripts[01;32mkwanghokim@kwanghokim-750XDA[00m:[01;34m~/workspace/backup_files/AOSP_battery_logging_220120/scripts[00m$ vimdiee[K[Kff measure_w_perf.py measure_perf_kkh.py 
2 íŒŒì¼ì„ ê³ ì¹˜ê¸°
[?1049h[22;0;0t[>4;2m[?1h=[?2004h[1;57r[?12h[?12l[22;2t[22;1t[27m[23m[29m[m[H[2J[?25l[57;1H"measure_w_perf.py" 105L, 3190C[57;10Hperf_kkh.py" [57;23H[K[57;23H92L, 2540C[2;1Hâ–½[6n[2;1H  [1;1H[>c]10;?]11;?[1;1H[34m[48;5;248m+ [m[34m[48;5;248m  1 +--  4 ì¤„: #!/home/seralee/.virtualenvs/myenv/bin/python----------------------------[m[7m|[m
[34m[48;5;248m  [m[38;5;130m  5 [m[35mimport[m datetime[69C[7m|[m
[34m[48;5;248m  [m[38;5;130m  6 [m[35mfrom[m datetime [35mimport[m date[59C[7m|[m
[34m[48;5;248m  [m[38;5;130m  7 [m[35mfrom[m datetime [35mimport[m datetime[55C[7m|[m
[34m[48;5;248m  [m[38;5;130m  8 [m[84C[7m|[m
[34m[48;5;248m  [m[38;5;130m  9 [m[35mimport[m sys[74C[7m|[m
[34m[48;5;248m  [m[38;5;130m 10 [m[84C[7m|[m
[34m[48;5;248m  [m[38;5;130m 11 [m[34m[48;5;225m#[m[1m[34m[101m@@[m[34m[48;5;225mfrom bs4 import BeautifulSoup[m[48;5;225m                                                    [m[7m|[m
[34m[48;5;248m  [m[38;5;130m 12 [m[35mimport[m heapq[72C[7m|[m
[34m[48;5;248m  [m[38;5;130m 13 [m[84C[7m|[m
[34m[48;5;248m  [m[38;5;130m 14 [m[31m"""[m[81C[7m|[m
[34m[48;5;248m  [m[38;5;130m 15 [m[31mduration, start & end point[m[57C[7m|[m
[34m[48;5;248m  [m[38;5;130m 16 [m[31mtwo mode: measure number of instructions w/ perf and cpu consumpted power using batt[m[7m|[m
[34m[48;5;248m  [m[38;5;130m 17 [m[84C[7m|[m
[34m[48;5;248m+ [m[34m[48;5;248m 18 +-- 15 ì¤„: assume that: app already launched----------------------------------------[m[7m|[m
[34m[48;5;248m  [m[38;5;130m 33 [m  os.system([31m"adb -s "[m + target_device_id + [31m" shell [m[35m\"[m[31m"[m + cmd + [31m"[m[35m\"[m[31m"[m)[16C[7m|[m
[34m[48;5;248m  [m[38;5;130m 34 [m[84C[7m|[m
[34m[48;5;248m  [m[38;5;130m 35 def[m [36mpull_via_adb[m(target_device_id, from_file_path, to_file_path):[19C[7m|[m
[34m[48;5;248m  [m[38;5;130m 36 [m  os.system([31m"adb -s %s pull %s %s"[m % (target_device_id, [35m\[m[27C[7m|[m
[34m[48;5;248m  [m[38;5;130m 37 [m      from_file_path, to_file_path))[48C[7m|[m
[34m[48;5;248m  [m[38;5;130m 38 [m[84C[7m|[m
[34m[48;5;248m  [m[38;5;130m 39 [m[38;5;130m[48;5;81mdef[m[48;5;81m [m[36m[48;5;81mlog_batterystat[m[48;5;81m(target_device_id, to_file_path):                                [m[7m|[m
[34m[48;5;248m  [m[38;5;130m 40 [m[48;5;81m  os.system([m[31m[48;5;81m"adb -s %s root && adb -s %s shell 'chmod 777 /data/local/tmp' && adb -s[m[7m|[m
[34m[48;5;248m  [m[38;5;130m 41 [m[48;5;81m                                                                                    [m[7m|[m
[34m[48;5;248m  [m[38;5;130m 42 [m[48;5;81m  pull_via_adb(target_device_id, [m[31m[48;5;81m"/data/local/tmp/log"[m[48;5;81m, [m[35m[48;5;81m\[m[48;5;81m                           [m[7m|[m
[34m[48;5;248m  [m[38;5;130m 43 [m[48;5;81m      to_file_path)                                                                 [m[7m|[m
[34m[48;5;248m  [m[38;5;130m 44 def[m [36munplug[m(device_id):[62C[7m|[m
[34m[48;5;248m  [m[38;5;130m 45 [m  exec_via_adb([31m"dumpsys battery set ac 0; dumpsys battery set usb 0;"[m, device_id);  [7m|[m
[34m[48;5;248m  [m[38;5;130m 46 [m[84C[7m|[m
[34m[48;5;248m  [m[38;5;130m 47 def[m [36mdisable_screen_off[m(target_device_id):[43C[7m|[m
[34m[48;5;248m  [m[38;5;130m 48 [m  exec_via_adb([31m"settings put system screen_off_timeout 100000000"[m, target_device_id)[7m|[m
[34m[48;5;248m  [m[38;5;130m 49 def[m [36mplug[m(device_id):[64C[7m|[m
[34m[48;5;248m  [m[38;5;130m 50 [m  exec_via_adb([31m"dumpsys battery set ac 1; dumpsys battery set usb 1;"[m, device_id);  [7m|[m
[34m[48;5;248m  [m[38;5;130m 51 [m[84C[7m|[m
[34m[48;5;248m  [m[38;5;130m 52 [m[38;5;130m[48;5;81mdef[m[48;5;81m [m[36m[48;5;81mmeasure_batterystat[m[48;5;81m(duration, log_path, target_device_id):                      [m[7m|[m
[34m[48;5;248m  [m[38;5;130m 53 [m[48;5;81m  exec_via_adb([m[31m[48;5;81m"dumpsys batterystats --reset"[m[48;5;81m, target_device_id)                    [m[7m|[m
[34m[48;5;248m  [m[38;5;130m 54 [m[48;5;81m  unplug(target_device_id)                                                          [m[7m|[m
[34m[48;5;248m  [m[38;5;130m 55 [m[48;5;81m  time.sleep(duration)                                                              [m[7m|[m
[34m[48;5;248m  [m[38;5;130m 56 [m[48;5;81m  plug(target_device_id)                                                            [m[7m|[m
[34m[48;5;248m  [m[38;5;130m 57 [m[48;5;81m  log_path = f[m[31m[48;5;81m"{log_path}/batterystats"[m[48;5;81m                                             [m[7m|[m
[34m[48;5;248m  [m[38;5;130m 58 [m[48;5;81m  log_batterystat(target_device_id, log_path)                                       [m[7m|[m
[34m[48;5;248m  [m[38;5;130m 59 [m[48;5;81m                                                                                    [m[7m|[m
[34m[48;5;248m  [m[38;5;130m 60 [m[84C[7m|[m
[34m[48;5;248m  [m[38;5;130m 61 [m[84C[7m|[m
[34m[48;5;248m  [m[38;5;130m 62 [m[84C[7m|[m
[34m[48;5;248m  [m[38;5;130m 63 if[m __name__ == [31m'__main__'[m:[58C[7m|[m
[34m[48;5;248m  [m[38;5;130m 64 [m[84C[7m|[m
[34m[48;5;248m  [m[38;5;130m 65 [m  parser = argparse.ArgumentParser(description=[31m'Execute the experiment'[m)[12C[7m|[m
[34m[48;5;248m+ [m[34m[48;5;248m 66 +-- 40 ì¤„: parser.add_argument('--desc', type=str)----------------------------------[m[7m|[50;91H|[51;91H|[52;91H|[53;91H|[54;91H|[55;91H|[m[50;1H[94m~                                                                                         
~                                                                                         
~                                                                                         
~                                                                                         
~                                                                                         
~                                                                                         [m
[1m[7mmeasure_w_perf.py                                                       1,1           ëª¨ë‘ [m[1;92H[34m[48;5;248m+ [m[34m[48;5;248m  1 +--  4 ì¤„: #!/home/seralee/.virtualenvs/myenv/bin/python---------------------------[m[2;92H[34m[48;5;248m  [m[38;5;130m  5 [m[35mimport[m datetime[3;92H[34m[48;5;248m  [m[38;5;130m  6 [m[35mfrom[m datetime [35mimport[m date[4;92H[34m[48;5;248m  [m[38;5;130m  7 [m[35mfrom[m datetime [35mimport[m datetime[5;92H[34m[48;5;248m  [m[38;5;130m  8 [m[6;92H[34m[48;5;248m  [m[38;5;130m  9 [m[35mimport[m sys[7;92H[34m[48;5;248m  [m[38;5;130m 10 [m[8;92H[34m[48;5;248m  [m[38;5;130m 11 [m[34m[48;5;225m#from bs4 import BeautifulSoup[m[48;5;225m                                                     [m[9;92H[34m[48;5;248m  [m[38;5;130m 12 [m[35mimport[m heapq[10;92H[34m[48;5;248m  [m[38;5;130m 13 [m[11;92H[34m[48;5;248m  [m[38;5;130m 14 [m[31m"""[m[12;92H[34m[48;5;248m  [m[38;5;130m 15 [m[31mduration, start & end point[m[13;92H[34m[48;5;248m  [m[38;5;130m 16 [m[31mtwo mode: measure number of instructions w/ perf and cpu consumpted power using bat[m[14;92H[34m[48;5;248m  [m[38;5;130m 17 [m[15;92H[34m[48;5;248m+ [m[34m[48;5;248m 18 +-- 15 ì¤„: assume that: app already launched---------------------------------------[m[16;92H[34m[48;5;248m  [m[38;5;130m 33 [m  os.system([31m"adb -s "[m + target_device_id + [31m" shell [m[35m\"[m[31m"[m + cmd + [31m"[m[35m\"[m[31m"[m)[17;92H[34m[48;5;248m  [m[38;5;130m 34 [m[18;92H[34m[48;5;248m  [m[38;5;130m 35 def[m [36mpull_via_adb[m(target_device_id, from_file_path, to_file_path):[19;92H[34m[48;5;248m  [m[38;5;130m 36 [m  os.system([31m"adb -s %s pull %s %s"[m % (target_device_id, [35m\[m[20;92H[34m[48;5;248m  [m[38;5;130m 37 [m      from_file_path, to_file_path))[21;92H[34m[48;5;248m  [m[38;5;130m 38 [m[22;92H[34m[48;5;248m  [m[38;5;130m    [m[94m[48;5;159m-----------------------------------------------------------------------------------[m[23;92H[34m[48;5;248m  [m[38;5;130m    [m[94m[48;5;159m-----------------------------------------------------------------------------------[m[24;92H[34m[48;5;248m  [m[38;5;130m    [m[94m[48;5;159m-----------------------------------------------------------------------------------[m[25;92H[34m[48;5;248m  [m[38;5;130m    [m[94m[48;5;159m-----------------------------------------------------------------------------------[m[26;92H[34m[48;5;248m  [m[38;5;130m    [m[94m[48;5;159m-----------------------------------------------------------------------------------[m[27;92H[34m[48;5;248m  [m[38;5;130m 39 def[m [36munplug[m(device_id):[28;92H[34m[48;5;248m  [m[38;5;130m 40 [m  exec_via_adb([31m"dumpsys battery set ac 0; dumpsys battery set usb 0;"[m, device_id);[29;92H[34m[48;5;248m  [m[38;5;130m 41 [m[30;92H[34m[48;5;248m  [m[38;5;130m 42 def[m [36mdisable_screen_off[m(target_device_id):[31;92H[34m[48;5;248m  [m[38;5;130m 43 [m  exec_via_adb([31m"settings put system screen_off_timeout 100000000"[m, target_device_id[32;92H[34m[48;5;248m  [m[38;5;130m 44 def[m [36mplug[m(device_id):[33;92H[34m[48;5;248m  [m[38;5;130m 45 [m  exec_via_adb([31m"dumpsys battery set ac 1; dumpsys battery set usb 1;"[m, device_id);[34;92H[34m[48;5;248m  [m[38;5;130m 46 [m[35;92H[34m[48;5;248m  [m[38;5;130m    [m[94m[48;5;159m-----------------------------------------------------------------------------------[m[36;92H[34m[48;5;248m  [m[38;5;130m    [m[94m[48;5;159m-----------------------------------------------------------------------------------[m[37;92H[34m[48;5;248m  [m[38;5;130m    [m[94m[48;5;159m-----------------------------------------------------------------------------------[m[38;92H[34m[48;5;248m  [m[38;5;130m    [m[94m[48;5;159m-----------------------------------------------------------------------------------[m[39;92H[34m[48;5;248m  [m[38;5;130m    [m[94m[48;5;159m-----------------------------------------------------------------------------------[m[40;92H[34m[48;5;248m  [m[38;5;130m    [m[94m[48;5;159m-----------------------------------------------------------------------------------[m[41;92H[34m[48;5;248m  [m[38;5;130m    [m[94m[48;5;159m-----------------------------------------------------------------------------------[m[42;92H[34m[48;5;248m  [m[38;5;130m    [m[94m[48;5;159m-----------------------------------------------------------------------------------[m[43;92H[34m[48;5;248m  [m[38;5;130m 47 [m[44;92H[34m[48;5;248m  [m[38;5;130m 48 [m[45;92H[34m[48;5;248m  [m[38;5;130m 49 [m[46;92H[34m[48;5;248m  [m[38;5;130m 50 if[m __name__ == [31m'__main__'[m:[47;92H[34m[48;5;248m  [m[38;5;130m 51 [m[48;92H[34m[48;5;248m  [m[38;5;130m 52 [m  parser = argparse.ArgumentParser(description=[31m'Execute the experiment'[m)[49;92H[34m[48;5;248m+ [m[34m[48;5;248m 53 +-- 40 ì¤„: parser.add_argument('--desc', type=str)---------------------------------[m[50;92H[94m~                                                                                        [51;92H~                                                                                        [52;92H~                                                                                        [53;92H~                                                                                        [54;92H~                                                                                        [55;92H~                                                                                        [m[56;92H[7mmeasure_perf_kkh.py                                                    1,1           ëª¨ë‘[1;7H[?25hP+q436f\P+q6b75\P+q6b64\P+q6b72\P+q6b6c\P+q2332\P+q2334\P+q2569\P+q2a37\P+q6b31\[27m[23m[29m[m[H[2J[?25l[1;1H[96m[48;5;242m+ [m[96m[48;5;242m  1 +--  4 ì¤„: #!/home/seralee/.virtualenvs/myenv/bin/python----------------------------[m[7m|[m
[96m[48;5;242m  [m[93m  5 [m[38;5;81mimport[m datetime[69C[7m|[m
[96m[48;5;242m  [m[93m  6 [m[38;5;81mfrom[m datetime [38;5;81mimport[m date[59C[7m|[m
[96m[48;5;242m  [m[93m  7 [m[38;5;81mfrom[m datetime [38;5;81mimport[m datetime[55C[7m|[m
[96m[48;5;242m  [m[93m  8 [m[84C[7m|[m
[96m[48;5;242m  [m[93m  9 [m[38;5;81mimport[m sys[74C[7m|[m
[96m[48;5;242m  [m[93m 10 [m[84C[7m|[m
[96m[48;5;242m  [m[93m 11 [m[96m[45m#[m[1m[96m[101m@@[m[96m[45mfrom bs4 import BeautifulSoup[m[45m                                                    [m[7m|[m
[96m[48;5;242m  [m[93m 12 [m[38;5;81mimport[m heapq[72C[7m|[m
[96m[48;5;242m  [m[93m 13 [m[84C[7m|[m
[96m[48;5;242m  [m[93m 14 [m[95m"""[m[81C[7m|[m
[96m[48;5;242m  [m[93m 15 [m[95mduration, start & end point[m[57C[7m|[m
[96m[48;5;242m  [m[93m 16 [m[95mtwo mode: measure number of instructions w/ perf and cpu consumpted power using batt[m[7m|[m
[96m[48;5;242m  [m[93m 17 [m[84C[7m|[m
[96m[48;5;242m+ [m[96m[48;5;242m 18 +-- 15 ì¤„: assume that: app already launched----------------------------------------[m[7m|[m
[96m[48;5;242m  [m[93m 33 [m  os.system([95m"adb -s "[m + target_device_id + [95m" shell [m[38;5;224m\"[m[95m"[m + cmd + [95m"[m[38;5;224m\"[m[95m"[m)[16C[7m|[m
[96m[48;5;242m  [m[93m 34 [m[84C[7m|[m
[96m[48;5;242m  [m[93m 35 [m[93mdef[m [1m[96mpull_via_adb[m(target_device_id, from_file_path, to_file_path):[19C[7m|[m
[96m[48;5;242m  [m[93m 36 [m  os.system([95m"adb -s %s pull %s %s"[m % (target_device_id, [38;5;224m\[m[27C[7m|[m
[96m[48;5;242m  [m[93m 37 [m      from_file_path, to_file_path))[48C[7m|[m
[96m[48;5;242m  [m[93m 38 [m[84C[7m|[m
[96m[48;5;242m  [m[93m 39 [m[93m[44mdef[m[44m [m[1m[96m[44mlog_batterystat[m[44m(target_device_id, to_file_path):                                [m[7m|[m
[96m[48;5;242m  [m[93m 40 [m[44m  os.system([m[95m[44m"adb -s %s root && adb -s %s shell 'chmod 777 /data/local/tmp' && adb -s[m[7m|[m
[96m[48;5;242m  [m[93m 41 [m[44m                                                                                    [m[7m|[m
[96m[48;5;242m  [m[93m 42 [m[44m  pull_via_adb(target_device_id, [m[95m[44m"/data/local/tmp/log"[m[44m, [m[38;5;224m[44m\[m[44m                           [m[7m|[m
[96m[48;5;242m  [m[93m 43 [m[44m      to_file_path)                                                                 [m[7m|[m
[96m[48;5;242m  [m[93m 44 [m[93mdef[m [1m[96munplug[m(device_id):[62C[7m|[m
[96m[48;5;242m  [m[93m 45 [m  exec_via_adb([95m"dumpsys battery set ac 0; dumpsys battery set usb 0;"[m, device_id);  [7m|[m
[96m[48;5;242m  [m[93m 46 [m[84C[7m|[m
[96m[48;5;242m  [m[93m 47 [m[93mdef[m [1m[96mdisable_screen_off[m(target_device_id):[43C[7m|[m
[96m[48;5;242m  [m[93m 48 [m  exec_via_adb([95m"settings put system screen_off_timeout 100000000"[m, target_device_id)[7m|[m
[96m[48;5;242m  [m[93m 49 [m[93mdef[m [1m[96mplug[m(device_id):[64C[7m|[m
[96m[48;5;242m  [m[93m 50 [m  exec_via_adb([95m"dumpsys battery set ac 1; dumpsys battery set usb 1;"[m, device_id);  [7m|[m
[96m[48;5;242m  [m[93m 51 [m[84C[7m|[m
[96m[48;5;242m  [m[93m 52 [m[93m[44mdef[m[44m [m[1m[96m[44mmeasure_batterystat[m[44m(duration, log_path, target_device_id):                      [m[7m|[m
[96m[48;5;242m  [m[93m 53 [m[44m  exec_via_adb([m[95m[44m"dumpsys batterystats --reset"[m[44m, target_device_id)                    [m[7m|[m
[96m[48;5;242m  [m[93m 54 [m[44m  unplug(target_device_id)                                                          [m[7m|[m
[96m[48;5;242m  [m[93m 55 [m[44m  time.sleep(duration)                                                              [m[7m|[m
[96m[48;5;242m  [m[93m 56 [m[44m  plug(target_device_id)                                                            [m[7m|[m
[96m[48;5;242m  [m[93m 57 [m[44m  log_path = f[m[95m[44m"{log_path}/batterystats"[m[44m                                             [m[7m|[m
[96m[48;5;242m  [m[93m 58 [m[44m  log_batterystat(target_device_id, log_path)                                       [m[7m|[m
[96m[48;5;242m  [m[93m 59 [m[44m                                                                                    [m[7m|[m
[96m[48;5;242m  [m[93m 60 [m[84C[7m|[m
[96m[48;5;242m  [m[93m 61 [m[84C[7m|[m
[96m[48;5;242m  [m[93m 62 [m[84C[7m|[m
[96m[48;5;242m  [m[93m 63 [m[93mif[m __name__ == [95m'__main__'[m:[58C[7m|[m
[96m[48;5;242m  [m[93m 64 [m[84C[7m|[m
[96m[48;5;242m  [m[93m 65 [m  parser = argparse.ArgumentParser(description=[95m'Execute the experiment'[m)[12C[7m|[m
[96m[48;5;242m+ [m[96m[48;5;242m 66 +-- 40 ì¤„: parser.add_argument('--desc', type=str)----------------------------------[m[7m|[50;91H|[51;91H|[52;91H|[53;91H|[54;91H|[55;91H|[m[50;1H[94m~                                                                                         
~                                                                                         
~                                                                                         
~                                                                                         
~                                                                                         
~                                                                                         [m
[1m[7mmeasure_w_perf.py                                                       1,1           ëª¨ë‘ [m[1;92H[96m[48;5;242m+ [m[96m[48;5;242m  1 +--  4 ì¤„: #!/home/seralee/.virtualenvs/myenv/bin/python---------------------------[m[2;92H[96m[48;5;242m  [m[93m  5 [m[38;5;81mimport[m datetime[3;92H[96m[48;5;242m  [m[93m  6 [m[38;5;81mfrom[m datetime [38;5;81mimport[m date[4;92H[96m[48;5;242m  [m[93m  7 [m[38;5;81mfrom[m datetime [38;5;81mimport[m datetime[5;92H[96m[48;5;242m  [m[93m  8 [m[6;92H[96m[48;5;242m  [m[93m  9 [m[38;5;81mimport[m sys[7;92H[96m[48;5;242m  [m[93m 10 [m[8;92H[96m[48;5;242m  [m[93m 11 [m[96m[45m#from bs4 import BeautifulSoup[m[45m                                                     [m[9;92H[96m[48;5;242m  [m[93m 12 [m[38;5;81mimport[m heapq[10;92H[96m[48;5;242m  [m[93m 13 [m[11;92H[96m[48;5;242m  [m[93m 14 [m[95m"""[m[12;92H[96m[48;5;242m  [m[93m 15 [m[95mduration, start & end point[m[13;92H[96m[48;5;242m  [m[93m 16 [m[95mtwo mode: measure number of instructions w/ perf and cpu consumpted power using bat[m[14;92H[96m[48;5;242m  [m[93m 17 [m[15;92H[96m[48;5;242m+ [m[96m[48;5;242m 18 +-- 15 ì¤„: assume that: app already launched---------------------------------------[m[16;92H[96m[48;5;242m  [m[93m 33 [m  os.system([95m"adb -s "[m + target_device_id + [95m" shell [m[38;5;224m\"[m[95m"[m + cmd + [95m"[m[38;5;224m\"[m[95m"[m)[17;92H[96m[48;5;242m  [m[93m 34 [m[18;92H[96m[48;5;242m  [m[93m 35 [m[93mdef[m [1m[96mpull_via_adb[m(target_device_id, from_file_path, to_file_path):[19;92H[96m[48;5;242m  [m[93m 36 [m  os.system([95m"adb -s %s pull %s %s"[m % (target_device_id, [38;5;224m\[m[20;92H[96m[48;5;242m  [m[93m 37 [m      from_file_path, to_file_path))[21;92H[96m[48;5;242m  [m[93m 38 [m[22;92H[96m[48;5;242m  [m[93m    [m[94m[46m-----------------------------------------------------------------------------------[m[23;92H[96m[48;5;242m  [m[93m    [m[94m[46m-----------------------------------------------------------------------------------[m[24;92H[96m[48;5;242m  [m[93m    [m[94m[46m-----------------------------------------------------------------------------------[m[25;92H[96m[48;5;242m  [m[93m    [m[94m[46m-----------------------------------------------------------------------------------[m[26;92H[96m[48;5;242m  [m[93m    [m[94m[46m-----------------------------------------------------------------------------------[m[27;92H[96m[48;5;242m  [m[93m 39 [m[93mdef[m [1m[96munplug[m(device_id):[28;92H[96m[48;5;242m  [m[93m 40 [m  exec_via_adb([95m"dumpsys battery set ac 0; dumpsys battery set usb 0;"[m, device_id);[29;92H[96m[48;5;242m  [m[93m 41 [m[30;92H[96m[48;5;242m  [m[93m 42 [m[93mdef[m [1m[96mdisable_screen_off[m(target_device_id):[31;92H[96m[48;5;242m  [m[93m 43 [m  exec_via_adb([95m"settings put system screen_off_timeout 100000000"[m, target_device_id[32;92H[96m[48;5;242m  [m[93m 44 [m[93mdef[m [1m[96mplug[m(device_id):[33;92H[96m[48;5;242m  [m[93m 45 [m  exec_via_adb([95m"dumpsys battery set ac 1; dumpsys battery set usb 1;"[m, device_id);[34;92H[96m[48;5;242m  [m[93m 46 [m[35;92H[96m[48;5;242m  [m[93m    [m[94m[46m-----------------------------------------------------------------------------------[m[36;92H[96m[48;5;242m  [m[93m    [m[94m[46m-----------------------------------------------------------------------------------[m[37;92H[96m[48;5;242m  [m[93m    [m[94m[46m-----------------------------------------------------------------------------------[m[38;92H[96m[48;5;242m  [m[93m    [m[94m[46m-----------------------------------------------------------------------------------[m[39;92H[96m[48;5;242m  [m[93m    [m[94m[46m-----------------------------------------------------------------------------------[m[40;92H[96m[48;5;242m  [m[93m    [m[94m[46m-----------------------------------------------------------------------------------[m[41;92H[96m[48;5;242m  [m[93m    [m[94m[46m-----------------------------------------------------------------------------------[m[42;92H[96m[48;5;242m  [m[93m    [m[94m[46m-----------------------------------------------------------------------------------[m[43;92H[96m[48;5;242m  [m[93m 47 [m[44;92H[96m[48;5;242m  [m[93m 48 [m[45;92H[96m[48;5;242m  [m[93m 49 [m[46;92H[96m[48;5;242m  [m[93m 50 [m[93mif[m __name__ == [95m'__main__'[m:[47;92H[96m[48;5;242m  [m[93m 51 [m[48;92H[96m[48;5;242m  [m[93m 52 [m  parser = argparse.ArgumentParser(description=[95m'Execute the experiment'[m)[49;92H[96m[48;5;242m+ [m[96m[48;5;242m 53 +-- 40 ì¤„: parser.add_argument('--desc', type=str)---------------------------------[m[50;92H[94m~                                                                                        [51;92H~                                                                                        [52;92H~                                                                                        [53;92H~                                                                                        [54;92H~                                                                                        [55;92H~                                                                                        [m[56;92H[7mmeasure_perf_kkh.py                                                    1,1           ëª¨ë‘[m[57;1H"measure_perf_kkh.py" 92L, 2540C[1;7H[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[56;163H[7m5[m[56;73H[1m[7m5,[2;7H[?25h[?25l[m[56;163H[7m6[m[56;73H[1m[7m6,[3;7H[?25h[?25l[m[56;163H[7m7[m[56;73H[1m[7m7,[4;7H[?25h[?25l[m[56;163H[7m8,0-1[m[56;73H[1m[7m8,0-1[5;7H[?25h[?25l[m[56;163H[7m9,1  [m[56;73H[1m[7m9,1   [6;7H[?25h[?25l[m[56;163H[7m10,0-1[m[56;73H[1m[7m10,0-1[7;7H[?25h[?25l[m[56;164H[7m1,1  [m[56;74H[1m[7m1,1   [8;7H[?25h[?25l[m[56;164H[7m2[m[56;74H[1m[7m2,[9;7H[?25h[?25l[m[56;164H[7m3,0-1[m[56;74H[1m[7m3,0-1[10;7H[?25h[?25l[m[56;164H[7m4,1  [m[56;74H[1m[7m4,1   [11;7H[?25h[?25l[m[56;164H[7m5[m[56;74H[1m[7m5,[12;7H[?25h[?25l[m[56;164H[7m6[m[56;74H[1m[7m6,[13;7H[?25h[?25l[m[56;164H[7m7,0-1[m[56;74H[1m[7m7,0-1[14;7H[?25h[?25l[m[56;164H[7m8,1  [m[56;74H[1m[7m8,1   [15;7H[?25h[?25l[m[56;163H[7m33[m[56;73H[1m[7m33,[16;7H[?25h[?25l[m[56;164H[7m4,0-1[m[56;74H[1m[7m4,0-1[17;7H[?25h[?25l[m[56;164H[7m5,1  [m[56;74H[1m[7m5,1   [18;7H[?25h[?25l[m[56;164H[7m6[m[56;74H[1m[7m6,[19;7H[?25h[?25l[m[56;164H[7m7[m[56;74H[1m[7m7,[20;7H[?25h[?25l[m[56;164H[7m8,0-1[m[56;74H[1m[7m8,0-1[21;7H[?25h[?25l[m[56;164H[7m9,1  [m[56;74H[1m[7m9,1   [22;7H[?25h[?25l[56;73H40,[23;7H[?25h[?25l[56;74H1,0-1[24;7H[?25h[?25l[56;74H2,1   [25;7H[?25h[?25l[56;74H3,[26;7H[?25h[?25l[56;74H4,[27;7H[?25h[?25l[m[56;163H[7m40[m[56;74H[1m[7m5,[28;7H[?25h[?25l[m[56;164H[7m1,0-1[m[56;74H[1m[7m6,0-1[29;7H[?25h[?25l[m[56;164H[7m2,1  [m[56;74H[1m[7m7,1   [30;7H[?25h[?25l[m[56;164H[7m3[m[56;74H[1m[7m8,[31;7H[?25h[?25l[m[56;164H[7m4[m[56;74H[1m[7m9,[32;7H[?25h[?25l[m[56;164H[7m5[m[56;73H[1m[7m50,[33;7H[?25h[?25l[m[56;164H[7m6,0-1[m[56;74H[1m[7m1,0-1[34;7H[?25h[?25l[m[56;164H[7m7[m[56;74H[1m[7m2,1   [35;7H[?25h[?25l[56;74H3,[36;7H[?25h[?25l[56;74H4,[37;7H[?25h[?25l[56;74H5,[38;7H[?25h[?25l[56;74H6,[39;7H[?25h[?25l[m[57;1H[K[57;1H:[?2004h[?25hq[?25l[?2004h[1;1H[96m[48;5;242m [m[1C[93m  1 [m[96m#!/home/seralee/.virtualenvs/myenv/bin/python[m[1;52H[K[2;5H[93m2[m[8Cos [2;17H[K[3;5H[93m3[m[1C[38;5;81mimport[m argparse[3;22H[K[4;5H[93m4[m[1C[38;5;81mimport[m time[4;18H[K[5;5H[93m5[m[1C[38;5;81mimport[m datetime[5;91H[K[6;5H[93m6[m[1C[38;5;81mfrom[m datetime [38;5;81mimport[m date[6;91H[K[7;4H[93m 7[m[1C[38;5;81mfrom[m datetime [38;5;81mimport[m datetime[7;91H[K[8;4H[93m 8[m[8;7H[K[9;4H[93m 9[m[8Csys[9;17H[K[10;5H[93m0[m[10;91H[K[11;5H[93m1[m[1C[96m#from bs4 import BeautifulSoup[m[11;91H[K[12;5H[93m2[m[1C[38;5;81mimport[m heapq[12;19H[K[13;5H[93m3[m[13;7H[K[14;5H[93m4[m[1C[95m"""[m[14;91H[K[15;1H[96m[48;5;242m [m[1C[93m 15 [m[95mduration, start & end point[m[15;34H[K[16;4H[93m16[m[1C[95mtwo mode: measure number of instructions w/ perf and cpu consumpted power using batterystats[m[16;100H[K[17;4H[93m17[m[17;91H[K[18;4H[93m18[m[1C[95massume that: app already launched[m[18;40H[K[19;4H[93m19[m[1C[95m"""[m[19;10H[K[20;4H[93m20[m[20;13H[K[21;4H[93m21[m[1C[93mdef[m [1m[96mexec_cmd[m(cmd):[21;91H[K[22;4H[93m22[m[1C  [1m[96mprint[m(cmd)[22;19H[K[23;4H[93m23[m[1C  os.system(cmd)[23;23H[K[24;4H[93m24[m[24;7H[K[25;4H[93m25[m[1C[93mdef[m [1m[96mmeasure_perf[m(package, duration, log_path):[25;53H[K[26;4H[93m26[m[1C  duration = duration[26;28H[K[27;4H[93m27[m[1C  log_perf_path = f[95m"{log_path}/perf.data"[m[27;91H[K[28;4H[93m28[m[8Ccmd(f[95m"python simpleperf/app_profiler.py -p {package} -o {log_perf_path} -r '-e instructions -f 1000 --duration {duration} --call-graph fp'"[m)[28;154H[K[29;4H[93m29[m[3Clog_output_path = f[95m"{log_path}/perf_output"[m[29;91H[K[30;4H[93m30[m[1C  exec_cmd(f[95m"python simpleperf/report.py -i {log_path}/perf.data> {log_output_path}"[m)[30;92H[K[31;4H[93m31[m[31;9H[K[32;4H[93m32[m[5C[1m[96mexec_via_adb[m(cmd, target_device_id):[32;91H[K[33;4H[93m33[m[3Cos.system([95m"adb -s "[m + target_device_id + [95m" shell [m[38;5;224m\"[m[95m"[m + cmd + [95m"[m[38;5;224m\"[m[95m"[m)[33;75H[K[34;4H[93m34[m[34;91H[K[35;4H[93m35[m[1C[93mdef[m [1m[96mpull_via_adb[m(target_device_id, from_file_path, to_file_path):[35;72H[K[36;4H[93m36[m[1C  os.system([95m"adb -s %s pull %s %s"[m % (target_device_id, [38;5;224m\[m[36;64H[K[37;4H[93m37[m[1C      from_file_path, to_file_path))[37;43H[K[38;4H[93m38[m[38;7H[K[39;4H[93m39[m[1C[93mdef[m [1m[96munplug[m(device_id):[39;29H[K[40;4H[93m40[m[1C  exec_via_adb([95m"dumpsys battery set ac 0; dumpsys battery set usb 0;"[m, device_id);[40;89H[K[41;4H[93m41[m[41;7H[K[42;4H[93m42[m[1C[93mdef[m [1m[96mdisable_screen_off[m(target_device_id):[42;48H[K[43;4H[93m43[m[3Cexec_via_adb([95m"settings put system screen_off_timeout 100000000"[m, target_device_id)[43;91H[K[44;4H[93m44[m[1C[93mdef[m [1m[96mplug[m(device_id):[44;91H[K[45;4H[93m45[m[3Cexec_via_adb([95m"dumpsys battery set ac 1; dumpsys battery set usb 1;"[m, device_id);[45;91H[K[46;4H[93m46[m[46;7H[K[47;4H[93m47[m[47;91H[K[48;4H[93m48[m[48;9H[K[49;1H[96m[48;5;242m [m[1C[93m 49 [m[49;7H[K[50;1H[96m[48;5;242m  [m[93m 50 [m[93mif[m __name__ == [95m'__main__'[m:[50;33H[K[51;1H[96m[48;5;242m  [m[93m 51 [m[51;7H[K[52;1H[96m[48;5;242m  [m[93m 52 [m  parser = argparse.ArgumentParser(description=[95m'Execute the experiment'[m)[52;79H[K[53;1H[96m[48;5;242m  [m[93m 53 [m  parser.add_argument([95m'--desc'[m, [1m[96mtype[m=[1m[96mstr[m)[53;48H[K[54;1H[96m[48;5;242m  [m[93m 54 [m  parser.add_argument([95m'--device_id'[m, [1m[96mtype[m=[1m[96mstr[m, [1m[96mhelp[m=[95m"device_id"[m)[54;71H[K[55;1H[96m[48;5;242m  [m[93m 55 [m  parser.add_argument([95m'--device_model'[m, [1m[96mtype[m=[1m[96mstr[m, [1m[96mhelp[m=[95m"(Pixel_4a|Pixel_4XL)"[m)[55;85H[K[56;1H[96m[48;5;242m  [m[93m 56 [m  parser.add_argument([95m'--duration'[m, [1m[96mtype[m=[1m[96mint[m, [1m[96mhelp[m=[95m"duration (sec)"[m)[56;75H[K[57;163H47,0-1     ê¼­ëŒ€ê¸°[47;7H[?25h[?25l[57;1H[K[57;1H:[?2004h[?25hq[?25l[?2004l[23;2t[23;1t[57;1H[K[57;1H[?2004l[?1l>[?25h[>4;m[?1049l[23;0;0t]0;kwanghokim@kwanghokim-750XDA: ~/workspace/backup_files/AOSP_battery_logging_220120/scripts[01;32mkwanghokim@kwanghokim-750XDA[00m:[01;34m~/workspace/backup_files/AOSP_battery_logging_220120/scripts[00m$ vi parse_perf_output.py 
[?1049h[22;0;0t[>4;2m[?1h=[?2004h[1;57r[?12h[?12l[22;2t[22;1t[27m[23m[29m[m[H[2J[?25l[57;1H"parse_perf_output.py" 193L, 7157C[2;1Hâ–½[6n[2;1H  [1;1H[>c]10;?]11;?[1;1H[38;5;130m  1 [m[31m"""[m
[38;5;130m  2 [m[31mconsideration: 10 sec and 10 interations, w/ same scenario [m
[38;5;130m  3 [m[31m  - for same scenario, set the automatic UI testing (maybe [m
[38;5;130m  4 
  5 [m[31m1. get file[m
[38;5;130m  6 [m[31m2. needed info overhead(%), # of inst, thread command, shared lib, symbol, device_model[m
[38;5;130m  7 [m[31m3. needed value : mean and std of portion of each symbol[m
[38;5;130m  8 [m[31m4. variations of inst of funcitons in device and bw devices[m
[38;5;130m  9 [m[31m"""[m
[38;5;130m 10 
 11 [m[35mimport[m os
[38;5;130m 12 [m[35mimport[m numpy [38;5;130mas[m np
[38;5;130m 13 [m[35mimport[m glob
[38;5;130m 14 [m[35mimport[m argparse
[38;5;130m 15 [m[35mfrom[m collections [35mimport[m defaultdict
[38;5;130m 16 [m[35mimport[m json
[38;5;130m 17 [m[35mimport[m matplotlib.pyplot [38;5;130mas[m plt
[38;5;130m 18 [m[35mimport[m pandas [38;5;130mas[m pd
[38;5;130m 19 [mpd.set_option([31m'display.float_format'[m, [38;5;130mlambda[m x: [31m'%.3f'[m % x)
[38;5;130m 20 
 21 [mpd.set_option([31m'display.width'[m, [31m350[m)
[38;5;130m 22 [mpd.set_option([31m"display.max_rows"[m, [36mNone[m, [31m"display.max_columns"[m, [36mNone[m)
[38;5;130m 23 
 24 [m[34m# parse recored perf output[m
[38;5;130m 25 
 26 [mparsed_value = defaultdict([36mlist[m)
[38;5;130m 27 [mparsed_batterystats = defaultdict([36mlist[m)
[38;5;130m 28 [mtarget_package = [31m"com.gsrathoreniks.facefilter"[m
[38;5;130m 29 
 30 [mtarget_category = [[31m"cpuPowerMah"[m, [31m"cpuTimeMs"[m]
[38;5;130m 31 
 32 def[m [36mcalculate_inst_number[m(cpu_running_time_per_freq, target_device_model):
[38;5;130m 33 [m  freq_per_device = {[31m"Pixel_4XL"[m:[[[31m300000[m, [31m403200[m, [31m499200[m, [31m576000[m, [31m672000[m, [31m768000[m, [31m844800[m, [31m940800[m, [31m1036800[m, [31m1113600[m, [31m1209600[m, [35m\[m
[38;5;130m 34 [m      [31m1305600[m, [31m1382400[m, [31m1478400[m, [31m1555200[m, [31m1632000[m, [31m1708800[m, [31m1785600[m],[35m\[m
[38;5;130m 35 [m      [[31m710400[m, [31m825600[m, [31m940800[m, [31m1056000[m, [31m1171200[m, [31m1286400[m, [31m1401600[m, [31m1497600[m, [31m1612800[m, [31m1708800[m, [31m1804800[m, [31m1920000[m, [31m2016000[m[35m\[m
[38;5;130m 36 [m      , [31m2131200[m, [31m2227200[m, [31m2323200[m, [31m2419200[m],[35m\[m
[38;5;130m 37 [m      [[31m825600[m, [31m940800[m, [31m1056000[m, [31m1171200[m, [31m1286400[m, [31m1401600[m, [31m1497600[m, [31m1612800[m, [31m1708800[m, [31m1804800[m, [31m1920000[m, [31m2016000[m, [31m2131200[m, [31m2227200[m,[35m\[m
[38;5;130m 38 [m      [31m2323200[m, [31m2419200[m, [31m2534400[m, [31m2649600[m, [31m2745600[m, [31m2841600[m]], [35m\[m
[38;5;130m 39 [m      [31m"Pixel_4a"[m: [[[31m300000[m, [31m576000[m, [31m768000[m, [31m1017600[m, [31m1248000[m, [31m1324800[m, [31m1497600[m, [31m1612800[m, [31m1708800[m, [31m1804800[m] ,[35m\[m
[38;5;130m 40 [m      [[31m300000[m, [31m652800[m, [31m806400[m, [31m979200[m, [31m1094400[m, [31m1209600[m, [31m1324800[m, [31m1555200[m, [31m1708800[m, [31m1843200[m, [31m1939200[m, [31m2169600[m, [31m2208000[m]][35m\[m
[38;5;130m 41 [m      }
[38;5;130m 42 [m  power_per_device = {[31m"Pixel_4XL"[m: [[[31m39.44[m, [31m41.34[m, [31m43.57[m, [31m45.48[m, [31m47.20[m, [31m49.64[m,[35m\[m
[38;5;130m 43 [m      [31m51.88[m, [31m53.34[m, [31m56.69[m, [31m58.78[m, [31m61.41[m, [31m65.11[m, [31m67.49[m, [31m70.61[m, [31m72.39[m, [31m75.43[m, [31m80.21[m, [31m85.05[m][35m\[m
[38;5;130m 44 [m      , [[31m50.35[m, [31m55.12[m, [31m61.45[m, [31m69.92[m, [31m77.48[m, [31m85.35[m, [31m95.17[m, [31m103.26[m, [31m118.19[m, [31m132.72[m, [31m143.83[m, [31m155.91[m, [31m190.16[m, [31m213.11[m, [31m237.96[m, [31m266.97[m, [31m302.04[m][35m\[m
[38;5;130m 45 [m      ,[[31m52.70[m, [31m55.90[m, [31m59.73[m, [31m63.66[m, [31m67.28[m, [31m71.66[m, [31m76.47[m, [31m80.92[m, [31m85.81[m, [31m93.19[m, [31m98.06[m, [31m119.08[m, [31m127.88[m, [31m129.85[m, [31m140.37[m, [31m151.22[m, [31m160.73[m, [31m175.5[m, [31m186.29[m, [31m223.89[m]],[35m\[m
[38;5;130m 46 [m      [31m"Pixel_4a"[m :[[[31m34.55[m, [31m46.57[m, [31m54.84[m, [31m68.16[m, [31m80.70[m, [31m86.6[m, [31m99.13[m, [31m111.05[m, [31m119.59[m, [31m128.45[m],[35m\[m
[38;5;130m 47 [m[8C[[31m42.23[m, [31m56.92[m, [31m63.41[m, [31m73.03[m, [31m80.38[m, [31m87.17[m, [31m96.55[m, [31m125.61[m, [31m145.51[m, [31m182.94[m, [31m198.92[m, [31m238.54[m, [31m266.21[m]][35m\[m
[38;5;130m 48 [m      }
[38;5;130m 49 
 50 [m  freq_per_cluster = freq_per_device[target_device_model]
[38;5;130m 51 [m  power_per_cluster = power_per_device[target_device_model]
[38;5;130m 52 [m  total_cycles = [31m0[m
[38;5;130m 53 [m  total_power = [31m0[m
[38;5;130m 54 [m  cycles_per_clusters = defaultdict([36mint[m)
[38;5;130m 55 [m  time_per_clusters = defaultdict([36mint[m)
[38;5;130m 56 [m[57;163H1,1[8Cê¼­ëŒ€ê¸°[1;5H[?25hP+q436f\P+q6b75\P+q6b64\P+q6b72\P+q6b6c\P+q2332\P+q2334\P+q2569\P+q2a37\P+q6b31\[27m[23m[29m[m[H[2J[?25l[1;1H[93m  1 [m[95m"""[m
[93m  2 [m[95mconsideration: 10 sec and 10 interations, w/ same scenario [m
[93m  3 [m[95m  - for same scenario, set the automatic UI testing (maybe [m
[93m  4 
  5 [m[95m1. get file[m
[93m  6 [m[95m2. needed info overhead(%), # of inst, thread command, shared lib, symbol, device_model[m
[93m  7 [m[95m3. needed value : mean and std of portion of each symbol[m
[93m  8 [m[95m4. variations of inst of funcitons in device and bw devices[m
[93m  9 [m[95m"""[m
[93m 10 
 11 [m[38;5;81mimport[m os
[93m 12 [m[38;5;81mimport[m numpy [93mas[m np
[93m 13 [m[38;5;81mimport[m glob
[93m 14 [m[38;5;81mimport[m argparse
[93m 15 [m[38;5;81mfrom[m collections [38;5;81mimport[m defaultdict
[93m 16 [m[38;5;81mimport[m json
[93m 17 [m[38;5;81mimport[m matplotlib.pyplot [93mas[m plt
[93m 18 [m[38;5;81mimport[m pandas [93mas[m pd
[93m 19 [mpd.set_option([95m'display.float_format'[m, [93mlambda[m x: [95m'%.3f'[m % x)
[93m 20 
 21 [mpd.set_option([95m'display.width'[m, [95m350[m)
[93m 22 [mpd.set_option([95m"display.max_rows"[m, [1m[96mNone[m, [95m"display.max_columns"[m, [1m[96mNone[m)
[93m 23 
 24 [m[96m# parse recored perf output[m
[93m 25 
 26 [mparsed_value = defaultdict([1m[96mlist[m)
[93m 27 [mparsed_batterystats = defaultdict([1m[96mlist[m)
[93m 28 [mtarget_package = [95m"com.gsrathoreniks.facefilter"[m
[93m 29 
 30 [mtarget_category = [[95m"cpuPowerMah"[m, [95m"cpuTimeMs"[m]
[93m 31 
 32 [m[93mdef[m [1m[96mcalculate_inst_number[m(cpu_running_time_per_freq, target_device_model):
[93m 33 [m  freq_per_device = {[95m"Pixel_4XL"[m:[[[95m300000[m, [95m403200[m, [95m499200[m, [95m576000[m, [95m672000[m, [95m768000[m, [95m844800[m, [95m940800[m, [95m1036800[m, [95m1113600[m, [95m1209600[m, [38;5;224m\[m
[93m 34 [m      [95m1305600[m, [95m1382400[m, [95m1478400[m, [95m1555200[m, [95m1632000[m, [95m1708800[m, [95m1785600[m],[38;5;224m\[m
[93m 35 [m      [[95m710400[m, [95m825600[m, [95m940800[m, [95m1056000[m, [95m1171200[m, [95m1286400[m, [95m1401600[m, [95m1497600[m, [95m1612800[m, [95m1708800[m, [95m1804800[m, [95m1920000[m, [95m2016000[m[38;5;224m\[m
[93m 36 [m      , [95m2131200[m, [95m2227200[m, [95m2323200[m, [95m2419200[m],[38;5;224m\[m
[93m 37 [m      [[95m825600[m, [95m940800[m, [95m1056000[m, [95m1171200[m, [95m1286400[m, [95m1401600[m, [95m1497600[m, [95m1612800[m, [95m1708800[m, [95m1804800[m, [95m1920000[m, [95m2016000[m, [95m2131200[m, [95m2227200[m,[38;5;224m\[m
[93m 38 [m      [95m2323200[m, [95m2419200[m, [95m2534400[m, [95m2649600[m, [95m2745600[m, [95m2841600[m]], [38;5;224m\[m
[93m 39 [m      [95m"Pixel_4a"[m: [[[95m300000[m, [95m576000[m, [95m768000[m, [95m1017600[m, [95m1248000[m, [95m1324800[m, [95m1497600[m, [95m1612800[m, [95m1708800[m, [95m1804800[m] ,[38;5;224m\[m
[93m 40 [m      [[95m300000[m, [95m652800[m, [95m806400[m, [95m979200[m, [95m1094400[m, [95m1209600[m, [95m1324800[m, [95m1555200[m, [95m1708800[m, [95m1843200[m, [95m1939200[m, [95m2169600[m, [95m2208000[m]][38;5;224m\[m
[93m 41 [m      }
[93m 42 [m  power_per_device = {[95m"Pixel_4XL"[m: [[[95m39.44[m, [95m41.34[m, [95m43.57[m, [95m45.48[m, [95m47.20[m, [95m49.64[m,[38;5;224m\[m
[93m 43 [m      [95m51.88[m, [95m53.34[m, [95m56.69[m, [95m58.78[m, [95m61.41[m, [95m65.11[m, [95m67.49[m, [95m70.61[m, [95m72.39[m, [95m75.43[m, [95m80.21[m, [95m85.05[m][38;5;224m\[m
[93m 44 [m      , [[95m50.35[m, [95m55.12[m, [95m61.45[m, [95m69.92[m, [95m77.48[m, [95m85.35[m, [95m95.17[m, [95m103.26[m, [95m118.19[m, [95m132.72[m, [95m143.83[m, [95m155.91[m, [95m190.16[m, [95m213.11[m, [95m237.96[m, [95m266.97[m, [95m302.04[m][38;5;224m\[m
[93m 45 [m      ,[[95m52.70[m, [95m55.90[m, [95m59.73[m, [95m63.66[m, [95m67.28[m, [95m71.66[m, [95m76.47[m, [95m80.92[m, [95m85.81[m, [95m93.19[m, [95m98.06[m, [95m119.08[m, [95m127.88[m, [95m129.85[m, [95m140.37[m, [95m151.22[m, [95m160.73[m, [95m175.5[m, [95m186.29[m, [95m223.89[m]],[38;5;224m\[m
[93m 46 [m      [95m"Pixel_4a"[m :[[[95m34.55[m, [95m46.57[m, [95m54.84[m, [95m68.16[m, [95m80.70[m, [95m86.6[m, [95m99.13[m, [95m111.05[m, [95m119.59[m, [95m128.45[m],[38;5;224m\[m
[93m 47 [m[8C[[95m42.23[m, [95m56.92[m, [95m63.41[m, [95m73.03[m, [95m80.38[m, [95m87.17[m, [95m96.55[m, [95m125.61[m, [95m145.51[m, [95m182.94[m, [95m198.92[m, [95m238.54[m, [95m266.21[m]][38;5;224m\[m
[93m 48 [m      }
[93m 49 
 50 [m  freq_per_cluster = freq_per_device[target_device_model]
[93m 51 [m  power_per_cluster = power_per_device[target_device_model]
[93m 52 [m  total_cycles = [95m0[m
[93m 53 [m  total_power = [95m0[m
[93m 54 [m  cycles_per_clusters = defaultdict([1m[96mint[m)
[93m 55 [m  time_per_clusters = defaultdict([1m[96mint[m)
[93m 56 [m[57;163H1,1[8Cê¼­ëŒ€ê¸°"parse_perf_output.py" 193L, 7157C[1;5H[?25h[?25l[57;163H2[2;5H[?25h[?25l[57;163H3[3;5H[?25h[?25l[57;163H4,0-1[4;5H[?25h[?25l[57;163H5,1  [5;5H[?25h[?25l[57;163H6[6;5H[?25h[?25l[57;163H7[7;5H[?25h[?25l[57;163H8[8;5H[?25h[?25l[57;163H9[9;5H[?25h[?25l[57;163H10,0-1[10;5H[?25h[?25l[57;164H1,1  [11;5H[?25h[?25l[57;164H2[12;5H[?25h[?25l[57;164H3[13;5H[?25h[?25l[57;164H4[14;5H[?25h[?25l[57;164H5[15;5H[?25h[?25l[57;164H6[16;5H[?25h[?25l[57;164H7[17;5H[?25h[?25l[57;164H8[18;5H[?25h[?25l[57;164H9[19;5H[?25h[?25l[57;163H20,0-1[20;5H[?25h[?25l[57;164H1,1  [21;5H[?25h[?25l[57;164H2[22;5H[?25h[?25l[57;164H3,0-1[23;5H[?25h[?25l[57;164H4,1  [24;5H[?25h[?25l[57;164H5,0-1[25;5H[?25h[?25l[57;164H6,1  [26;5H[?25h[?25l[57;164H7[27;5H[?25h[?25l[57;164H8[28;5H[?25h[?25l[57;164H9,0-1[29;5H[?25h[?25l[57;163H30,1  [30;5H[?25h[?25l[57;164H1,0-1[31;5H[?25h[?25l[57;164H2,1  [32;5H[?25h[?25l[57;164H3[33;5H[?25h[?25l[57;164H4[34;5H[?25h[?25l[57;164H5[35;5H[?25h[?25l[57;164H6[36;5H[?25h[?25l[57;164H7[37;5H[?25h[?25l[57;164H8[38;5H[?25h[?25l[57;164H9[39;5H[?25h[?25l[57;163H40[40;5H[?25h[?25l[57;164H1[41;5H[?25h[?25l[57;164H2[42;5H[?25h[?25l[57;164H3[43;5H[?25h[?25l[57;164H4[44;5H[?25h[?25l[57;164H5[45;5H[?25h[?25l[57;164H6[46;5H[?25h[?25l[57;164H7[47;5H[?25h[?25l[57;164H8[48;5H[?25h[?25l[57;164H9,0-1[49;5H[?25h[?25l[57;163H50,1  [50;5H[?25h[?25l[57;164H1[51;5H[?25h[?25l[57;164H2[52;5H[?25h[?25l[57;164H3[53;5H[?25h[?25l[57;164H4[54;5H[?25h[?25l[57;164H5[55;5H[?25h[?25l[57;164H6[56;5H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 57 [m  [93mfor[m i [93min[m [1m[96mrange[m([1m[96mlen[m(cpu_running_time_per_freq)):[57;1H[K[57;163H57,1[11C0%[56;5H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 58 [m    power = power_per_cluster[i][57;163H[K[57;163H58,1[11C1%[56;5H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 59 [m    cpu_running_time = cpu_running_time_per_freq[i][57;163H[K[57;163H59,1[11C2%[56;5H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 60 [m    freq_set = freq_per_cluster[i][57;163H[K[57;163H60,1[11C2%[56;5H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 61 [m    [93mfor[m key [93min[m cpu_running_time.keys():[57;163H[K[57;163H61,1[11C3%[56;5H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 62 [m      total_cycles += freq_set[[1m[96mint[m(key)] * cpu_running_time[key][57;163H[K[57;163H62,1[11C4%[56;5H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 63 [m      cycles_per_clusters[i] += freq_set[[1m[96mint[m(key)] * cpu_running_time[key][57;163H[K[57;163H63,1[11C5%[56;5H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 64 [m      total_power += cpu_running_time[key] * power[[1m[96mint[m(key)][57;163H[K[57;163H64,1[11C5%[56;5H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 65 [m      time_per_clusters[i] += cpu_running_time[key][57;163H[K[57;163H65,1[11C6%[56;5H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 66 [m[57;163H[K[57;163H66,1[11C7%[56;5H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 67 [m  total_power /= [95m3600.0[m[57;163H[K[57;163H67,1[11C8%[56;5H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 68 [m  total_power /= [95m1000.0[m[57;163H[K[57;163H68,1[11C8%[56;5H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 69 [m  total_power /= [95m1000.0[m[57;163H[K[57;163H69,1[11C9%[56;5H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 70 [m  [93mreturn[m total_cycles, cycles_per_clusters, total_power, time_per_clusters[57;163H[K[57;163H70,1[10C10%[56;5H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 71 [m[57;163H[K[57;163H71,0-1[8C10%[56;5H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 72 [m[57;163H[K[57;163H72,0-1[8C11%[56;5H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 73 [m[57;163H[K[57;163H73,0-1[8C12%[56;5H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 74 [m[57;163H[K[57;163H74,0-1[8C13%[56;5H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 75 [m[57;163H[K[57;163H75,0-1[8C13%[56;5H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 76 [m[57;163H[K[57;163H76,0-1[8C14%[56;5H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 77 [m[57;163H[K[57;163H77,0-1[8C15%[56;5H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 78 [m[57;163H[K[57;163H78,1[10C16%[56;5H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 79 [m[57;163H[K[57;163H79,0-1[8C16%[56;5H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 80 [m[57;163H[K[57;163H80,0-1[8C17%[56;5H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 81 [m[93mdef[m [1m[96mparse_batterystats[m(path, target_package, logged_data, target_device_model):[57;163H[K[57;163H81,1[10C18%[56;5H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 82 [m  data = [1m[96mopen[m(path).read()[57;163H[K[57;163H82,1[10C18%[56;5H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 83 [m  [93mif[m(data[[95m0[m] != [95m"{"[m):[57;163H[K[57;163H83,1[10C19%[56;5H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 84 [m    data = data[[95m1[m:][57;163H[K[57;163H84,1[10C20%[56;5H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 85 [m[57;163H[K[57;163H85,0-1[8C21%[56;5H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 86 [m  [93mfor[m line [93min[m data.split([95m"[m[38;5;224m\n[m[95m"[m):[57;163H[K[57;163H86,1[10C21%[56;5H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 87 [m    [93mtry[m:[57;163H[K[57;163H87,1[10C22%[56;5H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 88 [m      json_data = json.loads(line)[57;163H[K[57;163H88,1[10C23%[56;5H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 89 [m      keys = json_data.keys()[57;163H[K[57;163H89,1[10C24%[56;5H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 90 [m[57;163H[K[57;163H90,0-1[8C24%[56;5H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 91 [m[57;163H[K[57;163H91,0-1[8C25%[56;5H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 92 [m      [93mfor[m target_package_name, app_name [93min[m [[target_package, [95m"AR"[m]]:[57;163H[K[57;163H92,1[10C26%[56;5H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 93 [m[8C[93mif[m(target_package_name [93min[m json_data.values()):[57;163H[K[57;163H93,1[10C27%[56;5H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 94 [m[10Ckeys = json_data.keys()[57;163H[K[57;163H94,1[10C27%[56;5H[?25h[?25l[1;56r[56;1H
[1;57r[56;1H[93m 95 [m[10C[93mfor[m key [93min[m keys:[57;163H[K[57;163H95,1[10C28%[56;5H[?25h[27m[23m[29m[m[H[2J[?25l[1;1H[93m 40 [m      [[95m300000[m, [95m652800[m, [95m806400[m, [95m979200[m, [95m1094400[m, [95m1209600[m, [95m1324800[m, [95m1555200[m, [95m1708800[m, [95m1843200[m, [95m1939200[m, [95m2169600[m, [95m2208000[m]][38;5;224m\[m
[93m 41 [m      }
[93m 42 [m  power_per_device = {[95m"Pixel_4XL"[m: [[[95m39.44[m, [95m41.34[m, [95m43.57[m, [95m45.48[m, [95m47.20[m, [95m49.64[m,[38;5;224m\[m
[93m 43 [m      [95m51.88[m, [95m53.34[m, [95m56.69[m, [95m58.78[m, [95m61.41[m, [95m65.11[m, [95m67.49[m, [95m70.61[m, [95m72.39[m, [95m75.43[m, [95m80.21[m, [95m85.05[m][38;5;224m\[m
[93m 44 [m      , [[95m50.35[m, [95m55.12[m, [95m61.45[m, [95m69.92[m, [95m77.48[m, [95m85.35[m, [95m95.17[m, [95m103.26[m, [95m118.19[m, [95m132.72[m, [95m143.83[m, [95m155.91[m, [95m190.16[m, [95m213.11[m, [95m237.96[m, [95m266.97[m, [95m302.04[m][38;5;224m\[m
[93m 45 [m      ,[[95m52.70[m, [95m55.90[m, [95m59.73[m, [95m63.66[m, [95m67.28[m, [95m71.66[m, [95m76.47[m, [95m80.92[m, [95m85.81[m, [95m93.19[m, [95m98.06[m, [95m119.08[m, [95m127.88[m, [95m129.85[m, [95m140.37[m, [95m151.22[m, [95m160.73[m, [95m175.5[m, [95m186.29[m, [95m223.89[m]],[38;5;224m\[m
[93m 46 [m      [95m"Pixel_4a"[m :[[[95m34.55[m, [95m46.57[m, [95m54.84[m, [95m68.16[m, [95m80.70[m, [95m86.6[m, [95m99.13[m, [95m111.05[m, [95m119.59[m, [95m128.45[m],[38;5;224m\[m
[93m 47 [m[8C[[95m42.23[m, [95m56.92[m, [95m63.41[m, [95m73.03[m, [95m80.38[m, [95m87.17[m, [95m96.55[m, [95m125.61[m, [95m145.51[m, [95m182.94[m, [95m198.92[m, [95m238.54[m, [95m266.21[m]][38;5;224m\[m
[93m 48 [m      }
[93m 49 
 50 [m  freq_per_cluster = freq_per_device[target_device_model]
[93m 51 [m  power_per_cluster = power_per_device[target_device_model]
[93m 52 [m  total_cycles = [95m0[m
[93m 53 [m  total_power = [95m0[m
[93m 54 [m  cycles_per_clusters = defaultdict([1m[96mint[m)
[93m 55 [m  time_per_clusters = defaultdict([1m[96mint[m)
[93m 56 
 57 [m  [93mfor[m i [93min[m [1m[96mrange[m([1m[96mlen[m(cpu_running_time_per_freq)):
[93m 58 [m    power = power_per_cluster[i]
[93m 59 [m    cpu_running_time = cpu_running_time_per_freq[i]
[93m 60 [m    freq_set = freq_per_cluster[i]
[93m 61 [m    [93mfor[m key [93min[m cpu_running_time.keys():
[93m 62 [m      total_cycles += freq_set[[1m[96mint[m(key)] * cpu_running_time[key]
[93m 63 [m      cycles_per_clusters[i] += freq_set[[1m[96mint[m(key)] * cpu_running_time[key]
[93m 64 [m      total_power += cpu_running_time[key] * power[[1m[96mint[m(key)]
[93m 65 [m      time_per_clusters[i] += cpu_running_time[key]
[93m 66 
 67 [m  total_power /= [95m3600.0[m
[93m 68 [m  total_power /= [95m1000.0[m
[93m 69 [m  total_power /= [95m1000.0[m
[93m 70 [m  [93mreturn[m total_cycles, cycles_per_clusters, total_power, time_per_clusters
[93m 71 
 72 
 73 
 74 
 75 
 76 
 77 
 78 
 79 
 80 
 81 [m[93mdef[m [1m[96mparse_batterystats[m(path, target_package, logged_data, target_device_model):
[93m 82 [m  data = [1m[96mopen[m(path).read()
[93m 83 [m  [93mif[m(data[[95m0[m] != [95m"{"[m):
[93m 84 [m    data = data[[95m1[m:]
[93m 85 
 86 [m  [93mfor[m line [93min[m data.split([95m"[m[38;5;224m\n[m[95m"[m):
[93m 87 [m    [93mtry[m:
[93m 88 [m      json_data = json.loads(line)
[93m 89 [m      keys = json_data.keys()
[93m 90 
 91 
 92 [m      [93mfor[m target_package_name, app_name [93min[m [[target_package, [95m"AR"[m]]:
[93m 93 [m[8C[93mif[m(target_package_name [93min[m json_data.values()):
[93m 94 [m[10Ckeys = json_data.keys()
[93m 95 [m[10C[93mfor[m key [93min[m keys:[57;156H95,1[10C28%[56;5H[?25h[27m[23m[29m[m[H[2J[?25l[1;1H[93m 40 [m      [[95m300000[m, [95m652800[m, [95m806400[m, [95m979200[m, [95m1094400[m, [95m1209600[m, [95m1324800[m, [95m1555200[m, [95m1708800[m, [95m1843200[m, [95m1939200[m, [95m2169600[m, [95m2208000[m]][38;5;224m\[m
[93m 41 [m      }
[93m 42 [m  power_per_device = {[95m"Pixel_4XL"[m: [[[95m39.44[m, [95m41.34[m, [95m43.57[m, [95m45.48[m, [95m47.20[m, [95m49.64[m,[38;5;224m\[m
[93m 43 [m      [95m51.88[m, [95m53.34[m, [95m56.69[m, [95m58.78[m, [95m61.41[m, [95m65.11[m, [95m67.49[m, [95m70.61[m, [95m72.39[m, [95m75.43[m, [95m80.21[m, [95m85.05[m][38;5;224m\[m
[93m 44 [m      , [[95m50.35[m, [95m55.12[m, [95m61.45[m, [95m69.92[m, [95m77.48[m, [95m85.35[m, [95m95.17[m, [95m103.26[m, [95m118.19[m, [95m132.72[m, [95m143.83[m, [95m155.91[m, [95m190.16[m, [95m213.11[m, [95m237.96[m, [95m266.97[m, [95m302.04[m][38;5;224m\[m
[93m 45 [m      ,[[95m52.70[m, [95m55.90[m, [95m59.73[m, [95m63.66[m, [95m67.28[m, [95m71.66[m, [95m76.47[m, [95m80.92[m, [95m85.81[m, [95m93.19[m, [95m98.06[m, [95m119.08[m, [95m127.88[m, [95m129.85[m, [95m140.37[m, [95m151.22[m, [95m160.73[m, [95m175.5[m, [95m186.29[m, [95m223.89[m]],[38;5;224m\[m
[93m 46 [m      [95m"Pixel_4a"[m :[[[95m34.55[m, [95m46.57[m, [95m54.84[m, [95m68.16[m, [95m80.70[m, [95m86.6[m, [95m99.13[m, [95m111.05[m, [95m119.59[m, [95m128.45[m],[38;5;224m\[m
[93m 47 [m[8C[[95m42.23[m, [95m56.92[m, [95m63.41[m, [95m73.03[m, [95m80.38[m, [95m87.17[m, [95m96.55[m, [95m125.61[m, [95m145.51[m, [95m182.94[m, [95m198.92[m, [95m238.54[m, [95m266.21[m]][38;5;224m\[m
[93m 48 [m      }
[93m 49 
 50 [m  freq_per_cluster = freq_per_device[target_device_model]
[93m 51 [m  power_per_cluster = power_per_device[target_device_model]
[93m 52 [m  total_cycles = [95m0[m
[93m 53 [m  total_power = [95m0[m
[93m 54 [m  cycles_per_clusters = defaultdict([1m[96mint[m)
[93m 55 [m  time_per_clusters = defaultdict([1m[96mint[m)
[93m 56 
 57 [m  [93mfor[m i [93min[m [1m[96mrange[m([1m[96mlen[m(cpu_running_time_per_freq)):
[93m 58 [m    power = power_per_cluster[i]
[93m 59 [m    cpu_running_time = cpu_running_time_per_freq[i]
[93m 60 [m    freq_set = freq_per_cluster[i]
[93m 61 [m    [93mfor[m key [93min[m cpu_running_time.keys():
[93m 62 [m      total_cycles += freq_set[[1m[96mint[m(key)] * cpu_running_time[key]
[93m 63 [m      cycles_per_clusters[i] += freq_set[[1m[96mint[m(key)] * cpu_running_time[key]
[93m 64 [m      total_power += cpu_running_time[key] * power[[1m[96mint[m(key)]
[93m 65 [m      time_per_clusters[i] += cpu_running_time[key]
[93m 66 
 67 [m  total_power /= [95m3600.0[m
[93m 68 [m  total_power /= [95m1000.0[m
[93m 69 [m  total_power /= [95m1000.0[m
[93m 70 [m  [93mreturn[m total_cycles, cycles_per_clusters, total_power, time_per_clusters
[93m 71 
 72 
 73 
 74 
 75 
 76 
 77 
 78 
 79 
 80 
 81 [m[93mdef[m [1m[96mparse_batterystats[m(path, target_package, logged_data, target_device_model):
[93m 82 [m  data = [1m[96mopen[m(path).read()
[93m 83 [m  [93mif[m(data[[95m0[m] != [95m"{"[m):
[93m 84 [m    data = data[[95m1[m:]
[93m 85 
 86 [m  [93mfor[m line [93min[m data.split([95m"[m[38;5;224m\n[m[95m"[m):
[93m 87 [m    [93mtry[m:
[93m 88 [m      json_data = json.loads(line)
[93m 89 [m      keys = json_data.keys()
[93m 90 
 91 
 92 [m      [93mfor[m target_package_name, app_name [93min[m [[target_package, [95m"AR"[m]]:
[93m 93 [m[8C[93mif[m(target_package_name [93min[m json_data.values()):
[93m 94 [m[10Ckeys = json_data.keys()
[93m 95 [m[10C[93mfor[m key [93min[m keys:[57;163H95,1[10C28%[56;5H[?25h[27m[23m[29m[m[H[2J[?25l[1;1H[93m 40 [m      [[95m300000[m, [95m652800[m, [95m806400[m, [95m979200[m, [95m1094400[m, [95m1209600[m, [95m1324800[m, [95m1555200[m, [95m1708800[m, [95m1843200[m, [95m1939200[m, [95m2169600[m, [95m2208000[m]][38;5;224m\[m
[93m 41 [m      }
[93m 42 [m  power_per_device = {[95m"Pixel_4XL"[m: [[[95m39.44[m, [95m41.34[m, [95m43.57[m, [95m45.48[m, [95m47.20[m, [95m49.64[m,[38;5;224m\[m
[93m 43 [m      [95m51.88[m, [95m53.34[m, [95m56.69[m, [95m58.78[m, [95m61.41[m, [95m65.11[m, [95m67.49[m, [95m70.61[m, [95m72.39[m, [95m75.43[m, [95m80.21[m, [95m85.05[m][38;5;224m\[m
[93m 44 [m      , [[95m50.35[m, [95m55.12[m, [95m61.45[m, [95m69.92[m, [95m77.48[m, [95m85.35[m, [95m95.17[m, [95m103.26[m, [95m118.19[m, [95m132.72[m, [95m143.83[m, [95m155.91[m, [95m190.16[m, [95m213.11[m, [95m237.96[m, [95m266.97[m, [95m302.04[m][38;5;224m\[m
[93m 45 [m      ,[[95m52.70[m, [95m55.90[m, [95m59.73[m, [95m63.66[m, [95m67.28[m, [95m71.66[m, [95m76.47[m, [95m80.92[m, [95m85.81[m, [95m93.19[m, [95m98.06[m, [95m119.08[m, [95m127.88[m, [95m129.85[m, [95m140.37[m, [95m151.22[m, [95m160.73[m, [95m175.5[m, [95m186.29[m, [95m223.89[m]],[38;5;224m\[m
[93m 46 [m      [95m"Pixel_4a"[m :[[[95m34.55[m, [95m46.57[m, [95m54.84[m, [95m68.16[m, [95m80.70[m, [95m86.6[m, [95m99.13[m, [95m111.05[m, [95m119.59[m, [95m128.45[m],[38;5;224m\[m
[93m 47 [m[8C[[95m42.23[m, [95m56.92[m, [95m63.41[m, [95m73.03[m, [95m80.38[m, [95m87.17[m, [95m96.55[m, [95m125.61[m, [95m145.51[m, [95m182.94[m, [95m198.92[m, [95m238.54[m, [95m266.21[m]][38;5;224m\[m
[93m 48 [m      }
[93m 49 
 50 [m  freq_per_cluster = freq_per_device[target_device_model]
[93m 51 [m  power_per_cluster = power_per_device[target_device_model]
[93m 52 [m  total_cycles = [95m0[m
[93m 53 [m  total_power = [95m0[m
[93m 54 [m  cycles_per_clusters = defaultdict([1m[96mint[m)
[93m 55 [m  time_per_clusters = defaultdict([1m[96mint[m)
[93m 56 
 57 [m  [93mfor[m i [93min[m [1m[96mrange[m([1m[96mlen[m(cpu_running_time_per_freq)):
[93m 58 [m    power = power_per_cluster[i]
[93m 59 [m    cpu_running_time = cpu_running_time_per_freq[i]
[93m 60 [m    freq_set = freq_per_cluster[i]
[93m 61 [m    [93mfor[m key [93min[m cpu_running_time.keys():
[93m 62 [m      total_cycles += freq_set[[1m[96mint[m(key)] * cpu_running_time[key]
[93m 63 [m      cycles_per_clusters[i] += freq_set[[1m[96mint[m(key)] * cpu_running_time[key]
[93m 64 [m      total_power += cpu_running_time[key] * power[[1m[96mint[m(key)]
[93m 65 [m      time_per_clusters[i] += cpu_running_time[key]
[93m 66 
 67 [m  total_power /= [95m3600.0[m
[93m 68 [m  total_power /= [95m1000.0[m
[93m 69 [m  total_power /= [95m1000.0[m
[93m 70 [m  [93mreturn[m total_cycles, cycles_per_clusters, total_power, time_per_clusters
[93m 71 
 72 
 73 
 74 
 75 
 76 
 77 
 78 
 79 
 80 
 81 [m[93mdef[m [1m[96mparse_batterystats[m(path, target_package, logged_data, target_device_model):
[93m 82 [m  data = [1m[96mopen[m(path).read()
[93m 83 [m  [93mif[m(data[[95m0[m] != [95m"{"[m):
[93m 84 [m    data = data[[95m1[m:]
[93m 85 
 86 [m  [93mfor[m line [93min[m data.split([95m"[m[38;5;224m\n[m[95m"[m):
[93m 87 [m    [93mtry[m:
[93m 88 [m      json_data = json.loads(line)
[93m 89 [m      keys = json_data.keys()
[93m 90 
 91 
 92 [m      [93mfor[m target_package_name, app_name [93min[m [[target_package, [95m"AR"[m]]:
[93m 93 [m[8C[93mif[m(target_package_name [93min[m json_data.values()):
[93m 94 [m[10Ckeys = json_data.keys()
[93m 95 [m[10C[93mfor[m key [93min[m keys:[57;156H95,1[10C28%[56;5H[?25h[27m[23m[29m[m[H[2J[?25l[1;1H[93m 40 [m      [[95m300000[m, [95m652800[m, [95m806400[m, [95m979200[m, [95m1094400[m, [95m1209600[m, [95m1324800[m, [95m1555200[m, [95m1708800[m, [95m1843200[m, [95m1939200[m, [95m2169600[m, [95m2208000[m]][38;5;224m\[m
[93m 41 [m      }
[93m 42 [m  power_per_device = {[95m"Pixel_4XL"[m: [[[95m39.44[m, [95m41.34[m, [95m43.57[m, [95m45.48[m, [95m47.20[m, [95m49.64[m,[38;5;224m\[m
[93m 43 [m      [95m51.88[m, [95m53.34[m, [95m56.69[m, [95m58.78[m, [95m61.41[m, [95m65.11[m, [95m67.49[m, [95m70.61[m, [95m72.39[m, [95m75.43[m, [95m80.21[m, [95m85.05[m][38;5;224m\[m
[93m 44 [m      , [[95m50.35[m, [95m55.12[m, [95m61.45[m, [95m69.92[m, [95m77.48[m, [95m85.35[m, [95m95.17[m, [95m103.26[m, [95m118.19[m, [95m132.72[m, [95m143.83[m, [95m155.91[m, [95m190.16[m, [95m213.11[m, [95m237.96[m, [95m266.97[m, [95m302.04[m][38;5;224m\[m
[93m 45 [m      ,[[95m52.70[m, [95m55.90[m, [95m59.73[m, [95m63.66[m, [95m67.28[m, [95m71.66[m, [95m76.47[m, [95m80.92[m, [95m85.81[m, [95m93.19[m, [95m98.06[m, [95m119.08[m, [95m127.88[m, [95m129.85[m, [95m140.37[m, [95m151.22[m, [95m160.73[m, [95m175.5[m, [95m186.29[m, [95m223.89[m]],[38;5;224m\[m
[93m 46 [m      [95m"Pixel_4a"[m :[[[95m34.55[m, [95m46.57[m, [95m54.84[m, [95m68.16[m, [95m80.70[m, [95m86.6[m, [95m99.13[m, [95m111.05[m, [95m119.59[m, [95m128.45[m],[38;5;224m\[m
[93m 47 [m[8C[[95m42.23[m, [95m56.92[m, [95m63.41[m, [95m73.03[m, [95m80.38[m, [95m87.17[m, [95m96.55[m, [95m125.61[m, [95m145.51[m, [95m182.94[m, [95m198.92[m, [95m238.54[m, [95m266.21[m]][38;5;224m\[m
[93m 48 [m      }
[93m 49 
 50 [m  freq_per_cluster = freq_per_device[target_device_model]
[93m 51 [m  power_per_cluster = power_per_device[target_device_model]
[93m 52 [m  total_cycles = [95m0[m
[93m 53 [m  total_power = [95m0[m
[93m 54 [m  cycles_per_clusters = defaultdict([1m[96mint[m)
[93m 55 [m  time_per_clusters = defaultdict([1m[96mint[m)
[93m 56 
 57 [m  [93mfor[m i [93min[m [1m[96mrange[m([1m[96mlen[m(cpu_running_time_per_freq)):
[93m 58 [m    power = power_per_cluster[i]
[93m 59 [m    cpu_running_time = cpu_running_time_per_freq[i]
[93m 60 [m    freq_set = freq_per_cluster[i]
[93m 61 [m    [93mfor[m key [93min[m cpu_running_time.keys():
[93m 62 [m      total_cycles += freq_set[[1m[96mint[m(key)] * cpu_running_time[key]
[93m 63 [m      cycles_per_clusters[i] += freq_set[[1m[96mint[m(key)] * cpu_running_time[key]
[93m 64 [m      total_power += cpu_running_time[key] * power[[1m[96mint[m(key)]
[93m 65 [m      time_per_clusters[i] += cpu_running_time[key]
[93m 66 
 67 [m  total_power /= [95m3600.0[m
[93m 68 [m  total_power /= [95m1000.0[m
[93m 69 [m  total_power /= [95m1000.0[m
[93m 70 [m  [93mreturn[m total_cycles, cycles_per_clusters, total_power, time_per_clusters
[93m 71 
 72 
 73 
 74 
 75 
 76 
 77 
 78 
 79 
 80 
 81 [m[93mdef[m [1m[96mparse_batterystats[m(path, target_package, logged_data, target_device_model):
[93m 82 [m  data = [1m[96mopen[m(path).read()
[93m 83 [m  [93mif[m(data[[95m0[m] != [95m"{"[m):
[93m 84 [m    data = data[[95m1[m:]
[93m 85 
 86 [m  [93mfor[m line [93min[m data.split([95m"[m[38;5;224m\n[m[95m"[m):
[93m 87 [m    [93mtry[m:
[93m 88 [m      json_data = json.loads(line)
[93m 89 [m      keys = json_data.keys()
[93m 90 
 91 
 92 [m      [93mfor[m target_package_name, app_name [93min[m [[target_package, [95m"AR"[m]]:
[93m 93 [m[8C[93mif[m(target_package_name [93min[m json_data.values()):
[93m 94 [m[10Ckeys = json_data.keys()
[93m 95 [m[10C[93mfor[m key [93min[m keys:[57;163H95,1[10C28%[56;5H[?25h[27m[23m[29m[m[H[2J[?25l[1;1H[93m 40 [m      [[95m300000[m, [95m652800[m, [95m806400[m, [95m979200[m, [95m1094400[m, [95m1209600[m, [95m1324800[m, [95m1555200[m, [95m1708800[m, [95m1843200[m, [95m1939200[m, [95m2169600[m, [95m2208000[m]][38;5;224m\[m
[93m 41 [m      }
[93m 42 [m  power_per_device = {[95m"Pixel_4XL"[m: [[[95m39.44[m, [95m41.34[m, [95m43.57[m, [95m45.48[m, [95m47.20[m, [95m49.64[m,[38;5;224m\[m
[93m 43 [m      [95m51.88[m, [95m53.34[m, [95m56.69[m, [95m58.78[m, [95m61.41[m, [95m65.11[m, [95m67.49[m, [95m70.61[m, [95m72.39[m, [95m75.43[m, [95m80.21[m, [95m85.05[m][38;5;224m\[m
[93m 44 [m      , [[95m50.35[m, [95m55.12[m, [95m61.45[m, [95m69.92[m, [95m77.48[m, [95m85.35[m, [95m95.17[m, [95m103.26[m, [95m118.19[m, [95m132.72[m, [95m143.83[m, [95m155.91[m, [95m190.16[m, [95m213.11[m, [95m237.96[m, [95m266.97[m, [95m302.04[m][38;5;224m\[m
[93m 45 [m      ,[[95m52.70[m, [95m55.90[m, [95m59.73[m, [95m63.66[m, [95m67.28[m, [95m71.66[m, [95m76.47[m, [95m80.92[m, [95m85.81[m, [95m93.19[m, [95m98.06[m, [95m119.08[m, [95m127.88[m, [95m129.85[m, [95m140.37[m, [95m151.22[m, [95m160.73[m, [95m175.5[m, [95m186.29[m, [95m223.89[m]],[38;5;224m\[m
[93m 46 [m      [95m"Pixel_4a"[m :[[[95m34.55[m, [95m46.57[m, [95m54.84[m, [95m68.16[m, [95m80.70[m, [95m86.6[m, [95m99.13[m, [95m111.05[m, [95m119.59[m, [95m128.45[m],[38;5;224m\[m
[93m 47 [m[8C[[95m42.23[m, [95m56.92[m, [95m63.41[m, [95m73.03[m, [95m80.38[m, [95m87.17[m, [95m96.55[m, [95m125.61[m, [95m145.51[m, [95m182.94[m, [95m198.92[m, [95m238.54[m, [95m266.21[m]][38;5;224m\[m
[93m 48 [m      }
[93m 49 
 50 [m  freq_per_cluster = freq_per_device[target_device_model]
[93m 51 [m  power_per_cluster = power_per_device[target_device_model]
[93m 52 [m  total_cycles = [95m0[m
[93m 53 [m  total_power = [95m0[m
[93m 54 [m  cycles_per_clusters = defaultdict([1m[96mint[m)
[93m 55 [m  time_per_clusters = defaultdict([1m[96mint[m)
[93m 56 
 57 [m  [93mfor[m i [93min[m [1m[96mrange[m([1m[96mlen[m(cpu_running_time_per_freq)):
[93m 58 [m    power = power_per_cluster[i]
[93m 59 [m    cpu_running_time = cpu_running_time_per_freq[i]
[93m 60 [m    freq_set = freq_per_cluster[i]
[93m 61 [m    [93mfor[m key [93min[m cpu_running_time.keys():
[93m 62 [m      total_cycles += freq_set[[1m[96mint[m(key)] * cpu_running_time[key]
[93m 63 [m      cycles_per_clusters[i] += freq_set[[1m[96mint[m(key)] * cpu_running_time[key]
[93m 64 [m      total_power += cpu_running_time[key] * power[[1m[96mint[m(key)]
[93m 65 [m      time_per_clusters[i] += cpu_running_time[key]
[93m 66 
 67 [m  total_power /= [95m3600.0[m
[93m 68 [m  total_power /= [95m1000.0[m
[93m 69 [m  total_power /= [95m1000.0[m
[93m 70 [m  [93mreturn[m total_cycles, cycles_per_clusters, total_power, time_per_clusters
[93m 71 
 72 
 73 
 74 
 75 
 76 
 77 
 78 
 79 
 80 
 81 [m[93mdef[m [1m[96mparse_batterystats[m(path, target_package, logged_data, target_device_model):
[93m 82 [m  data = [1m[96mopen[m(path).read()
[93m 83 [m  [93mif[m(data[[95m0[m] != [95m"{"[m):
[93m 84 [m    data = data[[95m1[m:]
[93m 85 
 86 [m  [93mfor[m line [93min[m data.split([95m"[m[38;5;224m\n[m[95m"[m):
[93m 87 [m    [93mtry[m:
[93m 88 [m      json_data = json.loads(line)
[93m 89 [m      keys = json_data.keys()
[93m 90 
 91 
 92 [m      [93mfor[m target_package_name, app_name [93min[m [[target_package, [95m"AR"[m]]:
[93m 93 [m[8C[93mif[m(target_package_name [93min[m json_data.values()):
[93m 94 [m[10Ckeys = json_data.keys()
[93m 95 [m[10C[93mfor[m key [93min[m keys:[57;156H95,1[10C28%[56;5H[?25h[27m[23m[29m[m[H[2J[?25l[1;1H[93m 40 [m      [[95m300000[m, [95m652800[m, [95m806400[m, [95m979200[m, [95m1094400[m, [95m1209600[m, [95m1324800[m, [95m1555200[m, [95m1708800[m, [95m1843200[m, [95m1939200[m, [95m2169600[m, [95m2208000[m]][38;5;224m\[m
[93m 41 [m      }
[93m 42 [m  power_per_device = {[95m"Pixel_4XL"[m: [[[95m39.44[m, [95m41.34[m, [95m43.57[m, [95m45.48[m, [95m47.20[m, [95m49.64[m,[38;5;224m\[m
[93m 43 [m      [95m51.88[m, [95m53.34[m, [95m56.69[m, [95m58.78[m, [95m61.41[m, [95m65.11[m, [95m67.49[m, [95m70.61[m, [95m72.39[m, [95m75.43[m, [95m80.21[m, [95m85.05[m][38;5;224m\[m
[93m 44 [m      , [[95m50.35[m, [95m55.12[m, [95m61.45[m, [95m69.92[m, [95m77.48[m, [95m85.35[m, [95m95.17[m, [95m103.26[m, [95m118.19[m, [95m132.72[m, [95m143.83[m, [95m155.91[m, [95m190.16[m, [95m213.11[m, [95m237.96[m, [95m266.97[m, [95m302.04[m][38;5;224m\[m
[93m 45 [m      ,[[95m52.70[m, [95m55.90[m, [95m59.73[m, [95m63.66[m, [95m67.28[m, [95m71.66[m, [95m76.47[m, [95m80.92[m, [95m85.81[m, [95m93.19[m, [95m98.06[m, [95m119.08[m, [95m127.88[m, [95m129.85[m, [95m140.37[m, [95m151.22[m, [95m160.73[m, [95m175.5[m, [95m186.29[m, [95m223.89[m]],[38;5;224m\[m
[93m 46 [m      [95m"Pixel_4a"[m :[[[95m34.55[m, [95m46.57[m, [95m54.84[m, [95m68.16[m, [95m80.70[m, [95m86.6[m, [95m99.13[m, [95m111.05[m, [95m119.59[m, [95m128.45[m],[38;5;224m\[m
[93m 47 [m[8C[[95m42.23[m, [95m56.92[m, [95m63.41[m, [95m73.03[m, [95m80.38[m, [95m87.17[m, [95m96.55[m, [95m125.61[m, [95m145.51[m, [95m182.94[m, [95m198.92[m, [95m238.54[m, [95m266.21[m]][38;5;224m\[m
[93m 48 [m      }
[93m 49 
 50 [m  freq_per_cluster = freq_per_device[target_device_model]
[93m 51 [m  power_per_cluster = power_per_device[target_device_model]
[93m 52 [m  total_cycles = [95m0[m
[93m 53 [m  total_power = [95m0[m
[93m 54 [m  cycles_per_clusters = defaultdict([1m[96mint[m)
[93m 55 [m  time_per_clusters = defaultdict([1m[96mint[m)
[93m 56 
 57 [m  [93mfor[m i [93min[m [1m[96mrange[m([1m[96mlen[m(cpu_running_time_per_freq)):
[93m 58 [m    power = power_per_cluster[i]
[93m 59 [m    cpu_running_time = cpu_running_time_per_freq[i]
[93m 60 [m    freq_set = freq_per_cluster[i]
[93m 61 [m    [93mfor[m key [93min[m cpu_running_time.keys():
[93m 62 [m      total_cycles += freq_set[[1m[96mint[m(key)] * cpu_running_time[key]
[93m 63 [m      cycles_per_clusters[i] += freq_set[[1m[96mint[m(key)] * cpu_running_time[key]
[93m 64 [m      total_power += cpu_running_time[key] * power[[1m[96mint[m(key)]
[93m 65 [m      time_per_clusters[i] += cpu_running_time[key]
[93m 66 
 67 [m  total_power /= [95m3600.0[m
[93m 68 [m  total_power /= [95m1000.0[m
[93m 69 [m  total_power /= [95m1000.0[m
[93m 70 [m  [93mreturn[m total_cycles, cycles_per_clusters, total_power, time_per_clusters
[93m 71 
 72 
 73 
 74 
 75 
 76 
 77 
 78 
 79 
 80 
 81 [m[93mdef[m [1m[96mparse_batterystats[m(path, target_package, logged_data, target_device_model):
[93m 82 [m  data = [1m[96mopen[m(path).read()
[93m 83 [m  [93mif[m(data[[95m0[m] != [95m"{"[m):
[93m 84 [m    data = data[[95m1[m:]
[93m 85 
 86 [m  [93mfor[m line [93min[m data.split([95m"[m[38;5;224m\n[m[95m"[m):
[93m 87 [m    [93mtry[m:
[93m 88 [m      json_data = json.loads(line)
[93m 89 [m      keys = json_data.keys()
[93m 90 
 91 
 92 [m      [93mfor[m target_package_name, app_name [93min[m [[target_package, [95m"AR"[m]]:
[93m 93 [m[8C[93mif[m(target_package_name [93min[m json_data.values()):
[93m 94 [m[10Ckeys = json_data.keys()
[93m 95 [m[10C[93mfor[m key [93min[m keys:[57;163H95,1[10C28%[56;5H[?25h[27m[23m[29m[m[H[2J[?25l[1;1H[93m 40 [m      [[95m300000[m, [95m652800[m, [95m806400[m, [95m979200[m, [95m1094400[m, [95m1209600[m, [95m1324800[m, [95m1555200[m, [95m1708800[m, [95m1843200[m, [95m1939200[m, [95m2169600[m, [95m2208000[m]][38;5;224m\[m
[93m 41 [m      }
[93m 42 [m  power_per_device = {[95m"Pixel_4XL"[m: [[[95m39.44[m, [95m41.34[m, [95m43.57[m, [95m45.48[m, [95m47.20[m, [95m49.64[m,[38;5;224m\[m
[93m 43 [m      [95m51.88[m, [95m53.34[m, [95m56.69[m, [95m58.78[m, [95m61.41[m, [95m65.11[m, [95m67.49[m, [95m70.61[m, [95m72.39[m, [95m75.43[m, [95m80.21[m, [95m85.05[m][38;5;224m\[m
[93m 44 [m      , [[95m50.35[m, [95m55.12[m, [95m61.45[m, [95m69.92[m, [95m77.48[m, [95m85.35[m, [95m95.17[m, [95m103.26[m, [95m118.19[m, [95m132.72[m, [95m143.83[m, [95m155.91[m, [95m190.16[m, [95m213.11[m, [95m237.96[m, [95m266.97[m, [95m302.04[m][38;5;224m\[m
[93m 45 [m      ,[[95m52.70[m, [95m55.90[m, [95m59.73[m, [95m63.66[m, [95m67.28[m, [95m71.66[m, [95m76.47[m, [95m80.92[m, [95m85.81[m, [95m93.19[m, [95m98.06[m, [95m119.08[m, [95m127.88[m, [95m129.85[m, [95m140.37[m, [95m151.22[m, [95m160.73[m, [95m175.5[m, [95m186.29[m, [95m223.89[m]],[38;5;224m\[m
[93m 46 [m      [95m"Pixel_4a"[m :[[[95m34.55[m, [95m46.57[m, [95m54.84[m, [95m68.16[m, [95m80.70[m, [95m86.6[m, [95m99.13[m, [95m111.05[m, [95m119.59[m, [95m128.45[m],[38;5;224m\[m
[93m 47 [m[8C[[95m42.23[m, [95m56.92[m, [95m63.41[m, [95m73.03[m, [95m80.38[m, [95m87.17[m, [95m96.55[m, [95m125.61[m, [95m145.51[m, [95m182.94[m, [95m198.92[m, [95m238.54[m, [95m266.21[m]][38;5;224m\[m
[93m 48 [m      }
[93m 49 
 50 [m  freq_per_cluster = freq_per_device[target_device_model]
[93m 51 [m  power_per_cluster = power_per_device[target_device_model]
[93m 52 [m  total_cycles = [95m0[m
[93m 53 [m  total_power = [95m0[m
[93m 54 [m  cycles_per_clusters = defaultdict([1m[96mint[m)
[93m 55 [m  time_per_clusters = defaultdict([1m[96mint[m)
[93m 56 
 57 [m  [93mfor[m i [93min[m [1m[96mrange[m([1m[96mlen[m(cpu_running_time_per_freq)):
[93m 58 [m    power = power_per_cluster[i]
[93m 59 [m    cpu_running_time = cpu_running_time_per_freq[i]
[93m 60 [m    freq_set = freq_per_cluster[i]
[93m 61 [m    [93mfor[m key [93min[m cpu_running_time.keys():
[93m 62 [m      total_cycles += freq_set[[1m[96mint[m(key)] * cpu_running_time[key]
[93m 63 [m      cycles_per_clusters[i] += freq_set[[1m[96mint[m(key)] * cpu_running_time[key]
[93m 64 [m      total_power += cpu_running_time[key] * power[[1m[96mint[m(key)]
[93m 65 [m      time_per_clusters[i] += cpu_running_time[key]
[93m 66 
 67 [m  total_power /= [95m3600.0[m
[93m 68 [m  total_power /= [95m1000.0[m
[93m 69 [m  total_power /= [95m1000.0[m
[93m 70 [m  [93mreturn[m total_cycles, cycles_per_clusters, total_power, time_per_clusters
[93m 71 
 72 
 73 
 74 
 75 
 76 
 77 
 78 
 79 
 80 
 81 [m[93mdef[m [1m[96mparse_batterystats[m(path, target_package, logged_data, target_device_model):
[93m 82 [m  data = [1m[96mopen[m(path).read()
[93m 83 [m  [93mif[m(data[[95m0[m] != [95m"{"[m):
[93m 84 [m    data = data[[95m1[m:]
[93m 85 
 86 [m  [93mfor[m line [93min[m data.split([95m"[m[38;5;224m\n[m[95m"[m):
[93m 87 [m    [93mtry[m:
[93m 88 [m      json_data = json.loads(line)
[93m 89 [m      keys = json_data.keys()
[93m 90 
 91 
 92 [m      [93mfor[m target_package_name, app_name [93min[m [[target_package, [95m"AR"[m]]:
[93m 93 [m[8C[93mif[m(target_package_name [93min[m json_data.values()):
[93m 94 [m[10Ckeys = json_data.keys()
[93m 95 [m[10C[93mfor[m key [93min[m keys:[57;156H95,1[10C28%[56;5H[?25h[27m[23m[29m[m[H[2J[?25l[1;1H[93m 42 [m  power_per_device = {[95m"Pixel_4XL"[m: [[[95m39.44[m, [95m41.34[m, [95m43.57[m, [95m45.48[m, [95m47.20[m, [95m49.64[m,[38;5;224m\[m
[93m 43 [m      [95m51.88[m, [95m53.34[m, [95m56.69[m, [95m58.78[m, [95m61.41[m, [95m65.11[m, [95m67.49[m, [95m70.61[m, [95m72.39[m, [95m75.43[m, [95m80.21[m, [95m85.05[m][38;5;224m\[m
[93m 44 [m      , [[95m50.35[m, [95m55.12[m, [95m61.45[m, [95m69.92[m, [95m77.48[m, [95m85.35[m, [95m95.17[m, [95m103.26[m, [95m118.19[m, [95m132.72[m, [95m143.83[m, [95m155.91[m, [95m190.16[m, [95m213.11[m, [95m237.96[m, [95m266.97[m, [95m302.04[m][38;5;224m\[m
[93m 45 [m      ,[[95m52.70[m, [95m55.90[m, [95m59.73[m, [95m63.66[m, [95m67.28[m, [95m71.66[m, [95m76.47[m, [95m80.92[m, [95m85.81[m, [95m93.19[m, [95m98.06[m, [95m119.08[m, [95m127.88[m, [95m129.85[m, [95m140.37[m, [95m151.22[m, [95m160.73[m, [95m175.5[m, [95m186.29[m, [95m223.89[m]],[38;5;224m\[m
[93m 46 [m      [95m"Pixel_4a"[m :[[[95m34.55[m, [95m46.57[m, [95m54.84[m, [95m68.16[m, [95m80.70[m, [95m86.6[m, [95m99.13[m, [95m111.05[m, [95m119.59[m, [95m128.45[m],[38;5;224m\[m
[93m 47 [m[8C[[95m42.23[m, [95m56.92[m, [95m63.41[m, [95m73.03[m, [95m80.38[m, [95m87.17[m, [95m96.55[m, [95m125.61[m, [95m145.51[m, [95m182.94[m, [95m198.92[m, [95m238.54[m, [95m266.21[m]][38;5;224m\[m
[93m 48 [m      }
[93m 49 
 50 [m  freq_per_cluster = freq_per_device[target_device_model]
[93m 51 [m  power_per_cluster = power_per_device[target_device_model]
[93m 52 [m  total_cycles = [95m0[m
[93m 53 [m  total_power = [95m0[m
[93m 54 [m  cycles_per_clusters = defaultdict([1m[96mint[m)
[93m 55 [m  time_per_clusters = defaultdict([1m[96mint[m)
[93m 56 
 57 [m  [93mfor[m i [93min[m [1m[96mrange[m([1m[96mlen[m(cpu_running_time_per_freq)):
[93m 58 [m    power = power_per_cluster[i]
[93m 59 [m    cpu_running_time = cpu_running_time_per_freq[i]
[93m 60 [m    freq_set = freq_per_cluster[i]
[93m 61 [m    [93mfor[m key [93min[m cpu_running_time.keys():
[93m 62 [m      total_cycles += freq_set[[1m[96mint[m(key)] * cpu_running_time[key]
[93m 63 [m      cycles_per_clusters[i] += freq_set[[1m[96mint[m(key)] * cpu_running_time[key]
[93m 64 [m      total_power += cpu_running_time[key] * power[[1m[96mint[m(key)]
[93m 65 [m      time_per_clusters[i] += cpu_running_time[key]
[93m 66 
 67 [m  total_power /= [95m3600.0[m
[93m 68 [m  total_power /= [95m1000.0[m
[93m 69 [m  total_power /= [95m1000.0[m
[93m 70 [m  [93mreturn[m total_cycles, cycles_per_clusters, total_power, time_per_clusters
[93m 71 
 72 
 73 
 74 
 75 
 76 
 77 
 78 
 79 
 80 
 81 [m[93mdef[m [1m[96mparse_batterystats[m(path, target_package, logged_data, target_device_model):
[93m 82 [m  data = [1m[96mopen[m(path).read()
[93m 83 [m  [93mif[m(data[[95m0[m] != [95m"{"[m):
[93m 84 [m    data = data[[95m1[m:]
[93m 85 
 86 [m  [93mfor[m line [93min[m data.split([95m"[m[38;5;224m\n[m[95m"[m):
[93m 87 [m    [93mtry[m:
[93m 88 [m      json_data = json.loads(line)
[93m 89 [m      keys = json_data.keys()
[93m 90 
 91 
 92 [m      [93mfor[m target_package_name, app_name [93min[m [[target_package, [95m"AR"[m]]:
[93m 93 [m[8C[93mif[m(target_package_name [93min[m json_data.values()):
[93m 94 [m[10Ckeys = json_data.keys()
[93m 95 [m[10C[93mfor[m key [93min[m keys:[55;156H95,1[10C29%[54;5H[?25h[27m[23m[29m[m[H[2J[?25l[1;1H[93m 40 [m      [[95m300000[m, [95m652800[m, [95m806400[m, [95m979200[m, [95m1094400[m, [95m1209600[m, [95m1324800[m, [95m1555200[m, [95m1708800[m, [95m1843200[m, [95m1939200[m, [95m2169600[m, [95m2208000[m]][38;5;224m\[m
[93m 41 [m      }
[93m 42 [m  power_per_device = {[95m"Pixel_4XL"[m: [[[95m39.44[m, [95m41.34[m, [95m43.57[m, [95m45.48[m, [95m47.20[m, [95m49.64[m,[38;5;224m\[m
[93m 43 [m      [95m51.88[m, [95m53.34[m, [95m56.69[m, [95m58.78[m, [95m61.41[m, [95m65.11[m, [95m67.49[m, [95m70.61[m, [95m72.39[m, [95m75.43[m, [95m80.21[m, [95m85.05[m][38;5;224m\[m
[93m 44 [m      , [[95m50.35[m, [95m55.12[m, [95m61.45[m, [95m69.92[m, [95m77.48[m, [95m85.35[m, [95m95.17[m, [95m103.26[m, [95m118.19[m, [95m132.72[m, [95m143.83[m, [95m155.91[m, [95m190.16[m, [95m213.11[m, [95m237.96[m, [95m266.97[m, [95m302.04[m][38;5;224m\[m
[93m 45 [m      ,[[95m52.70[m, [95m55.90[m, [95m59.73[m, [95m63.66[m, [95m67.28[m, [95m71.66[m, [95m76.47[m, [95m80.92[m, [95m85.81[m, [95m93.19[m, [95m98.06[m, [95m119.08[m, [95m127.88[m, [95m129.85[m, [95m140.37[m, [95m151.22[m, [95m160.73[m, [95m175.5[m, [95m186.29[m, [95m223.89[m]],[38;5;224m\[m
[93m 46 [m      [95m"Pixel_4a"[m :[[[95m34.55[m, [95m46.57[m, [95m54.84[m, [95m68.16[m, [95m80.70[m, [95m86.6[m, [95m99.13[m, [95m111.05[m, [95m119.59[m, [95m128.45[m],[38;5;224m\[m
[93m 47 [m[8C[[95m42.23[m, [95m56.92[m, [95m63.41[m, [95m73.03[m, [95m80.38[m, [95m87.17[m, [95m96.55[m, [95m125.61[m, [95m145.51[m, [95m182.94[m, [95m198.92[m, [95m238.54[m, [95m266.21[m]][38;5;224m\[m
[93m 48 [m      }
[93m 49 
 50 [m  freq_per_cluster = freq_per_device[target_device_model]
[93m 51 [m  power_per_cluster = power_per_device[target_device_model]
[93m 52 [m  total_cycles = [95m0[m
[93m 53 [m  total_power = [95m0[m
[93m 54 [m  cycles_per_clusters = defaultdict([1m[96mint[m)
[93m 55 [m  time_per_clusters = defaultdict([1m[96mint[m)
[93m 56 
 57 [m  [93mfor[m i [93min[m [1m[96mrange[m([1m[96mlen[m(cpu_running_time_per_freq)):
[93m 58 [m    power = power_per_cluster[i]
[93m 59 [m    cpu_running_time = cpu_running_time_per_freq[i]
[93m 60 [m    freq_set = freq_per_cluster[i]
[93m 61 [m    [93mfor[m key [93min[m cpu_running_time.keys():
[93m 62 [m      total_cycles += freq_set[[1m[96mint[m(key)] * cpu_running_time[key]
[93m 63 [m      cycles_per_clusters[i] += freq_set[[1m[96mint[m(key)] * cpu_running_time[key]
[93m 64 [m      total_power += cpu_running_time[key] * power[[1m[96mint[m(key)]
[93m 65 [m      time_per_clusters[i] += cpu_running_time[key]
[93m 66 
 67 [m  total_power /= [95m3600.0[m
[93m 68 [m  total_power /= [95m1000.0[m
[93m 69 [m  total_power /= [95m1000.0[m
[93m 70 [m  [93mreturn[m total_cycles, cycles_per_clusters, total_power, time_per_clusters
[93m 71 
 72 
 73 
 74 
 75 
 76 
 77 
 78 
 79 
 80 
 81 [m[93mdef[m [1m[96mparse_batterystats[m(path, target_package, logged_data, target_device_model):
[93m 82 [m  data = [1m[96mopen[m(path).read()
[93m 83 [m  [93mif[m(data[[95m0[m] != [95m"{"[m):
[93m 84 [m    data = data[[95m1[m:]
[93m 85 
 86 [m  [93mfor[m line [93min[m data.split([95m"[m[38;5;224m\n[m[95m"[m):
[93m 87 [m    [93mtry[m:
[93m 88 [m      json_data = json.loads(line)
[93m 89 [m      keys = json_data.keys()
[93m 90 
 91 
 92 [m      [93mfor[m target_package_name, app_name [93min[m [[target_package, [95m"AR"[m]]:
[93m 93 [m[8C[93mif[m(target_package_name [93min[m json_data.values()):
[93m 94 [m[10Ckeys = json_data.keys()
[93m 95 [m[10C[93mfor[m key [93min[m keys:[57;163H95,1[10C28%[56;5H[?25h[27m[23m[29m[m[H[2J[?25l[1;1H[93m 40 [m      [[95m300000[m, [95m652800[m, [95m806400[m, [95m979200[m, [95m1094400[m, [95m1209600[m, [95m1324800[m, [95m1555200[m, [95m1708800[m, [95m1843200[m, [95m1939200[m, [95m2169600[m, [95m2208000[m]][38;5;224m\[m
[93m 41 [m      }
[93m 42 [m  power_per_device = {[95m"Pixel_4XL"[m: [[[95m39.44[m, [95m41.34[m, [95m43.57[m, [95m45.48[m, [95m47.20[m, [95m49.64[m,[38;5;224m\[m
[93m 43 [m      [95m51.88[m, [95m53.34[m, [95m56.69[m, [95m58.78[m, [95m61.41[m, [95m65.11[m, [95m67.49[m, [95m70.61[m, [95m72.39[m, [95m75.43[m, [95m80.21[m, [95m85.05[m][38;5;224m\[m
[93m 44 [m      , [[95m50.35[m, [95m55.12[m, [95m61.45[m, [95m69.92[m, [95m77.48[m, [95m85.35[m, [95m95.17[m, [95m103.26[m, [95m118.19[m, [95m132.72[m, [95m143.83[m, [95m155.91[m, [95m190.16[m, [95m213.11[m, [95m237.96[m, [95m266.97[m, [95m302.04[m][38;5;224m\[m
[93m 45 [m      ,[[95m52.70[m, [95m55.90[m, [95m59.73[m, [95m63.66[m, [95m67.28[m, [95m71.66[m, [95m76.47[m, [95m80.92[m, [95m85.81[m, [95m93.19[m, [95m98.06[m, [95m119.08[m, [95m127.88[m, [95m129.85[m, [95m140.37[m, [95m151.22[m, [95m160.73[m, [95m175.5[m, [95m186.29[m, [95m223.89[m]],[38;5;224m\[m
[93m 46 [m      [95m"Pixel_4a"[m :[[[95m34.55[m, [95m46.57[m, [95m54.84[m, [95m68.16[m, [95m80.70[m, [95m86.6[m, [95m99.13[m, [95m111.05[m, [95m119.59[m, [95m128.45[m],[38;5;224m\[m
[93m 47 [m[8C[[95m42.23[m, [95m56.92[m, [95m63.41[m, [95m73.03[m, [95m80.38[m, [95m87.17[m, [95m96.55[m, [95m125.61[m, [95m145.51[m, [95m182.94[m, [95m198.92[m, [95m238.54[m, [95m266.21[m]][38;5;224m\[m
[93m 48 [m      }
[93m 49 
 50 [m  freq_per_cluster = freq_per_device[target_device_model]
[93m 51 [m  power_per_cluster = power_per_device[target_device_model]
[93m 52 [m  total_cycles = [95m0[m
[93m 53 [m  total_power = [95m0[m
[93m 54 [m  cycles_per_clusters = defaultdict([1m[96mint[m)
[93m 55 [m  time_per_clusters = defaultdict([1m[96mint[m)
[93m 56 
 57 [m  [93mfor[m i [93min[m [1m[96mrange[m([1m[96mlen[m(cpu_running_time_per_freq)):
[93m 58 [m    power = power_per_cluster[i]
[93m 59 [m    cpu_running_time = cpu_running_time_per_freq[i]
[93m 60 [m    freq_set = freq_per_cluster[i]
[93m 61 [m    [93mfor[m key [93min[m cpu_running_time.keys():
[93m 62 [m      total_cycles += freq_set[[1m[96mint[m(key)] * cpu_running_time[key]
[93m 63 [m      cycles_per_clusters[i] += freq_set[[1m[96mint[m(key)] * cpu_running_time[key]
[93m 64 [m      total_power += cpu_running_time[key] * power[[1m[96mint[m(key)]
[93m 65 [m      time_per_clusters[i] += cpu_running_time[key]
[93m 66 
 67 [m  total_power /= [95m3600.0[m
[93m 68 [m  total_power /= [95m1000.0[m
[93m 69 [m  total_power /= [95m1000.0[m
[93m 70 [m  [93mreturn[m total_cycles, cycles_per_clusters, total_power, time_per_clusters
[93m 71 
 72 
 73 
 74 
 75 
 76 
 77 
 78 
 79 
 80 
 81 [m[93mdef[m [1m[96mparse_batterystats[m(path, target_package, logged_data, target_device_model):
[93m 82 [m  data = [1m[96mopen[m(path).read()
[93m 83 [m  [93mif[m(data[[95m0[m] != [95m"{"[m):
[93m 84 [m    data = data[[95m1[m:]
[93m 85 
 86 [m  [93mfor[m line [93min[m data.split([95m"[m[38;5;224m\n[m[95m"[m):
[93m 87 [m    [93mtry[m:
[93m 88 [m      json_data = json.loads(line)
[93m 89 [m      keys = json_data.keys()
[93m 90 
 91 
 92 [m      [93mfor[m target_package_name, app_name [93min[m [[target_package, [95m"AR"[m]]:
[93m 93 [m[8C[93mif[m(target_package_name [93min[m json_data.values()):
[93m 94 [m[10Ckeys = json_data.keys()
[93m 95 [m[10C[93mfor[m key [93min[m keys:[57;156H95,1[10C28%[56;5H[?25h[27m[23m[29m[m[H[2J[?25l[1;1H[93m 40 [m      [[95m300000[m, [95m652800[m, [95m806400[m, [95m979200[m, [95m1094400[m, [95m1209600[m, [95m1324800[m, [95m1555200[m, [95m1708800[m, [95m1843200[m, [95m1939200[m, [95m2169600[m, [95m2208000[m]][38;5;224m\[m
[93m 41 [m      }
[93m 42 [m  power_per_device = {[95m"Pixel_4XL"[m: [[[95m39.44[m, [95m41.34[m, [95m43.57[m, [95m45.48[m, [95m47.20[m, [95m49.64[m,[38;5;224m\[m
[93m 43 [m      [95m51.88[m, [95m53.34[m, [95m56.69[m, [95m58.78[m, [95m61.41[m, [95m65.11[m, [95m67.49[m, [95m70.61[m, [95m72.39[m, [95m75.43[m, [95m80.21[m, [95m85.05[m][38;5;224m\[m
[93m 44 [m      , [[95m50.35[m, [95m55.12[m, [95m61.45[m, [95m69.92[m, [95m77.48[m, [95m85.35[m, [95m95.17[m, [95m103.26[m, [95m118.19[m, [95m132.72[m, [95m143.83[m, [95m155.91[m, [95m190.16[m, [95m213.11[m, [95m237.96[m, [95m266.97[m, [95m302.04[m][38;5;224m\[m
[93m 45 [m      ,[[95m52.70[m, [95m55.90[m, [95m59.73[m, [95m63.66[m, [95m67.28[m, [95m71.66[m, [95m76.47[m, [95m80.92[m, [95m85.81[m, [95m93.19[m, [95m98.06[m, [95m119.08[m, [95m127.88[m, [95m129.85[m, [95m140.37[m, [95m151.22[m, [95m160.73[m, [95m175.5[m, [95m186.29[m, [95m223.89[m]],[38;5;224m\[m
[93m 46 [m      [95m"Pixel_4a"[m :[[[95m34.55[m, [95m46.57[m, [95m54.84[m, [95m68.16[m, [95m80.70[m, [95m86.6[m, [95m99.13[m, [95m111.05[m, [95m119.59[m, [95m128.45[m],[38;5;224m\[m
[93m 47 [m[8C[[95m42.23[m, [95m56.92[m, [95m63.41[m, [95m73.03[m, [95m80.38[m, [95m87.17[m, [95m96.55[m, [95m125.61[m, [95m145.51[m, [95m182.94[m, [95m198.92[m, [95m238.54[m, [95m266.21[m]][38;5;224m\[m
[93m 48 [m      }
[93m 49 
 50 [m  freq_per_cluster = freq_per_device[target_device_model]
[93m 51 [m  power_per_cluster = power_per_device[target_device_model]
[93m 52 [m  total_cycles = [95m0[m
[93m 53 [m  total_power = [95m0[m
[93m 54 [m  cycles_per_clusters = defaultdict([1m[96mint[m)
[93m 55 [m  time_per_clusters = defaultdict([1m[96mint[m)
[93m 56 
 57 [m  [93mfor[m i [93min[m [1m[96mrange[m([1m[96mlen[m(cpu_running_time_per_freq)):
[93m 58 [m    power = power_per_cluster[i]
[93m 59 [m    cpu_running_time = cpu_running_time_per_freq[i]
[93m 60 [m    freq_set = freq_per_cluster[i]
[93m 61 [m    [93mfor[m key [93min[m cpu_running_time.keys():
[93m 62 [m      total_cycles += freq_set[[1m[96mint[m(key)] * cpu_running_time[key]
[93m 63 [m      cycles_per_clusters[i] += freq_set[[1m[96mint[m(key)] * cpu_running_time[key]
[93m 64 [m      total_power += cpu_running_time[key] * power[[1m[96mint[m(key)]
[93m 65 [m      time_per_clusters[i] += cpu_running_time[key]
[93m 66 
 67 [m  total_power /= [95m3600.0[m
[93m 68 [m  total_power /= [95m1000.0[m
[93m 69 [m  total_power /= [95m1000.0[m
[93m 70 [m  [93mreturn[m total_cycles, cycles_per_clusters, total_power, time_per_clusters
[93m 71 
 72 
 73 
 74 
 75 
 76 
 77 
 78 
 79 
 80 
 81 [m[93mdef[m [1m[96mparse_batterystats[m(path, target_package, logged_data, target_device_model):
[93m 82 [m  data = [1m[96mopen[m(path).read()
[93m 83 [m  [93mif[m(data[[95m0[m] != [95m"{"[m):
[93m 84 [m    data = data[[95m1[m:]
[93m 85 
 86 [m  [93mfor[m line [93min[m data.split([95m"[m[38;5;224m\n[m[95m"[m):
[93m 87 [m    [93mtry[m:
[93m 88 [m      json_data = json.loads(line)
[93m 89 [m      keys = json_data.keys()
[93m 90 
 91 
 92 [m      [93mfor[m target_package_name, app_name [93min[m [[target_package, [95m"AR"[m]]:
[93m 93 [m[8C[93mif[m(target_package_name [93min[m json_data.values()):
[93m 94 [m[10Ckeys = json_data.keys()
[93m 95 [m[10C[93mfor[m key [93min[m keys:[57;163H95,1[10C28%[56;5H[?25h[27m[23m[29m[m[H[2J[?25l[1;1H[93m 40 [m      [[95m300000[m, [95m652800[m, [95m806400[m, [95m979200[m, [95m1094400[m, [95m1209600[m, [95m1324800[m, [95m1555200[m, [95m1708800[m, [95m1843200[m, [95m1939200[m, [95m2169600[m, [95m2208000[m]][38;5;224m\[m
[93m 41 [m      }
[93m 42 [m  power_per_device = {[95m"Pixel_4XL"[m: [[[95m39.44[m, [95m41.34[m, [95m43.57[m, [95m45.48[m, [95m47.20[m, [95m49.64[m,[38;5;224m\[m
[93m 43 [m      [95m51.88[m, [95m53.34[m, [95m56.69[m, [95m58.78[m, [95m61.41[m, [95m65.11[m, [95m67.49[m, [95m70.61[m, [95m72.39[m, [95m75.43[m, [95m80.21[m, [95m85.05[m][38;5;224m\[m
[93m 44 [m      , [[95m50.35[m, [95m55.12[m, [95m61.45[m, [95m69.92[m, [95m77.48[m, [95m85.35[m, [95m95.17[m, [95m103.26[m, [95m118.19[m, [95m132.72[m, [95m143.83[m, [95m155.91[m, [95m190.16[m, [95m213.11[m, [95m237.96[m, [95m266.97[m, [95m302.04[m][38;5;224m\[m
[93m 45 [m      ,[[95m52.70[m, [95m55.90[m, [95m59.73[m, [95m63.66[m, [95m67.28[m, [95m71.66[m, [95m76.47[m, [95m80.92[m, [95m85.81[m, [95m93.19[m, [95m98.06[m, [95m119.08[m, [95m127.88[m, [95m129.85[m, [95m140.37[m, [95m151.22[m, [95m160.73[m, [95m175.5[m, [95m186.29[m, [95m223.89[m]],[38;5;224m\[m
[93m 46 [m      [95m"Pixel_4a"[m :[[[95m34.55[m, [95m46.57[m, [95m54.84[m, [95m68.16[m, [95m80.70[m, [95m86.6[m, [95m99.13[m, [95m111.05[m, [95m119.59[m, [95m128.45[m],[38;5;224m\[m
[93m 47 [m[8C[[95m42.23[m, [95m56.92[m, [95m63.41[m, [95m73.03[m, [95m80.38[m, [95m87.17[m, [95m96.55[m, [95m125.61[m, [95m145.51[m, [95m182.94[m, [95m198.92[m, [95m238.54[m, [95m266.21[m]][38;5;224m\[m
[93m 48 [m      }
[93m 49 
 50 [m  freq_per_cluster = freq_per_device[target_device_model]
[93m 51 [m  power_per_cluster = power_per_device[target_device_model]
[93m 52 [m  total_cycles = [95m0[m
[93m 53 [m  total_power = [95m0[m
[93m 54 [m  cycles_per_clusters = defaultdict([1m[96mint[m)
[93m 55 [m  time_per_clusters = defaultdict([1m[96mint[m)
[93m 56 
 57 [m  [93mfor[m i [93min[m [1m[96mrange[m([1m[96mlen[m(cpu_running_time_per_freq)):
[93m 58 [m    power = power_per_cluster[i]
[93m 59 [m    cpu_running_time = cpu_running_time_per_freq[i]
[93m 60 [m    freq_set = freq_per_cluster[i]
[93m 61 [m    [93mfor[m key [93min[m cpu_running_time.keys():
[93m 62 [m      total_cycles += freq_set[[1m[96mint[m(key)] * cpu_running_time[key]
[93m 63 [m      cycles_per_clusters[i] += freq_set[[1m[96mint[m(key)] * cpu_running_time[key]
[93m 64 [m      total_power += cpu_running_time[key] * power[[1m[96mint[m(key)]
[93m 65 [m      time_per_clusters[i] += cpu_running_time[key]
[93m 66 
 67 [m  total_power /= [95m3600.0[m
[93m 68 [m  total_power /= [95m1000.0[m
[93m 69 [m  total_power /= [95m1000.0[m
[93m 70 [m  [93mreturn[m total_cycles, cycles_per_clusters, total_power, time_per_clusters
[93m 71 
 72 
 73 
 74 
 75 
 76 
 77 
 78 
 79 
 80 
 81 [m[93mdef[m [1m[96mparse_batterystats[m(path, target_package, logged_data, target_device_model):
[93m 82 [m  data = [1m[96mopen[m(path).read()
[93m 83 [m  [93mif[m(data[[95m0[m] != [95m"{"[m):
[93m 84 [m    data = data[[95m1[m:]
[93m 85 
 86 [m  [93mfor[m line [93min[m data.split([95m"[m[38;5;224m\n[m[95m"[m):
[93m 87 [m    [93mtry[m:
[93m 88 [m      json_data = json.loads(line)
[93m 89 [m      keys = json_data.keys()
[93m 90 
 91 
 92 [m      [93mfor[m target_package_name, app_name [93min[m [[target_package, [95m"AR"[m]]:
[93m 93 [m[8C[93mif[m(target_package_name [93min[m json_data.values()):
[93m 94 [m[10Ckeys = json_data.keys()
[93m 95 [m[10C[93mfor[m key [93min[m keys:[57;156H95,1[10C28%[56;5H[?25h[27m[23m[29m[m[H[2J[?25l[1;1H[93m 40 [m      [[95m300000[m, [95m652800[m, [95m806400[m, [95m979200[m, [95m1094400[m, [95m1209600[m, [95m1324800[m, [95m1555200[m, [95m1708800[m, [95m1843200[m, [95m1939200[m, [95m2169600[m, [95m2208000[m]][38;5;224m\[m
[93m 41 [m      }
[93m 42 [m  power_per_device = {[95m"Pixel_4XL"[m: [[[95m39.44[m, [95m41.34[m, [95m43.57[m, [95m45.48[m, [95m47.20[m, [95m49.64[m,[38;5;224m\[m
[93m 43 [m      [95m51.88[m, [95m53.34[m, [95m56.69[m, [95m58.78[m, [95m61.41[m, [95m65.11[m, [95m67.49[m, [95m70.61[m, [95m72.39[m, [95m75.43[m, [95m80.21[m, [95m85.05[m][38;5;224m\[m
[93m 44 [m      , [[95m50.35[m, [95m55.12[m, [95m61.45[m, [95m69.92[m, [95m77.48[m, [95m85.35[m, [95m95.17[m, [95m103.26[m, [95m118.19[m, [95m132.72[m, [95m143.83[m, [95m155.91[m, [95m190.16[m, [95m213.11[m, [95m237.96[m, [95m266.97[m, [95m302.04[m][38;5;224m\[m
[93m 45 [m      ,[[95m52.70[m, [95m55.90[m, [95m59.73[m, [95m63.66[m, [95m67.28[m, [95m71.66[m, [95m76.47[m, [95m80.92[m, [95m85.81[m, [95m93.19[m, [95m98.06[m, [95m119.08[m, [95m127.88[m, [95m129.85[m, [95m140.37[m, [95m151.22[m, [95m160.73[m, [95m175.5[m, [95m186.29[m, [95m223.89[m]],[38;5;224m\[m
[93m 46 [m      [95m"Pixel_4a"[m :[[[95m34.55[m, [95m46.57[m, [95m54.84[m, [95m68.16[m, [95m80.70[m, [95m86.6[m, [95m99.13[m, [95m111.05[m, [95m119.59[m, [95m128.45[m],[38;5;224m\[m
[93m 47 [m[8C[[95m42.23[m, [95m56.92[m, [95m63.41[m, [95m73.03[m, [95m80.38[m, [95m87.17[m, [95m96.55[m, [95m125.61[m, [95m145.51[m, [95m182.94[m, [95m198.92[m, [95m238.54[m, [95m266.21[m]][38;5;224m\[m
[93m 48 [m      }
[93m 49 
 50 [m  freq_per_cluster = freq_per_device[target_device_model]
[93m 51 [m  power_per_cluster = power_per_device[target_device_model]
[93m 52 [m  total_cycles = [95m0[m
[93m 53 [m  total_power = [95m0[m
[93m 54 [m  cycles_per_clusters = defaultdict([1m[96mint[m)
[93m 55 [m  time_per_clusters = defaultdict([1m[96mint[m)
[93m 56 
 57 [m  [93mfor[m i [93min[m [1m[96mrange[m([1m[96mlen[m(cpu_running_time_per_freq)):
[93m 58 [m    power = power_per_cluster[i]
[93m 59 [m    cpu_running_time = cpu_running_time_per_freq[i]
[93m 60 [m    freq_set = freq_per_cluster[i]
[93m 61 [m    [93mfor[m key [93min[m cpu_running_time.keys():
[93m 62 [m      total_cycles += freq_set[[1m[96mint[m(key)] * cpu_running_time[key]
[93m 63 [m      cycles_per_clusters[i] += freq_set[[1m[96mint[m(key)] * cpu_running_time[key]
[93m 64 [m      total_power += cpu_running_time[key] * power[[1m[96mint[m(key)]
[93m 65 [m      time_per_clusters[i] += cpu_running_time[key]
[93m 66 
 67 [m  total_power /= [95m3600.0[m
[93m 68 [m  total_power /= [95m1000.0[m
[93m 69 [m  total_power /= [95m1000.0[m
[93m 70 [m  [93mreturn[m total_cycles, cycles_per_clusters, total_power, time_per_clusters
[93m 71 
 72 
 73 
 74 
 75 
 76 
 77 
 78 
 79 
 80 
 81 [m[93mdef[m [1m[96mparse_batterystats[m(path, target_package, logged_data, target_device_model):
[93m 82 [m  data = [1m[96mopen[m(path).read()
[93m 83 [m  [93mif[m(data[[95m0[m] != [95m"{"[m):
[93m 84 [m    data = data[[95m1[m:]
[93m 85 
 86 [m  [93mfor[m line [93min[m data.split([95m"[m[38;5;224m\n[m[95m"[m):
[93m 87 [m    [93mtry[m:
[93m 88 [m      json_data = json.loads(line)
[93m 89 [m      keys = json_data.keys()
[93m 90 
 91 
 92 [m      [93mfor[m target_package_name, app_name [93min[m [[target_package, [95m"AR"[m]]:
[93m 93 [m[8C[93mif[m(target_package_name [93min[m json_data.values()):
[93m 94 [m[10Ckeys = json_data.keys()
[93m 95 [m[10C[93mfor[m key [93min[m keys:[57;163H95,1[10C28%[56;5H[?25h[27m[23m[29m[m[H[2J[?25l[1;1H[93m 37 [m      [[95m825600[m, [95m940800[m, [95m1056000[m, [95m1171200[m, [95m1286400[m, [95m1401600[m, [95m1497600[m, [95m1612800[m, [95m1708800[m, [95m1804800[m, [95m1920000[m, [95m2016000[m, [95m2131200[m, [95m2227200[m,[38;5;224m\[m
[93m 38 [m      [95m2323200[m, [95m2419200[m, [95m2534400[m, [95m2649600[m, [95m2745600[m, [95m2841600[m]], [38;5;224m\[m
[93m 39 [m      [95m"Pixel_4a"[m: [[[95m300000[m, [95m576000[m, [95m768000[m, [95m1017600[m, [95m1248000[m, [95m1324800[m, [95m1497600[m, [95m1612800[m, [95m1708800[m, [95m1804800[m] ,[38;5;224m\[m
[93m 40 [m      [[95m300000[m, [95m652800[m, [95m806400[m, [95m979200[m, [95m1094400[m, [95m1209600[m, [95m1324800[m, [95m1555200[m, [95m1708800[m, [95m1843200[m, [95m1939200[m, [95m2169600[m, [95m2208000[m]][38;5;224m\[m
[93m 41 [m      }
[93m 42 [m  power_per_device = {[95m"Pixel_4XL"[m: [[[95m39.44[m, [95m41.34[m, [95m43.57[m, [95m45.48[m, [95m47.20[m, [95m49.64[m,[38;5;224m\[m
[93m 43 [m      [95m51.88[m, [95m53.34[m, [95m56.69[m, [95m58.78[m, [95m61.41[m, [95m65.11[m, [95m67.49[m, [95m70.61[m, [95m72.39[m, [95m75.43[m, [95m80.21[m, [95m85.05[m][38;5;224m\[m
[93m 44 [m      , [[95m50.35[m, [95m55.12[m, [95m61.45[m, [95m69.92[m, [95m77.48[m, [95m85.35[m, [95m95.17[m, [95m103.26[m, [95m118.19[m, [95m132.72[m, [95m143.83[m, [95m155.91[m, [95m190.16[m, [95m213.11[m, [95m237.96[m, [95m266.97[m, [95m302.04[m][38;5;224m\[m
[93m 45 [m      ,[[95m52.70[m, [95m55.90[m, [95m59.73[m, [95m63.66[m, [95m67.28[m, [95m71.66[m, [95m76.47[m, [95m80.92[m, [95m85.81[m, [95m93.19[m, [95m98.06[m, [95m119.08[m, [95m127.88[m, [95m129.85[m, [95m140.37[m, [95m151.22[m, [95m160.73[m, [95m175.5[m, [95m186.29[m, [95m223.89[m]],[38;5;224m\[m
[93m 46 [m      [95m"Pixel_4a"[m :[[[95m34.55[m, [95m46.57[m, [95m54.84[m, [95m68.16[m, [95m80.70[m, [95m86.6[m, [95m99.13[m, [95m111.05[m, [95m119.59[m, [95m128.45[m],[38;5;224m\[m
[93m 47 [m[8C[[95m42.23[m, [95m56.92[m, [95m63.41[m, [95m73.03[m, [95m80.38[m, [95m87.17[m, [95m96.55[m, [95m125.61[m, [95m145.51[m, [95m182.94[m, [95m198.92[m, [95m238.54[m, [95m266.21[m]][38;5;224m\[m
[93m 48 [m      }
[93m 49 
 50 [m  freq_per_cluster = freq_per_device[target_device_model]
[93m 51 [m  power_per_cluster = power_per_device[target_device_model]
[93m 52 [m  total_cycles = [95m0[m
[93m 53 [m  total_power = [95m0[m
[93m 54 [m  cycles_per_clusters = defaultdict([1m[96mint[m)
[93m 55 [m  time_per_clusters = defaultdict([1m[96mint[m)
[93m 56 
 57 [m  [93mfor[m i [93min[m [1m[96mrange[m([1m[96mlen[m(cpu_running_time_per_freq)):
[93m 58 [m    power = power_per_cluster[i]
[93m 59 [m    cpu_running_time = cpu_running_time_per_freq[i]
[93m 60 [m    freq_set = freq_per_cluster[i]
[93m 61 [m    [93mfor[m key [93min[m cpu_running_time.keys():
[93m 62 [m      total_cycles += freq_set[[1m[96mint[m(key)] * cpu_running_time[key]
[93m 63 [m      cycles_per_clusters[i] += freq_set[[1m[96mint[m(key)] * cpu_running_time[key]
[93m 64 [m      total_power += cpu_running_time[key] * power[[1m[96mint[m(key)]
[93m 65 [m      time_per_clusters[i] += cpu_running_time[key]
[93m 66 
 67 [m  total_power /= [95m3600.0[m
[93m 68 [m  total_power /= [95m1000.0[m
[93m 69 [m  total_power /= [95m1000.0[m
[93m 70 [m  [93mreturn[m total_cycles, cycles_per_clusters, total_power, time_per_clusters
[93m 71 
 72 
 73 
 74 
 75 
 76 
 77 
 78 
 79 
 80 
 81 [m[93mdef[m [1m[96mparse_batterystats[m(path, target_package, logged_data, target_device_model):
[93m 82 [m  data = [1m[96mopen[m(path).read()
[93m 83 [m  [93mif[m(data[[95m0[m] != [95m"{"[m):
[93m 84 [m    data = data[[95m1[m:]
[93m 85 
 86 [m  [93mfor[m line [93min[m data.split([95m"[m[38;5;224m\n[m[95m"[m):
[93m 87 [m    [93mtry[m:
[93m 88 [m      json_data = json.loads(line)
[93m 89 [m      keys = json_data.keys()
[93m 90 
 91 
 92 [m      [93mfor[m target_package_name, app_name [93min[m [[target_package, [95m"AR"[m]]:
[93m 93 [m[8C[93mif[m(target_package_name [93min[m json_data.values()):
[93m 94 [m[10Ckeys = json_data.keys()
[93m 95 [m[10C[93mfor[m key [93min[m keys:[60;200H95,1[10C26%[59;5H[?25h[27m[23m[29m[m[H[2J[?25l[1;1H[93m 40 [m      [[95m300000[m, [95m652800[m, [95m806400[m, [95m979200[m, [95m1094400[m, [95m1209600[m, [95m1324800[m, [95m1555200[m, [95m1708800[m, [95m1843200[m, [95m1939200[m, [95m2169600[m, [95m2208000[m]][38;5;224m\[m
[93m 41 [m      }
[93m 42 [m  power_per_device = {[95m"Pixel_4XL"[m: [[[95m39.44[m, [95m41.34[m, [95m43.57[m, [95m45.48[m, [95m47.20[m, [95m49.64[m,[38;5;224m\[m
[93m 43 [m      [95m51.88[m, [95m53.34[m, [95m56.69[m, [95m58.78[m, [95m61.41[m, [95m65.11[m, [95m67.49[m, [95m70.61[m, [95m72.39[m, [95m75.43[m, [95m80.21[m, [95m85.05[m][38;5;224m\[m
[93m 44 [m      , [[95m50.35[m, [95m55.12[m, [95m61.45[m, [95m69.92[m, [95m77.48[m, [95m85.35[m, [95m95.17[m, [95m103.26[m, [95m118.19[m, [95m132.72[m, [95m143.83[m, [95m155.91[m, [95m190.16[m, [95m213.11[m, [95m237.96[m, [95m266.97[m, [95m302.04[m][38;5;224m\[m
[93m 45 [m      ,[[95m52.70[m, [95m55.90[m, [95m59.73[m, [95m63.66[m, [95m67.28[m, [95m71.66[m, [95m76.47[m, [95m80.92[m, [95m85.81[m, [95m93.19[m, [95m98.06[m, [95m119.08[m, [95m127.88[m, [95m129.85[m, [95m140.37[m, [95m151.22[m, [95m160.73[m, [95m175.5[m, [95m186.29[m, [95m223.89[m]],[38;5;224m\[m
[93m 46 [m      [95m"Pixel_4a"[m :[[[95m34.55[m, [95m46.57[m, [95m54.84[m, [95m68.16[m, [95m80.70[m, [95m86.6[m, [95m99.13[m, [95m111.05[m, [95m119.59[m, [95m128.45[m],[38;5;224m\[m
[93m 47 [m[8C[[95m42.23[m, [95m56.92[m, [95m63.41[m, [95m73.03[m, [95m80.38[m, [95m87.17[m, [95m96.55[m, [95m125.61[m, [95m145.51[m, [95m182.94[m, [95m198.92[m, [95m238.54[m, [95m266.21[m]][38;5;224m\[m
[93m 48 [m      }
[93m 49 
 50 [m  freq_per_cluster = freq_per_device[target_device_model]
[93m 51 [m  power_per_cluster = power_per_device[target_device_model]
[93m 52 [m  total_cycles = [95m0[m
[93m 53 [m  total_power = [95m0[m
[93m 54 [m  cycles_per_clusters = defaultdict([1m[96mint[m)
[93m 55 [m  time_per_clusters = defaultdict([1m[96mint[m)
[93m 56 
 57 [m  [93mfor[m i [93min[m [1m[96mrange[m([1m[96mlen[m(cpu_running_time_per_freq)):
[93m 58 [m    power = power_per_cluster[i]
[93m 59 [m    cpu_running_time = cpu_running_time_per_freq[i]
[93m 60 [m    freq_set = freq_per_cluster[i]
[93m 61 [m    [93mfor[m key [93min[m cpu_running_time.keys():
[93m 62 [m      total_cycles += freq_set[[1m[96mint[m(key)] * cpu_running_time[key]
[93m 63 [m      cycles_per_clusters[i] += freq_set[[1m[96mint[m(key)] * cpu_running_time[key]
[93m 64 [m      total_power += cpu_running_time[key] * power[[1m[96mint[m(key)]
[93m 65 [m      time_per_clusters[i] += cpu_running_time[key]
[93m 66 
 67 [m  total_power /= [95m3600.0[m
[93m 68 [m  total_power /= [95m1000.0[m
[93m 69 [m  total_power /= [95m1000.0[m
[93m 70 [m  [93mreturn[m total_cycles, cycles_per_clusters, total_power, time_per_clusters
[93m 71 
 72 
 73 
 74 
 75 
 76 
 77 
 78 
 79 
 80 
 81 [m[93mdef[m [1m[96mparse_batterystats[m(path, target_package, logged_data, target_device_model):
[93m 82 [m  data = [1m[96mopen[m(path).read()
[93m 83 [m  [93mif[m(data[[95m0[m] != [95m"{"[m):
[93m 84 [m    data = data[[95m1[m:]
[93m 85 
 86 [m  [93mfor[m line [93min[m data.split([95m"[m[38;5;224m\n[m[95m"[m):
[93m 87 [m    [93mtry[m:
[93m 88 [m      json_data = json.loads(line)
[93m 89 [m      keys = json_data.keys()
[93m 90 
 91 
 92 [m      [93mfor[m target_package_name, app_name [93min[m [[target_package, [95m"AR"[m]]:
[93m 93 [m[8C[93mif[m(target_package_name [93min[m json_data.values()):
[93m 94 [m[10Ckeys = json_data.keys()
[93m 95 [m[10C[93mfor[m key [93min[m keys:[57;194H95,1[10C28%[56;5H[?25h[27m[23m[29m[m[H[2J[?25l[1;1H[93m 45 [m      ,[[95m52.70[m, [95m55.90[m, [95m59.73[m, [95m63.66[m, [95m67.28[m, [95m71.66[m, [95m76.47[m, [95m80.92[m, [95m85.81[m, [95m93.19[m, [95m98.06[m, [95m119.08[m, [95m122[m[2;1H[93m    [m[95m7.88[m, [95m129.85[m, [95m140.37[m, [95m151.22[m, [95m160.73[m, [95m175.5[m, [95m186.29[m, [95m223.89[m]],[38;5;224m\[m
[93m 46 [m      [95m"Pixel_4a"[m :[[[95m34.55[m, [95m46.57[m, [95m54.84[m, [95m68.16[m, [95m80.70[m, [95m86.6[m, [95m99.13[m, [95m111.05[m, [95m119.59[m, [95m128.45[m],[38;5;224m\[m
[93m 47 [m[8C[[95m42.23[m, [95m56.92[m, [95m63.41[m, [95m73.03[m, [95m80.38[m, [95m87.17[m, [95m96.55[m, [95m125.61[m, [95m145.51[m, [95m182.94[m, [95m198.92[m, [95m238.55[m[5;1H[93m    [m[95m4[m, [95m266.21[m]][38;5;224m\[m
[93m 48 [m      }
[93m 49 
 50 [m  freq_per_cluster = freq_per_device[target_device_model]
[93m 51 [m  power_per_cluster = power_per_device[target_device_model]
[93m 52 [m  total_cycles = [95m0[m
[93m 53 [m  total_power = [95m0[m
[93m 54 [m  cycles_per_clusters = defaultdict([1m[96mint[m)
[93m 55 [m  time_per_clusters = defaultdict([1m[96mint[m)
[93m 56 
 57 [m  [93mfor[m i [93min[m [1m[96mrange[m([1m[96mlen[m(cpu_running_time_per_freq)):
[93m 58 [m    power = power_per_cluster[i]
[93m 59 [m    cpu_running_time = cpu_running_time_per_freq[i]
[93m 60 [m    freq_set = freq_per_cluster[i]
[93m 61 [m    [93mfor[m key [93min[m cpu_running_time.keys():
[93m 62 [m      total_cycles += freq_set[[1m[96mint[m(key)] * cpu_running_time[key]
[93m 63 [m      cycles_per_clusters[i] += freq_set[[1m[96mint[m(key)] * cpu_running_time[key]
[93m 64 [m      total_power += cpu_running_time[key] * power[[1m[96mint[m(key)]
[93m 65 [m      time_per_clusters[i] += cpu_running_time[key]
[93m 66 
 67 [m  total_power /= [95m3600.0[m
[93m 68 [m  total_power /= [95m1000.0[m
[93m 69 [m  total_power /= [95m1000.0[m
[93m 70 [m  [93mreturn[m total_cycles, cycles_per_clusters, total_power, time_per_clusters
[93m 71 
 72 
 73 
 74 
 75 
 76 
 77 
 78 
 79 
 80 
 81 [m[93mdef[m [1m[96mparse_batterystats[m(path, target_package, logged_data, target_device_model):
[93m 82 [m  data = [1m[96mopen[m(path).read()
[93m 83 [m  [93mif[m(data[[95m0[m] != [95m"{"[m):
[93m 84 [m    data = data[[95m1[m:]
[93m 85 
 86 [m  [93mfor[m line [93min[m data.split([95m"[m[38;5;224m\n[m[95m"[m):
[93m 87 [m    [93mtry[m:
[93m 88 [m      json_data = json.loads(line)
[93m 89 [m      keys = json_data.keys()
[93m 90 
 91 
 92 [m      [93mfor[m target_package_name, app_name [93min[m [[target_package, [95m"AR"[m]]:
[93m 93 [m[8C[93mif[m(target_package_name [93min[m json_data.values()):
[93m 94 [m[10Ckeys = json_data.keys()
[93m 95 [m[10C[93mfor[m key [93min[m keys:[54;82H95,1[10C30%[53;5H[?25h[27m[23m[29m[m[H[2J[?25l[1;1H[93m 43 [m      [95m51.88[m, [95m53.34[m, [95m56.69[m, [95m58.78[m, [95m61.41[m, [95m65.11[m, [95m67.49[m, [95m70.61[m, [95m72.39[m, [95m75.43[m, [95m80.21[m, [95m85.05[m][38;5;224m\[m
[93m 44 [m      , [[95m50.35[m, [95m55.12[m, [95m61.45[m, [95m69.92[m, [95m77.48[m, [95m85.35[m, [95m95.17[m, [95m103.26[m, [95m118.19[m, [95m132.72[m, [95m143.83[m, [95m155.91[m, [95m1900[m[3;1H[93m    [m[95m.16[m, [95m213.11[m, [95m237.96[m, [95m266.97[m, [95m302.04[m][38;5;224m\[m
[93m 45 [m      ,[[95m52.70[m, [95m55.90[m, [95m59.73[m, [95m63.66[m, [95m67.28[m, [95m71.66[m, [95m76.47[m, [95m80.92[m, [95m85.81[m, [95m93.19[m, [95m98.06[m, [95m119.08[m, [95m127.88[m,  [5;1H[93m    [m[95m129.85[m, [95m140.37[m, [95m151.22[m, [95m160.73[m, [95m175.5[m, [95m186.29[m, [95m223.89[m]],[38;5;224m\[m
[93m 46 [m      [95m"Pixel_4a"[m :[[[95m34.55[m, [95m46.57[m, [95m54.84[m, [95m68.16[m, [95m80.70[m, [95m86.6[m, [95m99.13[m, [95m111.05[m, [95m119.59[m, [95m128.45[m],[38;5;224m\[m
[93m 47 [m[8C[[95m42.23[m, [95m56.92[m, [95m63.41[m, [95m73.03[m, [95m80.38[m, [95m87.17[m, [95m96.55[m, [95m125.61[m, [95m145.51[m, [95m182.94[m, [95m198.92[m, [95m238.54[m, [95m2666[m[8;1H[93m    [m[95m.21[m]][38;5;224m\[m
[93m 48 [m      }
[93m 49 
 50 [m  freq_per_cluster = freq_per_device[target_device_model]
[93m 51 [m  power_per_cluster = power_per_device[target_device_model]
[93m 52 [m  total_cycles = [95m0[m
[93m 53 [m  total_power = [95m0[m
[93m 54 [m  cycles_per_clusters = defaultdict([1m[96mint[m)
[93m 55 [m  time_per_clusters = defaultdict([1m[96mint[m)
[93m 56 
 57 [m  [93mfor[m i [93min[m [1m[96mrange[m([1m[96mlen[m(cpu_running_time_per_freq)):
[93m 58 [m    power = power_per_cluster[i]
[93m 59 [m    cpu_running_time = cpu_running_time_per_freq[i]
[93m 60 [m    freq_set = freq_per_cluster[i]
[93m 61 [m    [93mfor[m key [93min[m cpu_running_time.keys():
[93m 62 [m      total_cycles += freq_set[[1m[96mint[m(key)] * cpu_running_time[key]
[93m 63 [m      cycles_per_clusters[i] += freq_set[[1m[96mint[m(key)] * cpu_running_time[key]
[93m 64 [m      total_power += cpu_running_time[key] * power[[1m[96mint[m(key)]
[93m 65 [m      time_per_clusters[i] += cpu_running_time[key]
[93m 66 
 67 [m  total_power /= [95m3600.0[m
[93m 68 [m  total_power /= [95m1000.0[m
[93m 69 [m  total_power /= [95m1000.0[m
[93m 70 [m  [93mreturn[m total_cycles, cycles_per_clusters, total_power, time_per_clusters
[93m 71 
 72 
 73 
 74 
 75 
 76 
 77 
 78 
 79 
 80 
 81 [m[93mdef[m [1m[96mparse_batterystats[m(path, target_package, logged_data, target_device_model):
[93m 82 [m  data = [1m[96mopen[m(path).read()
[93m 83 [m  [93mif[m(data[[95m0[m] != [95m"{"[m):
[93m 84 [m    data = data[[95m1[m:]
[93m 85 
 86 [m  [93mfor[m line [93min[m data.split([95m"[m[38;5;224m\n[m[95m"[m):
[93m 87 [m    [93mtry[m:
[93m 88 [m      json_data = json.loads(line)
[93m 89 [m      keys = json_data.keys()
[93m 90 
 91 
 92 [m      [93mfor[m target_package_name, app_name [93min[m [[target_package, [95m"AR"[m]]:
[93m 93 [m[8C[93mif[m(target_package_name [93min[m json_data.values()):
[93m 94 [m[10Ckeys = json_data.keys()
[93m 95 [m[10C[93mfor[m key [93min[m keys:[57;88H95,1[10C30%[56;5H[?25h[?25l[57;88H[K[57;1H:[?2004h[?25hq[?25l[?2004l[23;2t[23;1t[57;1H[K[57;1H[?2004l[?1l>[?25h[>4;m[?1049l[23;0;0t]0;kwanghokim@kwanghokim-750XDA: ~/workspace/backup_files/AOSP_battery_logging_220120/scripts[01;32mkwanghokim@kwanghokim-750XDA[00m:[01;34m~/workspace/backup_files/AOSP_battery_logging_220120/scripts[00m$ exit
exit

Script done on 2022-01-24 10:29:53+09:00 [COMMAND_EXIT_CODE="0"]
